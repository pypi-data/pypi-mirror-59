webpackJsonpexports([65],{1614:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a(9),s=a(1),n=a.n(s),i=a(0),o=a.n(i),l=a(3),m=a.n(l),c=a(7),p=a.n(c),u=a(607),h=a(2),d=a(8),g=a(37),f=a(267),v=a(122),b=a(15),j=a(11),E=a(44),O=a(39),S=a(150),y=a(148),I=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},T=m()({displayName:"TeamDetails",propTypes:{routes:n.a.array},mixins:[d.default,O.a,p.a.listenTo(S.a,"onTeamStoreUpdate")],getInitialState:function(){var e=S.a.getBySlug(this.props.params.teamId);return{loading:!S.a.initialized,error:!1,team:e}},componentWillReceiveProps:function(e){var t=this.props.params;e.params.teamId===t.teamId&&e.params.orgId===t.orgId||this.setState({loading:!0,error:!1},this.fetchData)},onTeamStoreUpdate:function(){var e=S.a.getBySlug(this.props.params.teamId),t=!S.a.initialized,a=!t&&!e;this.setState({team:e,error:a,loading:t})},fetchData:function(){Object(u.b)(this.api,this.props.params)},onTeamChange:function(e){var t=this.state.team;if(e.slug!==t.slug){var a=this.props.params.orgId;r.browserHistory.push("/organizations/"+a+"/teams/"+e.slug+"/settings/")}else this.setState({team:I({},t,e)})},render:function(){var e=this.props,t=e.params,a=e.routes,r=e.children,s=this.state.team;if(this.state.loading)return o.a.createElement(j.default,null);if(!s||this.state.error)return o.a.createElement(b.default,{onRetry:this.fetchData});var n=Object(y.a)("",{routes:a,params:t,stepBack:-1}),i=this.getAccess(),l=n.startsWith("/settings/"),m=new Set(this.context.organization.features);return o.a.createElement("div",null,o.a.createElement("h3",null,m.has("new-teams")?o.a.createElement(f.a,{hideAvatar:!0,team:s,avatarSize:36}):s.name),!m.has("new-settings")&&i.has("team:admin")&&o.a.createElement(g.default,{anchorRight:!0,title:Object(h.t)("More")},o.a.createElement(E.default,{href:"/organizations/"+t.orgId+"/teams/"+t.teamId+"/remove/"},Object(h.t)("Remove Team"))),o.a.createElement("ul",{className:"nav nav-tabs border-bottom"},o.a.createElement(v.default,{to:n+"members/"},Object(h.t)("Members")),l?o.a.createElement(v.default,{to:n+"projects/"},Object(h.t)("Projects")):null,o.a.createElement(v.default,{to:n+"settings/"},Object(h.t)("Settings"))),r&&o.a.cloneElement(r,{team:s,onTeamChange:this.onTeamChange}))}});t.default=T}});
//# sourceMappingURL=65.js.map