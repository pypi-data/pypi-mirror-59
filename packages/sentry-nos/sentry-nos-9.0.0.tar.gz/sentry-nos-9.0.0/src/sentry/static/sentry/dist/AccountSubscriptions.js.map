{"version":3,"sources":["webpack:///67.js","webpack:///./app/views/settings/account/accountSubscriptions.jsx"],"names":["webpackJsonpexports","1579","module","__webpack_exports__","__webpack_require__","_classCallCheck","instance","Constructor","TypeError","_possibleConstructorReturn","self","call","ReferenceError","_inherits","subClass","superClass","prototype","Object","create","constructor","value","enumerable","writable","configurable","setPrototypeOf","__proto__","defineProperty","__WEBPACK_IMPORTED_MODULE_0_grid_emotion__","__WEBPACK_IMPORTED_MODULE_1_react__","__WEBPACK_IMPORTED_MODULE_1_react___default","n","__WEBPACK_IMPORTED_MODULE_2_react_emotion__","__WEBPACK_IMPORTED_MODULE_3_app_locale__","__WEBPACK_IMPORTED_MODULE_4_app_views_asyncView__","__WEBPACK_IMPORTED_MODULE_5_app_components_dateTime__","__WEBPACK_IMPORTED_MODULE_6_app_components_panels__","__WEBPACK_IMPORTED_MODULE_7_app_views_settings_components_settingsPageHeader__","__WEBPACK_IMPORTED_MODULE_8_app_components_switch__","__WEBPACK_IMPORTED_MODULE_9_app_stores_indicatorStore__","__WEBPACK_IMPORTED_MODULE_10_app_views_settings_components_text_textBlock__","__WEBPACK_IMPORTED_MODULE_11_app_views_settings_components_emptyMessage__","_extends","assign","target","i","arguments","length","source","key","hasOwnProperty","_createClass","defineProperties","props","descriptor","protoProps","staticProps","ENDPOINT","SubscriptionName","Description","p","theme","gray3","SubscribedDescription","gray2","AccountSubscriptions","_AsyncView","_ref","_temp","_this","_ret","this","_len","args","Array","_key","getPrototypeOf","apply","concat","handleToggle","subscription","index","e","subscribed","oldSubscriptions","state","subscriptions","setState","newSubscriptions","slice","subscribedDate","Date","api","request","method","data","listId","success","addSuccess","listName","error","err","addError","_this2","a","createElement","title","map","align","w","pr","listDescription","email","shortDate","date","isActive","size","toggle","bind","href"],"mappings":"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","file":"67.js","sourcesContent":["webpackJsonpexports([67],{\n\n/***/ 1579:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_grid_emotion__ = __webpack_require__(14);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_react__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_react__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_react_emotion__ = __webpack_require__(5);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_app_locale__ = __webpack_require__(2);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_app_views_asyncView__ = __webpack_require__(92);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_app_components_dateTime__ = __webpack_require__(103);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_app_components_panels__ = __webpack_require__(18);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7_app_views_settings_components_settingsPageHeader__ = __webpack_require__(52);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8_app_components_switch__ = __webpack_require__(214);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9_app_stores_indicatorStore__ = __webpack_require__(30);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10_app_views_settings_components_text_textBlock__ = __webpack_require__(81);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_11_app_views_settings_components_emptyMessage__ = __webpack_require__(178);\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar ENDPOINT = '/users/me/subscriptions/';\n\nvar SubscriptionName = /*#__PURE__*/Object(__WEBPACK_IMPORTED_MODULE_2_react_emotion__[\"default\"])('div', {\n  target: 'er83abj0'\n})('font-size:1.2em;');\nvar Description = /*#__PURE__*/Object(__WEBPACK_IMPORTED_MODULE_2_react_emotion__[\"default\"])('div', {\n  target: 'er83abj1'\n})('font-size:0.8em;margin-top:6px;color:', function (p) {\n  return p.theme.gray3;\n}, ';');\n\nvar SubscribedDescription = /*#__PURE__*/Object(__WEBPACK_IMPORTED_MODULE_2_react_emotion__[\"default\"])(Description, {\n  target: 'er83abj2'\n})('color:', function (p) {\n  return p.theme.gray2;\n}, ';');\n\nvar AccountSubscriptions = function (_AsyncView) {\n  _inherits(AccountSubscriptions, _AsyncView);\n\n  function AccountSubscriptions() {\n    var _ref;\n\n    var _temp, _this, _ret;\n\n    _classCallCheck(this, AccountSubscriptions);\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = AccountSubscriptions.__proto__ || Object.getPrototypeOf(AccountSubscriptions)).call.apply(_ref, [this].concat(args))), _this), _this.handleToggle = function (subscription, index, e) {\n      var subscribed = !subscription.subscribed;\n      var oldSubscriptions = _this.state.subscriptions;\n\n      _this.setState(function (state) {\n        var newSubscriptions = state.subscriptions.slice();\n        newSubscriptions[index] = _extends({}, subscription, {\n          subscribed: subscribed,\n          subscribedDate: new Date()\n        });\n        return _extends({}, state, {\n          subscriptions: newSubscriptions\n        });\n      });\n\n      _this.api.request(ENDPOINT, {\n        method: 'PUT',\n        data: {\n          listId: subscription.listId,\n          subscribed: subscribed\n        },\n        success: function success(data) {\n          __WEBPACK_IMPORTED_MODULE_9_app_stores_indicatorStore__[\"default\"].addSuccess((subscribed ? 'Subscribed' : 'Unsubscribed') + ' to ' + subscription.listName);\n        },\n        error: function error(err) {\n          __WEBPACK_IMPORTED_MODULE_9_app_stores_indicatorStore__[\"default\"].addError('Unable to ' + (subscribed ? '' : 'un') + 'subscribe to ' + subscription.listName);\n          _this.setState({ subscriptions: oldSubscriptions });\n        }\n      });\n    }, _temp), _possibleConstructorReturn(_this, _ret);\n  }\n\n  _createClass(AccountSubscriptions, [{\n    key: 'getEndpoints',\n    value: function getEndpoints() {\n      return [['subscriptions', ENDPOINT]];\n    }\n  }, {\n    key: 'getTitle',\n    value: function getTitle() {\n      return 'Subscriptions';\n    }\n  }, {\n    key: 'renderBody',\n    value: function renderBody() {\n      var _this2 = this;\n\n      return __WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement(\n        'div',\n        null,\n        __WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_7_app_views_settings_components_settingsPageHeader__[\"default\"], { title: 'Subscriptions' }),\n        __WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement(\n          __WEBPACK_IMPORTED_MODULE_10_app_views_settings_components_text_textBlock__[\"default\"],\n          null,\n          'Sentry is committed to respecting your inbox. Our goal is to provide useful content and resources that make fixing errors less painful. Enjoyable even.'\n        ),\n        __WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement(\n          __WEBPACK_IMPORTED_MODULE_10_app_views_settings_components_text_textBlock__[\"default\"],\n          null,\n          'As part of our compliance with the EU\\u2019s General Data Protection Regulation (GDPR), starting on 25 May 2018, we\\u2019ll only email you according to the marketing categories to which you\\u2019ve explicitly opted-in.'\n        ),\n        __WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement(\n          __WEBPACK_IMPORTED_MODULE_6_app_components_panels__[\"a\" /* Panel */],\n          null,\n          this.state.subscriptions.length ? __WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement(\n            'div',\n            null,\n            __WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement(\n              __WEBPACK_IMPORTED_MODULE_6_app_components_panels__[\"e\" /* PanelHeader */],\n              null,\n              Object(__WEBPACK_IMPORTED_MODULE_3_app_locale__[\"t\"])('Subscription')\n            ),\n            __WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement(\n              __WEBPACK_IMPORTED_MODULE_6_app_components_panels__[\"c\" /* PanelBody */],\n              null,\n              this.state.subscriptions.map(function (subscription, index) {\n                return __WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement(\n                  __WEBPACK_IMPORTED_MODULE_6_app_components_panels__[\"f\" /* PanelItem */],\n                  { p: 2, align: 'center', key: subscription.listId },\n                  __WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement(\n                    __WEBPACK_IMPORTED_MODULE_0_grid_emotion__[\"Box\"],\n                    { w: 1 / 2, pr: 2 },\n                    __WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement(\n                      SubscriptionName,\n                      null,\n                      subscription.listName\n                    ),\n                    subscription.listDescription && __WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement(\n                      Description,\n                      null,\n                      subscription.listDescription\n                    ),\n                    subscription.subscribed ? __WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement(\n                      SubscribedDescription,\n                      null,\n                      __WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement(\n                        'div',\n                        null,\n                        subscription.email,\n                        ' on',\n                        ' ',\n                        __WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_5_app_components_dateTime__[\"default\"], { shortDate: true, date: subscription.subscribedDate })\n                      )\n                    ) : __WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement(\n                      SubscribedDescription,\n                      null,\n                      'Not currently subscribed'\n                    )\n                  ),\n                  __WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement(\n                    __WEBPACK_IMPORTED_MODULE_0_grid_emotion__[\"Box\"],\n                    null,\n                    __WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_8_app_components_switch__[\"default\"], {\n                      isActive: subscription.subscribed,\n                      size: 'lg',\n                      toggle: _this2.handleToggle.bind(_this2, subscription, index)\n                    })\n                  )\n                );\n              }),\n              ' '\n            )\n          ) : __WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement(\n            __WEBPACK_IMPORTED_MODULE_11_app_views_settings_components_emptyMessage__[\"a\" /* default */],\n            null,\n            Object(__WEBPACK_IMPORTED_MODULE_3_app_locale__[\"t\"])(\"There's no subscription backend present.\")\n          )\n        ),\n        __WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement(\n          __WEBPACK_IMPORTED_MODULE_10_app_views_settings_components_text_textBlock__[\"default\"],\n          null,\n          'We\\u2019re applying GDPR consent and privacy policies to all Sentry contacts, regardless of location. You\\u2019ll be able to manage your subscriptions here and from an Unsubscribe link in the footer of all marketing emails.'\n        ),\n        __WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement(\n          __WEBPACK_IMPORTED_MODULE_10_app_views_settings_components_text_textBlock__[\"default\"],\n          null,\n          'Please contact ',\n          __WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement(\n            'a',\n            { href: 'mailto:learn@sentry.io' },\n            'learn@sentry.io'\n          ),\n          ' with any questions or suggestions.'\n        )\n      );\n    }\n  }]);\n\n  return AccountSubscriptions;\n}(__WEBPACK_IMPORTED_MODULE_4_app_views_asyncView__[\"default\"]);\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (AccountSubscriptions);\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// 67.js","import {Box} from 'grid-emotion';\nimport React from 'react';\nimport styled from 'react-emotion';\n\nimport {t} from 'app/locale';\nimport AsyncView from 'app/views/asyncView';\nimport DateTime from 'app/components/dateTime';\nimport {Panel, PanelBody, PanelHeader, PanelItem} from 'app/components/panels';\nimport SettingsPageHeader from 'app/views/settings/components/settingsPageHeader';\nimport Switch from 'app/components/switch';\nimport IndicatorStore from 'app/stores/indicatorStore';\nimport TextBlock from 'app/views/settings/components/text/textBlock';\nimport EmptyMessage from 'app/views/settings/components/emptyMessage';\n\nconst ENDPOINT = '/users/me/subscriptions/';\n\nconst SubscriptionName = styled.div`\n  font-size: 1.2em;\n`;\nconst Description = styled.div`\n  font-size: 0.8em;\n  margin-top: 6px;\n  color: ${p => p.theme.gray3};\n`;\n\nconst SubscribedDescription = styled(Description)`\n  color: ${p => p.theme.gray2};\n`;\n\nclass AccountSubscriptions extends AsyncView {\n  getEndpoints() {\n    return [['subscriptions', ENDPOINT]];\n  }\n\n  getTitle() {\n    return 'Subscriptions';\n  }\n\n  handleToggle = (subscription, index, e) => {\n    let subscribed = !subscription.subscribed;\n    let oldSubscriptions = this.state.subscriptions;\n\n    this.setState(state => {\n      let newSubscriptions = state.subscriptions.slice();\n      newSubscriptions[index] = {\n        ...subscription,\n        subscribed,\n        subscribedDate: new Date(),\n      };\n      return {\n        ...state,\n        subscriptions: newSubscriptions,\n      };\n    });\n\n    this.api.request(ENDPOINT, {\n      method: 'PUT',\n      data: {\n        listId: subscription.listId,\n        subscribed,\n      },\n      success: data => {\n        IndicatorStore.addSuccess(\n          `${subscribed ? 'Subscribed' : 'Unsubscribed'} to ${subscription.listName}`\n        );\n      },\n      error: err => {\n        IndicatorStore.addError(\n          `Unable to ${subscribed ? '' : 'un'}subscribe to ${subscription.listName}`\n        );\n        this.setState({subscriptions: oldSubscriptions});\n      },\n    });\n  };\n\n  renderBody() {\n    return (\n      <div>\n        <SettingsPageHeader title=\"Subscriptions\" />\n        <TextBlock>\n          Sentry is committed to respecting your inbox. Our goal is to provide useful\n          content and resources that make fixing errors less painful. Enjoyable even.\n        </TextBlock>\n\n        <TextBlock>\n          As part of our compliance with the EU’s General Data Protection Regulation\n          (GDPR), starting on 25 May 2018, we’ll only email you according to the marketing\n          categories to which you’ve explicitly opted-in.\n        </TextBlock>\n\n        <Panel>\n          {this.state.subscriptions.length ? (\n            <div>\n              <PanelHeader>{t('Subscription')}</PanelHeader>\n              <PanelBody>\n                {this.state.subscriptions.map((subscription, index) => (\n                  <PanelItem p={2} align=\"center\" key={subscription.listId}>\n                    <Box w={1 / 2} pr={2}>\n                      <SubscriptionName>{subscription.listName}</SubscriptionName>\n                      {subscription.listDescription && (\n                        <Description>{subscription.listDescription}</Description>\n                      )}\n                      {subscription.subscribed ? (\n                        <SubscribedDescription>\n                          <div>\n                            {subscription.email} on{' '}\n                            <DateTime shortDate date={subscription.subscribedDate} />\n                          </div>\n                        </SubscribedDescription>\n                      ) : (\n                        <SubscribedDescription>\n                          Not currently subscribed\n                        </SubscribedDescription>\n                      )}\n                    </Box>\n                    <Box>\n                      <Switch\n                        isActive={subscription.subscribed}\n                        size=\"lg\"\n                        toggle={this.handleToggle.bind(this, subscription, index)}\n                      />\n                    </Box>\n                  </PanelItem>\n                ))}{' '}\n              </PanelBody>\n            </div>\n          ) : (\n            <EmptyMessage>{t(\"There's no subscription backend present.\")}</EmptyMessage>\n          )}\n        </Panel>\n        <TextBlock>\n          We’re applying GDPR consent and privacy policies to all Sentry contacts,\n          regardless of location. You’ll be able to manage your subscriptions here and\n          from an Unsubscribe link in the footer of all marketing emails.\n        </TextBlock>\n\n        <TextBlock>\n          Please contact <a href=\"mailto:learn@sentry.io\">learn@sentry.io</a> with any\n          questions or suggestions.\n        </TextBlock>\n      </div>\n    );\n  }\n}\n\nexport default AccountSubscriptions;\n\n\n\n// WEBPACK FOOTER //\n// ./app/views/settings/account/accountSubscriptions.jsx"],"sourceRoot":""}