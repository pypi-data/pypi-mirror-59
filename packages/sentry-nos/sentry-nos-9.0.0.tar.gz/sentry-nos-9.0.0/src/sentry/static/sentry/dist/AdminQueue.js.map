{"version":3,"sources":["webpack:///58.js","webpack:///./app/views/admin/adminQueue.jsx","webpack:///./app/components/internalStatChart.jsx"],"names":["webpackJsonpexports","1629","module","__webpack_exports__","__webpack_require__","_toConsumableArray","arr","Array","isArray","i","arr2","length","from","_classCallCheck","instance","Constructor","TypeError","_possibleConstructorReturn","self","call","ReferenceError","_inherits","subClass","superClass","prototype","Object","create","constructor","value","enumerable","writable","configurable","setPrototypeOf","__proto__","defineProperty","d","AdminQueue","__WEBPACK_IMPORTED_MODULE_0_react__","__WEBPACK_IMPORTED_MODULE_0_react___default","n","__WEBPACK_IMPORTED_MODULE_1_app_views_asyncView__","__WEBPACK_IMPORTED_MODULE_2_app_components_internalStatChart__","__WEBPACK_IMPORTED_MODULE_3_app_components_forms__","_extends","assign","target","arguments","source","key","hasOwnProperty","_createClass","defineProperties","props","descriptor","protoProps","staticProps","_get","get","object","property","receiver","Function","desc","getOwnPropertyDescriptor","undefined","parent","getPrototypeOf","getter","_AsyncView","this","apply","timeWindow","since","Date","getTime","resolution","taskName","seconds","Error","setState","activeTask","_ref","_this2","_state","state","taskList","a","createElement","className","map","r","onClick","changeWindow","stat","label","name","onChange","changeTask","allowClear","choices","concat","t","height","1711","__WEBPACK_IMPORTED_MODULE_0_lodash_isEqual__","__WEBPACK_IMPORTED_MODULE_0_lodash_isEqual___default","__WEBPACK_IMPORTED_MODULE_1_prop_types__","__WEBPACK_IMPORTED_MODULE_1_prop_types___default","__WEBPACK_IMPORTED_MODULE_2_react__","__WEBPACK_IMPORTED_MODULE_2_react___default","__WEBPACK_IMPORTED_MODULE_3_create_react_class__","__WEBPACK_IMPORTED_MODULE_3_create_react_class___default","__WEBPACK_IMPORTED_MODULE_4_app_mixins_apiMixin__","__WEBPACK_IMPORTED_MODULE_5_app_components_barChart__","__WEBPACK_IMPORTED_MODULE_6_app_components_loadingError__","__WEBPACK_IMPORTED_MODULE_7_app_components_loadingIndicator__","_slicedToArray","sliceIterator","_arr","_n","_d","_e","_s","_i","Symbol","iterator","next","done","push","err","displayName","propTypes","number","isRequired","string","mixins","getDefaultProps","getInitialState","error","loading","data","componentWillMount","fetchData","componentWillReceiveProps","nextProps","shouldComponentUpdate","nextState","_this","api","request","method","success","getChartPoints","_ref2","x","y","render","onRetry","points"],"mappings":"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","file":"58.js","sourcesContent":["webpackJsonpexports([58],{\n\n/***/ 1629:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return AdminQueue; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_react__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_app_views_asyncView__ = __webpack_require__(92);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_app_components_internalStatChart__ = __webpack_require__(1711);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_app_components_forms__ = __webpack_require__(55);\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n/*eslint getsentry/jsx-needs-il8n:0*/\n\n\n\n\n\n\nvar AdminQueue = function (_AsyncView) {\n  _inherits(AdminQueue, _AsyncView);\n\n  function AdminQueue() {\n    _classCallCheck(this, AdminQueue);\n\n    return _possibleConstructorReturn(this, (AdminQueue.__proto__ || Object.getPrototypeOf(AdminQueue)).apply(this, arguments));\n  }\n\n  _createClass(AdminQueue, [{\n    key: 'getDefaultState',\n    value: function getDefaultState() {\n      return _extends({}, _get(AdminQueue.prototype.__proto__ || Object.getPrototypeOf(AdminQueue.prototype), 'getDefaultState', this).call(this), {\n        timeWindow: '1w',\n        since: new Date().getTime() / 1000 - 3600 * 24 * 7,\n        resolution: '1h',\n        taskName: null\n      });\n    }\n  }, {\n    key: 'getEndpoints',\n    value: function getEndpoints() {\n      return [['taskList', '/internal/queue/tasks/']];\n    }\n  }, {\n    key: 'changeWindow',\n    value: function changeWindow(timeWindow) {\n      var seconds = void 0;\n      if (timeWindow === '1h') {\n        seconds = 3600;\n      } else if (timeWindow === '1d') {\n        seconds = 3600 * 24;\n      } else if (timeWindow === '1w') {\n        seconds = 3600 * 24 * 7;\n      } else {\n        throw new Error('Invalid time window');\n      }\n      this.setState({\n        since: new Date().getTime() / 1000 - seconds,\n        timeWindow: timeWindow\n      });\n    }\n  }, {\n    key: 'changeTask',\n    value: function changeTask(value) {\n      this.setState({ activeTask: value });\n    }\n  }, {\n    key: 'renderBody',\n    value: function renderBody() {\n      var _this2 = this,\n          _ref;\n\n      var _state = this.state,\n          activeTask = _state.activeTask,\n          taskList = _state.taskList;\n\n\n      return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n        'div',\n        null,\n        __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n          'div',\n          { className: 'btn-group pull-right' },\n          ['1h', '1d', '1w'].map(function (r) {\n            return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n              'a',\n              {\n                className: 'btn btn-sm ' + (r == _this2.state.timeWindow ? 'btn-primary' : 'btn-default'),\n                onClick: function onClick() {\n                  return _this2.changeWindow(r);\n                },\n                key: r\n              },\n              r\n            );\n          })\n        ),\n        __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n          'h3',\n          { className: 'no-border' },\n          'Queue Overview'\n        ),\n        __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n          'div',\n          { className: 'box' },\n          __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n            'div',\n            { className: 'box-header' },\n            __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n              'h3',\n              null,\n              'Global Throughput'\n            )\n          ),\n          __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_2_app_components_internalStatChart__[\"a\" /* default */], {\n            since: this.state.since,\n            resolution: this.state.resolution,\n            stat: 'jobs.all.started',\n            label: 'jobs started'\n          })\n        ),\n        __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n          'h3',\n          { className: 'no-border' },\n          'Task Details'\n        ),\n        __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n          'div',\n          null,\n          __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n            'div',\n            null,\n            __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n              'label',\n              null,\n              'Show details for task:'\n            ),\n            __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_3_app_components_forms__[\"Select2Field\"], {\n              name: 'task',\n              onChange: this.changeTask,\n              value: activeTask,\n              allowClear: true,\n              choices: (_ref = ['']).concat.apply(_ref, _toConsumableArray(taskList)).map(function (t) {\n                return [t, t];\n              })\n            })\n          ),\n          activeTask ? __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n            'div',\n            null,\n            __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n              'div',\n              { className: 'box box-mini', key: 'jobs.started' },\n              __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n                'div',\n                { className: 'box-header' },\n                'Jobs Started ',\n                __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n                  'small',\n                  null,\n                  activeTask\n                )\n              ),\n              __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_2_app_components_internalStatChart__[\"a\" /* default */], {\n                since: this.state.since,\n                resolution: this.state.resolution,\n                stat: 'jobs.started.' + this.state.activeTask,\n                label: 'jobs',\n                height: 100\n              })\n            ),\n            __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n              'div',\n              { className: 'box box-mini', key: 'jobs.finished' },\n              __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n                'div',\n                { className: 'box-header' },\n                'Jobs Finished ',\n                __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n                  'small',\n                  null,\n                  activeTask\n                )\n              ),\n              __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_2_app_components_internalStatChart__[\"a\" /* default */], {\n                since: this.state.since,\n                resolution: this.state.resolution,\n                stat: 'jobs.finished.' + this.state.activeTask,\n                label: 'jobs',\n                height: 100\n              })\n            )\n          ) : null\n        )\n      );\n    }\n  }]);\n\n  return AdminQueue;\n}(__WEBPACK_IMPORTED_MODULE_1_app_views_asyncView__[\"default\"]);\n\n\n\n/***/ }),\n\n/***/ 1711:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_lodash_isEqual__ = __webpack_require__(28);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_lodash_isEqual___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_lodash_isEqual__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_prop_types__ = __webpack_require__(1);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_prop_types___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_prop_types__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_react__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_react__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_create_react_class__ = __webpack_require__(3);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_create_react_class___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_create_react_class__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_app_mixins_apiMixin__ = __webpack_require__(8);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_app_components_barChart__ = __webpack_require__(215);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_app_components_loadingError__ = __webpack_require__(15);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7_app_components_loadingIndicator__ = __webpack_require__(11);\n\n\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\n/*eslint getsentry/jsx-needs-il8n:0*/\n\n\n\n\n\n\n\n\n\n\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (__WEBPACK_IMPORTED_MODULE_3_create_react_class___default()({\n  displayName: 'internalStatChart',\n\n  propTypes: {\n    since: __WEBPACK_IMPORTED_MODULE_1_prop_types___default.a.number.isRequired,\n    resolution: __WEBPACK_IMPORTED_MODULE_1_prop_types___default.a.string.isRequired,\n    stat: __WEBPACK_IMPORTED_MODULE_1_prop_types___default.a.string.isRequired,\n    label: __WEBPACK_IMPORTED_MODULE_1_prop_types___default.a.string,\n    height: __WEBPACK_IMPORTED_MODULE_1_prop_types___default.a.number\n  },\n\n  mixins: [__WEBPACK_IMPORTED_MODULE_4_app_mixins_apiMixin__[\"default\"]],\n\n  getDefaultProps: function getDefaultProps() {\n    return {\n      height: 150\n    };\n  },\n  getInitialState: function getInitialState() {\n    return {\n      error: false,\n      loading: true,\n      data: null\n    };\n  },\n  componentWillMount: function componentWillMount() {\n    this.fetchData();\n  },\n  componentWillReceiveProps: function componentWillReceiveProps(nextProps) {\n    if (!__WEBPACK_IMPORTED_MODULE_0_lodash_isEqual___default()(nextProps, this.props)) {\n      this.setState({\n        loading: true\n      }, this.fetchData);\n    }\n  },\n  shouldComponentUpdate: function shouldComponentUpdate(nextProps, nextState) {\n    return this.state.loading !== nextState.loading;\n  },\n  fetchData: function fetchData() {\n    var _this = this;\n\n    this.api.request('/internal/stats/', {\n      method: 'GET',\n      data: {\n        since: this.props.since,\n        resolution: this.props.resolution,\n        key: this.props.stat\n      },\n      success: function success(data) {\n        _this.setState({\n          data: data,\n          loading: false,\n          error: false\n        });\n      },\n      error: function error(data) {\n        _this.setState({\n          error: true\n        });\n      }\n    });\n  },\n  getChartPoints: function getChartPoints() {\n    return this.state.data.map(function (_ref) {\n      var _ref2 = _slicedToArray(_ref, 2),\n          x = _ref2[0],\n          y = _ref2[1];\n\n      return { x: x, y: y };\n    });\n  },\n  render: function render() {\n    if (this.state.loading) return __WEBPACK_IMPORTED_MODULE_2_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_7_app_components_loadingIndicator__[\"default\"], null);else if (this.state.error) return __WEBPACK_IMPORTED_MODULE_2_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_6_app_components_loadingError__[\"default\"], { onRetry: this.fetchData });\n\n    return __WEBPACK_IMPORTED_MODULE_2_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_5_app_components_barChart__[\"default\"], {\n      points: this.getChartPoints(),\n      className: 'standard-barchart',\n      label: this.props.label,\n      height: this.props.height\n    });\n  }\n}));\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// 58.js","/*eslint getsentry/jsx-needs-il8n:0*/\nimport React from 'react';\n\nimport AsyncView from 'app/views/asyncView';\nimport InternalStatChart from 'app/components/internalStatChart';\nimport {Select2Field} from 'app/components/forms';\n\nexport default class AdminQueue extends AsyncView {\n  getDefaultState() {\n    return {\n      ...super.getDefaultState(),\n      timeWindow: '1w',\n      since: new Date().getTime() / 1000 - 3600 * 24 * 7,\n      resolution: '1h',\n      taskName: null,\n    };\n  }\n\n  getEndpoints() {\n    return [['taskList', '/internal/queue/tasks/']];\n  }\n\n  changeWindow(timeWindow) {\n    let seconds;\n    if (timeWindow === '1h') {\n      seconds = 3600;\n    } else if (timeWindow === '1d') {\n      seconds = 3600 * 24;\n    } else if (timeWindow === '1w') {\n      seconds = 3600 * 24 * 7;\n    } else {\n      throw new Error('Invalid time window');\n    }\n    this.setState({\n      since: new Date().getTime() / 1000 - seconds,\n      timeWindow,\n    });\n  }\n\n  changeTask(value) {\n    this.setState({activeTask: value});\n  }\n\n  renderBody() {\n    let {activeTask, taskList} = this.state;\n\n    return (\n      <div>\n        <div className=\"btn-group pull-right\">\n          {['1h', '1d', '1w'].map(r => {\n            return (\n              <a\n                className={`btn btn-sm ${r == this.state.timeWindow\n                  ? 'btn-primary'\n                  : 'btn-default'}`}\n                onClick={() => this.changeWindow(r)}\n                key={r}\n              >\n                {r}\n              </a>\n            );\n          })}\n        </div>\n\n        <h3 className=\"no-border\">Queue Overview</h3>\n\n        <div className=\"box\">\n          <div className=\"box-header\">\n            <h3>Global Throughput</h3>\n          </div>\n          <InternalStatChart\n            since={this.state.since}\n            resolution={this.state.resolution}\n            stat=\"jobs.all.started\"\n            label=\"jobs started\"\n          />\n        </div>\n\n        <h3 className=\"no-border\">Task Details</h3>\n\n        <div>\n          <div>\n            <label>Show details for task:</label>\n            <Select2Field\n              name=\"task\"\n              onChange={this.changeTask}\n              value={activeTask}\n              allowClear={true}\n              choices={[''].concat(...taskList).map(t => [t, t])}\n            />\n          </div>\n          {activeTask ? (\n            <div>\n              <div className=\"box box-mini\" key=\"jobs.started\">\n                <div className=\"box-header\">\n                  Jobs Started <small>{activeTask}</small>\n                </div>\n                <InternalStatChart\n                  since={this.state.since}\n                  resolution={this.state.resolution}\n                  stat={`jobs.started.${this.state.activeTask}`}\n                  label=\"jobs\"\n                  height={100}\n                />\n              </div>\n              <div className=\"box box-mini\" key=\"jobs.finished\">\n                <div className=\"box-header\">\n                  Jobs Finished <small>{activeTask}</small>\n                </div>\n                <InternalStatChart\n                  since={this.state.since}\n                  resolution={this.state.resolution}\n                  stat={`jobs.finished.${this.state.activeTask}`}\n                  label=\"jobs\"\n                  height={100}\n                />\n              </div>\n            </div>\n          ) : null}\n        </div>\n      </div>\n    );\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./app/views/admin/adminQueue.jsx","/*eslint getsentry/jsx-needs-il8n:0*/\nimport PropTypes from 'prop-types';\n\nimport React from 'react';\nimport createReactClass from 'create-react-class';\nimport _ from 'lodash';\n\nimport ApiMixin from 'app/mixins/apiMixin';\nimport BarChart from 'app/components/barChart';\nimport LoadingError from 'app/components/loadingError';\nimport LoadingIndicator from 'app/components/loadingIndicator';\n\nexport default createReactClass({\n  displayName: 'internalStatChart',\n\n  propTypes: {\n    since: PropTypes.number.isRequired,\n    resolution: PropTypes.string.isRequired,\n    stat: PropTypes.string.isRequired,\n    label: PropTypes.string,\n    height: PropTypes.number,\n  },\n\n  mixins: [ApiMixin],\n\n  getDefaultProps() {\n    return {\n      height: 150,\n    };\n  },\n\n  getInitialState() {\n    return {\n      error: false,\n      loading: true,\n      data: null,\n    };\n  },\n\n  componentWillMount() {\n    this.fetchData();\n  },\n\n  componentWillReceiveProps(nextProps) {\n    if (!_.isEqual(nextProps, this.props)) {\n      this.setState(\n        {\n          loading: true,\n        },\n        this.fetchData\n      );\n    }\n  },\n\n  shouldComponentUpdate(nextProps, nextState) {\n    return this.state.loading !== nextState.loading;\n  },\n\n  fetchData() {\n    this.api.request('/internal/stats/', {\n      method: 'GET',\n      data: {\n        since: this.props.since,\n        resolution: this.props.resolution,\n        key: this.props.stat,\n      },\n      success: data => {\n        this.setState({\n          data,\n          loading: false,\n          error: false,\n        });\n      },\n      error: data => {\n        this.setState({\n          error: true,\n        });\n      },\n    });\n  },\n\n  getChartPoints() {\n    return this.state.data.map(([x, y]) => {\n      return {x, y};\n    });\n  },\n\n  render() {\n    if (this.state.loading) return <LoadingIndicator />;\n    else if (this.state.error) return <LoadingError onRetry={this.fetchData} />;\n\n    return (\n      <BarChart\n        points={this.getChartPoints()}\n        className=\"standard-barchart\"\n        label={this.props.label}\n        height={this.props.height}\n      />\n    );\n  },\n});\n\n\n\n// WEBPACK FOOTER //\n// ./app/components/internalStatChart.jsx"],"sourceRoot":""}