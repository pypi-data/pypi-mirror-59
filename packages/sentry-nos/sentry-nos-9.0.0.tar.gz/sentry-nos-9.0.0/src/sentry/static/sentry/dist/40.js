webpackJsonpexports([40],{1597:function(e,t,n){"use strict";function r(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function a(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"default",function(){return U});var c,s,u=n(14),d=n(9),p=n(50),f=n.n(p),b=n(1),h=n.n(b),y=n(0),m=n.n(y),j=n(3),g=n.n(j),E=n(5),O=n(80),v=n(39),k=n(2),w=n(8),_=n(92),S=n(26),x=n(189),C=n(119),P=n(178),T=n(71),R=n(54),D=n(18),I=n(1730),K=n(6),z=n(52),A=n(81),N=n(148),L=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),q=g()({displayName:"KeyRow",propTypes:{orgId:h.a.string.isRequired,projectId:h.a.string.isRequired,data:h.a.object.isRequired,access:h.a.object.isRequired,onToggle:h.a.func.isRequired,onRemove:h.a.func.isRequired},mixins:[w.default],getInitialState:function(){return{loading:!1,error:!1}},handleRemove:function(){var e=this;if(!this.state.loading){var t=Object(O.b)(Object(k.t)("Saving changes..")),n=this.props,r=n.orgId,a=n.projectId,o=n.data;this.api.request("/projects/"+r+"/"+a+"/keys/"+o.id+"/",{method:"DELETE",success:function(n,r,a){e.props.onRemove(),Object(O.e)(t),Object(O.d)(Object(k.t)("Revoked key"))},error:function(){e.setState({error:!0,loading:!1}),Object(O.e)(t),Object(O.a)(Object(k.t)("Unable to revoke key"))}})}},handleUpdate:function(e,t){var n=this;if(!this.state.loading){var r=Object(O.b)(Object(k.t)("Saving changes..")),a=this.props,o=a.orgId,i=a.projectId,l=a.data;this.api.request("/projects/"+o+"/"+i+"/keys/"+l.id+"/",{method:"PUT",data:e,success:function(e,n,a){Object(O.e)(r),t(e)},error:function(){n.setState({error:!0,loading:!1}),Object(O.e)(r)}})}},handleEnable:function(){this.handleUpdate({isActive:!0},this.props.onToggle)},handleDisable:function(){this.handleUpdate({isActive:!1},this.props.onToggle)},render:function(){var e=this.props,t=e.access,n=e.data,r=Object(N.a)(n.id+"/",this.props),a=[m.a.createElement(S.default,{key:"edit",to:r,size:"small"},Object(k.t)("Details"))];return t.has("project:write")&&(a.push(m.a.createElement(S.default,{key:"toggle",size:"small",onClick:n.isActive?this.handleDisable:this.handleEnable,disabled:this.state.loading},n.isActive?Object(k.t)("Disable"):Object(k.t)("Enable"))),a.push(m.a.createElement(C.a,{key:"remove",priority:"danger",disabled:this.state.loading,onConfirm:this.handleRemove,confirmText:Object(k.t)("Remove Key"),message:Object(k.t)("Are you sure you want to remove this key? This action is irreversible.")},m.a.createElement(S.default,{size:"small",disabled:this.state.loading},m.a.createElement("span",{className:"icon icon-trash"}))))),m.a.createElement(M,{disabled:!n.isActive},m.a.createElement(D.e,{hasButtons:!0},m.a.createElement(u.Box,{flex:"1"},m.a.createElement(B,{to:r},n.label),!n.isActive&&m.a.createElement("small",null," ",m.a.createElement("i",{className:"icon icon-ban"})," ",Object(k.t)("Disabled"))),m.a.createElement(u.Flex,{align:"center"},a.map(function(e,t){return m.a.createElement(F,{key:t}," ",e)}))),m.a.createElement(x.a,{clipHeight:300,defaultClipped:!0,btnClassName:"btn btn-default btn-sm",btnText:Object(k.t)("Expand")},m.a.createElement(D.c,null,m.a.createElement(I.a,{projectId:""+n.projectId,data:n}))))}}),U=(s=c=function(e){function t(){var e,n,r,l;o(this,t);for(var c=arguments.length,s=Array(c),u=0;u<c;u++)s[u]=arguments[u];return n=r=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),r.handleRemoveKey=function(e){r.setState(function(t){return{keyList:t.keyList.filter(function(t){return t.id!==e.id})}})},r.handleToggleKey=function(e,t){r.setState(function(n){var r=n.keyList;return r.forEach(function(n){n.id===e.id&&(n.isActive=t.isActive)}),{keyList:r}})},r.handleCreateKey=function(){var e=r.props.params,t=e.orgId,n=e.projectId;r.api.request("/projects/"+t+"/"+n+"/keys/",{method:"POST",success:function(e,t,n){r.setState(function(t){return{keyList:[].concat(a(t.keyList),[e])}}),Object(O.d)(Object(k.t)("Created a new key."))},error:function(){Object(O.a)(Object(k.t)("Unable to create new key. Please try again."))}})},l=n,i(r,l)}return l(t,e),L(t,[{key:"getTitle",value:function(){return Object(k.t)("Client Keys")}},{key:"getEndpoints",value:function(){var e=this.props.params;return[["keyList","/projects/"+e.orgId+"/"+e.projectId+"/keys/"]]}},{key:"renderEmpty",value:function(){return m.a.createElement(D.a,null,m.a.createElement(P.a,null,m.a.createElement("span",{className:"icon icon-exclamation"}),m.a.createElement("p",null,Object(k.t)("There are no keys active for this project."))))}},{key:"renderResults",value:function(){var e=this,t=this.props,n=t.routes,r=t.params,a=r.orgId,o=r.projectId,i=Object(v.b)(this.context.organization).getAccess();return m.a.createElement("div",null,m.a.createElement("div",null,this.state.keyList.map(function(t){return m.a.createElement(q,{api:e.api,routes:n,params:r,access:i,key:t.id,orgId:a,projectId:""+o,data:t,onToggle:e.handleToggleKey.bind(e,t),onRemove:e.handleRemoveKey.bind(e,t)})})),m.a.createElement(R.default,{pageLinks:this.state.keyListPageLinks}))}},{key:"renderBody",value:function(){var e=Object(v.b)(this.context.organization).getAccess(),t=!this.state.keyList.length;return m.a.createElement(f.a,{title:Object(k.t)("Client Keys")},m.a.createElement("div",{className:"ref-keys"},m.a.createElement(z.default,{title:Object(k.t)("Client Keys"),action:e.has("project:write")?m.a.createElement(S.default,{onClick:this.handleCreateKey,size:"small",priority:"primary",icon:"icon-circle-add"},Object(k.t)("Generate New Key")):null}),m.a.createElement(A.default,null,Object(k.tct)("To send data to Sentry you will need to configure an SDK with a client key\n            (usually referred to as the [code:SENTRY_DSN] value). For more\n            information on integrating Sentry with your application take a look at our\n            [link:documentation].",{link:m.a.createElement(T.a,{href:"https://docs.sentry.io/"}),code:m.a.createElement("code",null)})),t?this.renderEmpty():this.renderResults()))}}]),t}(_.default),c.propTypes={routes:h.a.array.isRequired,params:h.a.object.isRequired},c.contextTypes={organization:K.e.Organization,project:K.e.Project},s),M=Object(E.default)(function(e){var t=(e.disabled,r(e,["disabled"]));return m.a.createElement(D.a,t)},{target:"e17ghbmk0"})(function(e){return e.disabled?"opacity: 0.5;":""},";.box-clippable{padding:0;margin:0;.clip-fade{padding-bottom:20px;}}"),B=Object(E.default)(d.Link,{target:"e17ghbmk1"})("color:",function(e){return e.theme.gray3},";"),F=Object(E.default)("span",{target:"e17ghbmk2"})("margin-left:6px;")},1645:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i,l,c=n(14),s=n(1),u=n.n(s),d=n(0),p=n.n(d),f=n(31),b=n.n(f),h=n(5),y=n(389),m=n(390),j=n(26),g=n(604),E=n(24),O=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),v=Object(h.default)(function(e){return p.a.createElement("input",e)},{target:"e1usehz70"})(y.a,";background-color:",function(e){return e.theme.offWhite},";border-right-width:0;border-top-right-radius:0;border-bottom-right-radius:0;&:hover,&:focus{background-color:",function(e){return e.theme.offWhite},";border-right-width:0;}"),k=Object(h.default)("div",{target:"e1usehz71"})("flex-grow:1;border:none;"),w=Object(h.default)(j.default,{target:"e1usehz72"})("flex-shrink:1;border-radius:0 0.25em 0.25em 0;box-shadow:none;"),_=(l=i=function(e){function t(e){r(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleCopyClick=function(e){if(n.textRef){var t=n.props.onCopy;n.handleSelectText(),t(n.props.children,e),e.stopPropagation()}},n.handleSelectText=function(){n.textRef&&Object(m.a)(b.a.findDOMNode(n.textRef))},n.handleAutoMount=function(e){n.textRef=e},n}return o(t,e),O(t,[{key:"render",value:function(){var e=this.props,t=e.style,n=e.children;return p.a.createElement(c.Flex,null,p.a.createElement(k,null,p.a.createElement(v,{readOnly:!0,ref:this.handleAutoMount,style:t,value:n,onClick:this.handleSelectText})),p.a.createElement(g.a,{hideUnsupported:!0,onClick:this.handleCopyClick,value:n},p.a.createElement(w,{type:"button",size:"xsmall",onClick:this.handleCopyClick},p.a.createElement(E.a,{src:"icon-clipboard",size:"1.25em"}))))}}]),t}(p.a.Component),i.propTypes={children:u.a.string.isRequired,style:u.a.object,onCopy:u.a.func},i.defaultProps={onCopy:function(){}},l);t.a=_},1730:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i,l,c=n(1),s=n.n(c),u=n(0),d=n.n(u),p=n(2),f=n(71),b=n(602),h=n(1645),y=n(6),m=n(603),j=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),g=(l=i=function(e){function t(){return r(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),j(t,[{key:"render",value:function(){var e=this.props,t=e.projectId,n=e.data,r=e.showDsn,a=e.showDsnPublic,o=e.showSecurityEndpoint,i=e.showMinidump,l=e.showPublicKey,c=e.showSecretKey,s=e.showProjectId;return d.a.createElement(d.a.Fragment,null,a&&d.a.createElement(b.a,{label:Object(p.t)("DSN"),inline:!1,flexibleControlStateSize:!0},d.a.createElement(h.a,null,Object(m.a)({value:n.dsn.public,fixed:"__DSN__"}))),r&&d.a.createElement(b.a,{label:Object(p.t)("DSN (Deprecated)"),help:Object(p.t)("This DSN includes the secret which is no longer required by Sentry or newer versions of SDKs."),inline:!1,flexibleControlStateSize:!0},d.a.createElement(h.a,null,Object(m.a)({value:n.dsn.secret,fixed:"__DSN_DEPRECATED__"}))),o&&d.a.createElement(b.a,{label:Object(p.t)("Security Header Endpoint"),help:Object(p.t)("Use your security header endpoint for features like CSP and Expect-CT reports."),inline:!1,flexibleControlStateSize:!0},d.a.createElement(h.a,null,Object(m.a)({value:n.dsn.security,fixed:"__SECURITY_HEADER_ENDPOINT__"}))),i&&d.a.createElement(b.a,{label:Object(p.t)("Minidump Endpoint"),help:Object(p.tct)("Use this endpoint to upload [link], for example with Electron, Crashpad or Breakpad.",{link:d.a.createElement(f.a,{href:"https://docs.sentry.io/clients/minidump/"},"minidump crash reports")}),inline:!1,flexibleControlStateSize:!0},d.a.createElement(h.a,null,Object(m.a)({value:n.dsn.minidump,fixed:"__MINIDUMP_ENDPOINT__"}))),l&&d.a.createElement(b.a,{label:Object(p.t)("Public Key"),inline:!0,flexibleControlStateSize:!0},d.a.createElement(h.a,null,Object(m.a)({value:n.public,fixed:"__PUBLICKEY__"}))),c&&d.a.createElement(b.a,{label:Object(p.t)("Secret Key"),inline:!0,flexibleControlStateSize:!0},d.a.createElement(h.a,null,Object(m.a)({value:n.secret,fixed:"__SECRETKEY__"}))),s&&d.a.createElement(b.a,{label:Object(p.t)("Project ID"),inline:!0,flexibleControlStateSize:!0},d.a.createElement(h.a,null,Object(m.a)({value:t,fixed:"__PROJECTID__"}))))}}]),t}(d.a.Component),i.propTypes={projectId:s.a.string.isRequired,data:y.e.ProjectKey,showDsn:s.a.bool,showDsnPublic:s.a.bool,showSecurityEndpoint:s.a.bool,showMinidump:s.a.bool,showPublicKey:s.a.bool,showSecretKey:s.a.bool,showProjectId:s.a.bool},i.defaultProps={showDsn:!0,showDsnPublic:!0,showSecurityEndpoint:!0,showMinidump:!0,showPublicKey:!1,showSecretKey:!1,showProjectId:!1},l);t.a=g}});
//# sourceMappingURL=ProjectKeys.js.map