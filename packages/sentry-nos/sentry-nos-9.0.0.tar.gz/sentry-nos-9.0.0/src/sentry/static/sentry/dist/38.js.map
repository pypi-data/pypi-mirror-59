{"version":3,"sources":["webpack:///38.js","webpack:///./app/views/settings/organizationProjects/index.jsx","webpack:///./app/views/settings/components/settingsProjectItem.jsx","webpack:///./app/views/settings/organizationProjects/projectStatsGraph.jsx"],"names":["webpackJsonpexports","1605","module","__webpack_exports__","__webpack_require__","_classCallCheck","instance","Constructor","TypeError","_possibleConstructorReturn","self","call","ReferenceError","_inherits","subClass","superClass","prototype","Object","create","constructor","value","enumerable","writable","configurable","setPrototypeOf","__proto__","defineProperty","d","OrganizationProjects","_class","_temp2","__WEBPACK_IMPORTED_MODULE_0_emotion__","__WEBPACK_IMPORTED_MODULE_1_lodash_debounce__","__WEBPACK_IMPORTED_MODULE_1_lodash_debounce___default","n","__WEBPACK_IMPORTED_MODULE_2_grid_emotion__","__WEBPACK_IMPORTED_MODULE_3_prop_types__","__WEBPACK_IMPORTED_MODULE_3_prop_types___default","__WEBPACK_IMPORTED_MODULE_4_react__","__WEBPACK_IMPORTED_MODULE_4_react___default","__WEBPACK_IMPORTED_MODULE_5_idx__","__WEBPACK_IMPORTED_MODULE_6_app_mixins_organizationState__","__WEBPACK_IMPORTED_MODULE_7_app_utils__","__WEBPACK_IMPORTED_MODULE_8_app_locale__","__WEBPACK_IMPORTED_MODULE_9_app_components_buttons_button__","__WEBPACK_IMPORTED_MODULE_10_app_views_settings_components_emptyMessage__","__WEBPACK_IMPORTED_MODULE_11_app_views_settings_components_forms_controls_input__","__WEBPACK_IMPORTED_MODULE_12_app_views_asyncView__","__WEBPACK_IMPORTED_MODULE_13_app_components_pagination__","__WEBPACK_IMPORTED_MODULE_14_app_components_panels__","__WEBPACK_IMPORTED_MODULE_15_app_views_settings_components_settingsProjectItem__","__WEBPACK_IMPORTED_MODULE_16_app_proptypes__","__WEBPACK_IMPORTED_MODULE_17_app_views_settings_components_settingsPageHeader__","__WEBPACK_IMPORTED_MODULE_18__projectStatsGraph__","_extends","assign","target","i","arguments","length","source","key","hasOwnProperty","_createClass","defineProperties","props","descriptor","protoProps","staticProps","_get","get","object","property","receiver","Function","desc","getOwnPropertyDescriptor","undefined","parent","getPrototypeOf","getter","_AsyncView","_ref5","_temp","_this","_ret","this","_len","args","Array","_key","apply","concat","handleChange","evt","searchQuery","getProjects","setState","params","_ref6","orgId","api","request","method","success","data","_","jqXHR","handleRequestSuccess","stateKey","handleSearch","e","router","context","location","preventDefault","push","pathname","query","state","nextProps","nextContext","_ref","_ref2","_ref3","since","Date","getTime","stat","group","_ref4","organization","name","_this2","_state","projectList","projectListPageLinks","projectStats","canCreateProjects","getAccess","has","action","a","createElement","priority","size","disabled","title","to","slug","icon","hasButtons","onSubmit","onChange","className","placeholder","width","map","project","p","id","align","flex","w","stats","pageLinks","contextTypes","isRequired","Organization","1732","__WEBPACK_IMPORTED_MODULE_1_react_emotion__","__WEBPACK_IMPORTED_MODULE_2_react__","__WEBPACK_IMPORTED_MODULE_2_react___default","__WEBPACK_IMPORTED_MODULE_3_create_react_class__","__WEBPACK_IMPORTED_MODULE_3_create_react_class___default","__WEBPACK_IMPORTED_MODULE_4_app_utils_theme__","__WEBPACK_IMPORTED_MODULE_5_app_actionCreators_projects__","__WEBPACK_IMPORTED_MODULE_6_app_mixins_apiMixin__","__WEBPACK_IMPORTED_MODULE_7_app_components_tooltip__","__WEBPACK_IMPORTED_MODULE_8_app_components_link__","__WEBPACK_IMPORTED_MODULE_9_app_components_projectLabel__","__WEBPACK_IMPORTED_MODULE_10_app_proptypes__","InlineButton","theme","gray1","StyledProjectLabel","blue","ProjectItem","displayName","propTypes","Project","mixins","getInitialState","isBookmarked","componentWillReceiveProps","handleToggleBookmark","_props","projectId","document","activeElement","blur","render","_props2","org","onClick","color","gray3","1791","__WEBPACK_IMPORTED_MODULE_0_react_lazyload__","__WEBPACK_IMPORTED_MODULE_0_react_lazyload___default","__WEBPACK_IMPORTED_MODULE_1_react__","__WEBPACK_IMPORTED_MODULE_1_react___default","__WEBPACK_IMPORTED_MODULE_2_prop_types__","__WEBPACK_IMPORTED_MODULE_2_prop_types___default","__WEBPACK_IMPORTED_MODULE_4_app_components_barChart__","__WEBPACK_IMPORTED_MODULE_5_app_proptypes__","ProjectStatsGraph","array","chartData","point","x","y","height","debounce","points","label"],"mappings":"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","file":"38.js","sourcesContent":["webpackJsonpexports([38],{\n\n/***/ 1605:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return OrganizationProjects; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_emotion__ = __webpack_require__(27);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_lodash_debounce__ = __webpack_require__(101);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_lodash_debounce___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_lodash_debounce__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_grid_emotion__ = __webpack_require__(14);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_prop_types__ = __webpack_require__(1);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_prop_types___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_prop_types__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_react__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_react__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_idx__ = __webpack_require__(184);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_idx___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_5_idx__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_app_mixins_organizationState__ = __webpack_require__(39);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7_app_utils__ = __webpack_require__(10);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8_app_locale__ = __webpack_require__(2);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9_app_components_buttons_button__ = __webpack_require__(26);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10_app_views_settings_components_emptyMessage__ = __webpack_require__(178);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_11_app_views_settings_components_forms_controls_input__ = __webpack_require__(268);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_12_app_views_asyncView__ = __webpack_require__(92);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_13_app_components_pagination__ = __webpack_require__(54);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_14_app_components_panels__ = __webpack_require__(18);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_15_app_views_settings_components_settingsProjectItem__ = __webpack_require__(1732);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_16_app_proptypes__ = __webpack_require__(6);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_17_app_views_settings_components_settingsPageHeader__ = __webpack_require__(52);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_18__projectStatsGraph__ = __webpack_require__(1791);\n\n\n\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\nvar _class, _temp2;\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar OrganizationProjects = (_temp2 = _class = function (_AsyncView) {\n  _inherits(OrganizationProjects, _AsyncView);\n\n  function OrganizationProjects() {\n    var _ref5;\n\n    var _temp, _this, _ret;\n\n    _classCallCheck(this, OrganizationProjects);\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref5 = OrganizationProjects.__proto__ || Object.getPrototypeOf(OrganizationProjects)).call.apply(_ref5, [this].concat(args))), _this), _this.handleChange = function (evt) {\n      var searchQuery = evt.target.value;\n      _this.getProjects(searchQuery);\n      _this.setState({ searchQuery: searchQuery });\n    }, _this.getProjects = __WEBPACK_IMPORTED_MODULE_1_lodash_debounce___default()(function (searchQuery) {\n      var params = _this.props.params;\n\n      var _ref6 = params || {},\n          orgId = _ref6.orgId;\n\n      _this.api.request('/organizations/' + orgId + '/projects/?query=' + searchQuery, {\n        method: 'GET',\n        success: function success(data, _, jqXHR) {\n          _this.handleRequestSuccess({ stateKey: 'projectList', data: data, jqXHR: jqXHR });\n        }\n      });\n    }, 200), _this.handleSearch = function (e) {\n      var router = _this.context.router;\n      var location = _this.props.location;\n\n      e.preventDefault();\n      router.push({\n        pathname: location.pathname,\n        query: {\n          query: _this.state.searchQuery\n        }\n      });\n    }, _temp), _possibleConstructorReturn(_this, _ret);\n  }\n\n  _createClass(OrganizationProjects, [{\n    key: 'componentWillReceiveProps',\n    value: function componentWillReceiveProps(nextProps, nextContext) {\n      var _ref, _ref2;\n\n      _get(OrganizationProjects.prototype.__proto__ || Object.getPrototypeOf(OrganizationProjects.prototype), 'componentWillReceiveProps', this).call(this, nextProps, nextContext);\n      var searchQuery = (_ref = nextProps) != null ? (_ref = _ref.location) != null ? (_ref = _ref.query) != null ? _ref.query : _ref : _ref : _ref;\n      if (searchQuery !== ((_ref2 = this.props) != null ? (_ref2 = _ref2.location) != null ? (_ref2 = _ref2.query) != null ? _ref2.query : _ref2 : _ref2 : _ref2)) {\n        this.setState({ searchQuery: searchQuery });\n      }\n    }\n  }, {\n    key: 'getEndpoints',\n    value: function getEndpoints() {\n      var _ref3;\n\n      var orgId = this.props.params.orgId;\n\n      return [['projectList', '/organizations/' + orgId + '/projects/', {\n        query: {\n          query: (_ref3 = this.props) != null ? (_ref3 = _ref3.location) != null ? (_ref3 = _ref3.query) != null ? _ref3.query : _ref3 : _ref3 : _ref3\n        }\n      }], ['projectStats', '/organizations/' + orgId + '/stats/', {\n        query: {\n          since: new Date().getTime() / 1000 - 3600 * 24,\n          stat: 'generated',\n          group: 'project'\n        }\n      }]];\n    }\n  }, {\n    key: 'getDefaultState',\n    value: function getDefaultState() {\n      var _ref4;\n\n      return _extends({}, _get(OrganizationProjects.prototype.__proto__ || Object.getPrototypeOf(OrganizationProjects.prototype), 'getDefaultState', this).call(this), {\n        searchQuery: ((_ref4 = this.props) != null ? (_ref4 = _ref4.location) != null ? (_ref4 = _ref4.query) != null ? _ref4.query : _ref4 : _ref4 : _ref4) || ''\n      });\n    }\n  }, {\n    key: 'getTitle',\n    value: function getTitle() {\n      var org = this.context.organization;\n      return org.name + ' Projects';\n    }\n  }, {\n    key: 'renderBody',\n    value: function renderBody() {\n      var _this2 = this;\n\n      var _state = this.state,\n          projectList = _state.projectList,\n          projectListPageLinks = _state.projectListPageLinks,\n          projectStats = _state.projectStats;\n      var organization = this.context.organization;\n\n      var canCreateProjects = Object(__WEBPACK_IMPORTED_MODULE_6_app_mixins_organizationState__[\"b\" /* getOrganizationState */])(this.context.organization).getAccess().has('project:admin');\n\n      var action = __WEBPACK_IMPORTED_MODULE_4_react___default.a.createElement(\n        __WEBPACK_IMPORTED_MODULE_9_app_components_buttons_button__[\"default\"],\n        {\n          priority: 'primary',\n          size: 'small',\n          disabled: !canCreateProjects,\n          title: !canCreateProjects ? Object(__WEBPACK_IMPORTED_MODULE_8_app_locale__[\"t\"])('You do not have permission to create projects') : undefined,\n          to: '/organizations/' + organization.slug + '/projects/new/',\n          icon: 'icon-circle-add'\n        },\n        Object(__WEBPACK_IMPORTED_MODULE_8_app_locale__[\"t\"])('Create Project')\n      );\n\n      return __WEBPACK_IMPORTED_MODULE_4_react___default.a.createElement(\n        'div',\n        null,\n        __WEBPACK_IMPORTED_MODULE_4_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_17_app_views_settings_components_settingsPageHeader__[\"default\"], { title: 'Projects', action: action }),\n        __WEBPACK_IMPORTED_MODULE_4_react___default.a.createElement(\n          __WEBPACK_IMPORTED_MODULE_14_app_components_panels__[\"a\" /* Panel */],\n          null,\n          __WEBPACK_IMPORTED_MODULE_4_react___default.a.createElement(\n            __WEBPACK_IMPORTED_MODULE_14_app_components_panels__[\"e\" /* PanelHeader */],\n            { hasButtons: true },\n            Object(__WEBPACK_IMPORTED_MODULE_8_app_locale__[\"t\"])('Projects'),\n            __WEBPACK_IMPORTED_MODULE_4_react___default.a.createElement(\n              'form',\n              { onSubmit: this.handleSearch },\n              __WEBPACK_IMPORTED_MODULE_4_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_11_app_views_settings_components_forms_controls_input__[\"a\" /* default */], {\n                value: this.state.searchQuery,\n                onChange: this.handleChange,\n                className: 'search',\n                placeholder: Object(__WEBPACK_IMPORTED_MODULE_8_app_locale__[\"t\"])('Search Projects')\n              })\n            )\n          ),\n          __WEBPACK_IMPORTED_MODULE_4_react___default.a.createElement(\n            __WEBPACK_IMPORTED_MODULE_14_app_components_panels__[\"c\" /* PanelBody */],\n            {\n              className: Object(__WEBPACK_IMPORTED_MODULE_0_emotion__[\"css\"])({ width: '100%' })\n            },\n            Object(__WEBPACK_IMPORTED_MODULE_7_app_utils__[\"r\" /* sortProjects */])(projectList).map(function (project, i) {\n              return __WEBPACK_IMPORTED_MODULE_4_react___default.a.createElement(\n                __WEBPACK_IMPORTED_MODULE_14_app_components_panels__[\"f\" /* PanelItem */],\n                { p: 0, key: project.id, align: 'center' },\n                __WEBPACK_IMPORTED_MODULE_4_react___default.a.createElement(\n                  __WEBPACK_IMPORTED_MODULE_2_grid_emotion__[\"Box\"],\n                  { p: 2, flex: '1' },\n                  __WEBPACK_IMPORTED_MODULE_4_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_15_app_views_settings_components_settingsProjectItem__[\"a\" /* default */], {\n                    project: project,\n                    organization: _this2.context.organization\n                  })\n                ),\n                __WEBPACK_IMPORTED_MODULE_4_react___default.a.createElement(\n                  __WEBPACK_IMPORTED_MODULE_2_grid_emotion__[\"Box\"],\n                  { w: 3 / 12, p: 2 },\n                  __WEBPACK_IMPORTED_MODULE_4_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_18__projectStatsGraph__[\"a\" /* default */], {\n                    key: project.id,\n                    project: project,\n                    stats: projectStats[project.id]\n                  })\n                ),\n                __WEBPACK_IMPORTED_MODULE_4_react___default.a.createElement(\n                  __WEBPACK_IMPORTED_MODULE_2_grid_emotion__[\"Box\"],\n                  { p: 2, align: 'right' },\n                  __WEBPACK_IMPORTED_MODULE_4_react___default.a.createElement(\n                    __WEBPACK_IMPORTED_MODULE_9_app_components_buttons_button__[\"default\"],\n                    { size: 'small', to: '/' + organization.slug + '/' + project.slug + '/' },\n                    Object(__WEBPACK_IMPORTED_MODULE_8_app_locale__[\"t\"])('View Issues')\n                  )\n                )\n              );\n            }),\n            projectList.length === 0 && __WEBPACK_IMPORTED_MODULE_4_react___default.a.createElement(\n              __WEBPACK_IMPORTED_MODULE_10_app_views_settings_components_emptyMessage__[\"a\" /* default */],\n              null,\n              Object(__WEBPACK_IMPORTED_MODULE_8_app_locale__[\"t\"])('No projects found.')\n            )\n          )\n        ),\n        projectListPageLinks && __WEBPACK_IMPORTED_MODULE_4_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_13_app_components_pagination__[\"default\"], _extends({ pageLinks: projectListPageLinks }, this.props))\n      );\n    }\n  }]);\n\n  return OrganizationProjects;\n}(__WEBPACK_IMPORTED_MODULE_12_app_views_asyncView__[\"default\"]), _class.contextTypes = {\n  router: __WEBPACK_IMPORTED_MODULE_3_prop_types___default.a.object.isRequired,\n  organization: __WEBPACK_IMPORTED_MODULE_16_app_proptypes__[\"e\" /* default */].Organization\n}, _temp2);\n\n\n/***/ }),\n\n/***/ 1732:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_emotion__ = __webpack_require__(27);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_react_emotion__ = __webpack_require__(5);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_react__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_react__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_create_react_class__ = __webpack_require__(3);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_create_react_class___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_create_react_class__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_app_utils_theme__ = __webpack_require__(126);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_app_actionCreators_projects__ = __webpack_require__(180);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_app_mixins_apiMixin__ = __webpack_require__(8);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7_app_components_tooltip__ = __webpack_require__(21);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8_app_components_link__ = __webpack_require__(53);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9_app_components_projectLabel__ = __webpack_require__(403);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10_app_proptypes__ = __webpack_require__(6);\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar InlineButton = /*#__PURE__*/Object(__WEBPACK_IMPORTED_MODULE_1_react_emotion__[\"default\"])('button', {\n  target: 'enngb6z0'\n})('color:', function (p) {\n  return p.theme.gray1;\n}, ';border:none;background-color:inherit;padding:0;');\n\nvar StyledProjectLabel = /*#__PURE__*/Object(__WEBPACK_IMPORTED_MODULE_1_react_emotion__[\"default\"])(__WEBPACK_IMPORTED_MODULE_9_app_components_projectLabel__[\"a\" /* default */], {\n  target: 'enngb6z1'\n})('color:', function (p) {\n  return p.theme.blue;\n}, ';');\n\nvar ProjectItem = __WEBPACK_IMPORTED_MODULE_3_create_react_class___default()({\n  displayName: 'ProjectItem',\n\n  propTypes: {\n    project: __WEBPACK_IMPORTED_MODULE_10_app_proptypes__[\"e\" /* default */].Project,\n    organization: __WEBPACK_IMPORTED_MODULE_10_app_proptypes__[\"e\" /* default */].Organization\n  },\n\n  mixins: [__WEBPACK_IMPORTED_MODULE_6_app_mixins_apiMixin__[\"default\"]],\n\n  getInitialState: function getInitialState() {\n    return {\n      isBookmarked: this.props.project.isBookmarked\n    };\n  },\n  componentWillReceiveProps: function componentWillReceiveProps(nextProps) {\n    // Local bookmarked state should be unset when the project data changes\n    // Local state is used for optimistic UI update\n    if (this.state.isBookmarked !== nextProps.project.isBookmarked) {\n      this.setState({ isBookmarked: nextProps.project.isBookmarked });\n    }\n  },\n  handleToggleBookmark: function handleToggleBookmark() {\n    var _this = this;\n\n    var _props = this.props,\n        project = _props.project,\n        organization = _props.organization;\n    var isBookmarked = this.state.isBookmarked;\n\n\n    this.setState({ isBookmarked: !isBookmarked }, function () {\n      return Object(__WEBPACK_IMPORTED_MODULE_5_app_actionCreators_projects__[\"i\" /* update */])(_this.api, {\n        orgId: organization.slug,\n        projectId: project.slug,\n        data: {\n          isBookmarked: _this.state.isBookmarked\n        }\n      });\n    });\n    //needed to dismiss tooltip\n    document.activeElement.blur();\n  },\n  render: function render() {\n    var _this2 = this;\n\n    var _props2 = this.props,\n        project = _props2.project,\n        organization = _props2.organization;\n\n    var org = organization;\n    var isBookmarked = this.state.isBookmarked;\n\n\n    return __WEBPACK_IMPORTED_MODULE_2_react___default.a.createElement(\n      'div',\n      { key: project.id, className: isBookmarked ? 'isBookmarked' : null },\n      __WEBPACK_IMPORTED_MODULE_2_react___default.a.createElement(\n        __WEBPACK_IMPORTED_MODULE_7_app_components_tooltip__[\"default\"],\n        { title: isBookmarked ? 'Remove from bookmarks' : 'Add to bookmarks' },\n        __WEBPACK_IMPORTED_MODULE_2_react___default.a.createElement(\n          InlineButton,\n          { onClick: function onClick() {\n              return _this2.handleToggleBookmark();\n            } },\n          isBookmarked ? __WEBPACK_IMPORTED_MODULE_2_react___default.a.createElement('span', { className: 'icon-star-solid bookmark' }) : __WEBPACK_IMPORTED_MODULE_2_react___default.a.createElement('span', { className: 'icon-star-outline bookmark' })\n        )\n      ),\n      __WEBPACK_IMPORTED_MODULE_2_react___default.a.createElement(\n        __WEBPACK_IMPORTED_MODULE_8_app_components_link__[\"a\" /* default */],\n        { to: '/settings/' + org.slug + '/' + project.slug + '/', className: Object(__WEBPACK_IMPORTED_MODULE_0_emotion__[\"css\"])({ color: __WEBPACK_IMPORTED_MODULE_4_app_utils_theme__[\"default\"].gray3 })\n        },\n        __WEBPACK_IMPORTED_MODULE_2_react___default.a.createElement(StyledProjectLabel, { project: project, organization: this.props.organization })\n      )\n    );\n  }\n});\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (ProjectItem);\n\n/***/ }),\n\n/***/ 1791:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react_lazyload__ = __webpack_require__(276);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react_lazyload___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_react_lazyload__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_react__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_react__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_prop_types__ = __webpack_require__(1);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_prop_types___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_prop_types__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_create_react_class__ = __webpack_require__(3);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_create_react_class___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_create_react_class__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_app_components_barChart__ = __webpack_require__(215);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_app_proptypes__ = __webpack_require__(6);\n\n\n\n\n\n\n\n\n\nvar ProjectStatsGraph = __WEBPACK_IMPORTED_MODULE_3_create_react_class___default()({\n  displayName: 'ProjectListItem',\n\n  propTypes: {\n    project: __WEBPACK_IMPORTED_MODULE_5_app_proptypes__[\"e\" /* default */].Project,\n    stats: __WEBPACK_IMPORTED_MODULE_2_prop_types___default.a.array\n  },\n\n  render: function render() {\n    var project = this.props.project;\n\n    var stats = this.props.stats || project.stats;\n    var chartData = stats && stats.map(function (point) {\n      return { x: point[0], y: point[1] };\n    });\n\n    return __WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement(\n      'div',\n      null,\n      chartData && __WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement(\n        __WEBPACK_IMPORTED_MODULE_0_react_lazyload___default.a,\n        { height: 25, debounce: 50 },\n        __WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_4_app_components_barChart__[\"default\"], { height: 25, points: chartData, label: 'events' })\n      )\n    );\n  }\n});\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (ProjectStatsGraph);\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// 38.js","import {Box} from 'grid-emotion';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport idx from 'idx';\nimport {debounce} from 'lodash';\n\nimport {getOrganizationState} from 'app/mixins/organizationState';\nimport {sortProjects} from 'app/utils';\nimport {t} from 'app/locale';\nimport Button from 'app/components/buttons/button';\nimport EmptyMessage from 'app/views/settings/components/emptyMessage';\nimport Input from 'app/views/settings/components/forms/controls/input';\nimport AsyncView from 'app/views/asyncView';\nimport Pagination from 'app/components/pagination';\nimport {Panel, PanelBody, PanelHeader, PanelItem} from 'app/components/panels';\nimport ProjectListItem from 'app/views/settings/components/settingsProjectItem';\nimport SentryTypes from 'app/proptypes';\nimport SettingsPageHeader from 'app/views/settings/components/settingsPageHeader';\n\nimport ProjectStatsGraph from './projectStatsGraph';\n\nexport default class OrganizationProjects extends AsyncView {\n  static contextTypes = {\n    router: PropTypes.object.isRequired,\n    organization: SentryTypes.Organization,\n  };\n\n  componentWillReceiveProps(nextProps, nextContext) {\n    super.componentWillReceiveProps(nextProps, nextContext);\n    let searchQuery = idx(nextProps, _ => _.location.query.query);\n    if (searchQuery !== idx(this.props, _ => _.location.query.query)) {\n      this.setState({searchQuery});\n    }\n  }\n\n  getEndpoints() {\n    let {orgId} = this.props.params;\n    return [\n      [\n        'projectList',\n        `/organizations/${orgId}/projects/`,\n        {\n          query: {\n            query: idx(this.props, _ => _.location.query.query),\n          },\n        },\n      ],\n      [\n        'projectStats',\n        `/organizations/${orgId}/stats/`,\n        {\n          query: {\n            since: new Date().getTime() / 1000 - 3600 * 24,\n            stat: 'generated',\n            group: 'project',\n          },\n        },\n      ],\n    ];\n  }\n\n  getDefaultState() {\n    return {\n      ...super.getDefaultState(),\n      searchQuery: idx(this.props, _ => _.location.query.query) || '',\n    };\n  }\n\n  getTitle() {\n    let org = this.context.organization;\n    return `${org.name} Projects`;\n  }\n\n  handleChange = evt => {\n    let searchQuery = evt.target.value;\n    this.getProjects(searchQuery);\n    this.setState({searchQuery});\n  };\n\n  getProjects = debounce(searchQuery => {\n    let {params} = this.props;\n    let {orgId} = params || {};\n\n    this.api.request(`/organizations/${orgId}/projects/?query=${searchQuery}`, {\n      method: 'GET',\n      success: (data, _, jqXHR) => {\n        this.handleRequestSuccess({stateKey: 'projectList', data, jqXHR});\n      },\n    });\n  }, 200);\n\n  handleSearch = e => {\n    let {router} = this.context;\n    let {location} = this.props;\n    e.preventDefault();\n    router.push({\n      pathname: location.pathname,\n      query: {\n        query: this.state.searchQuery,\n      },\n    });\n  };\n\n  renderBody() {\n    let {projectList, projectListPageLinks, projectStats} = this.state;\n    let {organization} = this.context;\n    let canCreateProjects = getOrganizationState(this.context.organization)\n      .getAccess()\n      .has('project:admin');\n\n    let action = (\n      <Button\n        priority=\"primary\"\n        size=\"small\"\n        disabled={!canCreateProjects}\n        title={\n          !canCreateProjects\n            ? t('You do not have permission to create projects')\n            : undefined\n        }\n        to={`/organizations/${organization.slug}/projects/new/`}\n        icon=\"icon-circle-add\"\n      >\n        {t('Create Project')}\n      </Button>\n    );\n\n    return (\n      <div>\n        <SettingsPageHeader title=\"Projects\" action={action} />\n        <Panel>\n          <PanelHeader hasButtons>\n            {t('Projects')}\n\n            <form onSubmit={this.handleSearch}>\n              <Input\n                value={this.state.searchQuery}\n                onChange={this.handleChange}\n                className=\"search\"\n                placeholder={t('Search Projects')}\n              />\n            </form>\n          </PanelHeader>\n          <PanelBody css={{width: '100%'}}>\n            {sortProjects(projectList).map((project, i) => (\n              <PanelItem p={0} key={project.id} align=\"center\">\n                <Box p={2} flex=\"1\">\n                  <ProjectListItem\n                    project={project}\n                    organization={this.context.organization}\n                  />\n                </Box>\n                <Box w={3 / 12} p={2}>\n                  <ProjectStatsGraph\n                    key={project.id}\n                    project={project}\n                    stats={projectStats[project.id]}\n                  />\n                </Box>\n                <Box p={2} align=\"right\">\n                  <Button size=\"small\" to={`/${organization.slug}/${project.slug}/`}>\n                    {t('View Issues')}\n                  </Button>\n                </Box>\n              </PanelItem>\n            ))}\n            {projectList.length === 0 && (\n              <EmptyMessage>{t('No projects found.')}</EmptyMessage>\n            )}\n          </PanelBody>\n        </Panel>\n        {projectListPageLinks && (\n          <Pagination pageLinks={projectListPageLinks} {...this.props} />\n        )}\n      </div>\n    );\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./app/views/settings/organizationProjects/index.jsx","import styled from 'react-emotion';\nimport React from 'react';\n\nimport createReactClass from 'create-react-class';\nimport theme from 'app/utils/theme';\n\nimport {update} from 'app/actionCreators/projects';\nimport ApiMixin from 'app/mixins/apiMixin';\nimport Tooltip from 'app/components/tooltip';\n\nimport Link from 'app/components/link';\nimport ProjectLabel from 'app/components/projectLabel';\nimport SentryTypes from 'app/proptypes';\n\nconst InlineButton = styled('button')`\n  color: ${p => p.theme.gray1};\n  border: none;\n  background-color: inherit;\n  padding: 0;\n`;\n\nconst StyledProjectLabel = styled(ProjectLabel)`\n  color: ${p => p.theme.blue};\n`;\n\nconst ProjectItem = createReactClass({\n  displayName: 'ProjectItem',\n\n  propTypes: {\n    project: SentryTypes.Project,\n    organization: SentryTypes.Organization,\n  },\n\n  mixins: [ApiMixin],\n\n  getInitialState() {\n    return {\n      isBookmarked: this.props.project.isBookmarked,\n    };\n  },\n\n  componentWillReceiveProps(nextProps) {\n    // Local bookmarked state should be unset when the project data changes\n    // Local state is used for optimistic UI update\n    if (this.state.isBookmarked !== nextProps.project.isBookmarked) {\n      this.setState({isBookmarked: nextProps.project.isBookmarked});\n    }\n  },\n\n  handleToggleBookmark() {\n    let {project, organization} = this.props;\n    let {isBookmarked} = this.state;\n\n    this.setState({isBookmarked: !isBookmarked}, () =>\n      update(this.api, {\n        orgId: organization.slug,\n        projectId: project.slug,\n        data: {\n          isBookmarked: this.state.isBookmarked,\n        },\n      })\n    );\n    //needed to dismiss tooltip\n    document.activeElement.blur();\n  },\n\n  render() {\n    let {project, organization} = this.props;\n    let org = organization;\n    let {isBookmarked} = this.state;\n\n    return (\n      <div key={project.id} className={isBookmarked ? 'isBookmarked' : null}>\n        <Tooltip title={isBookmarked ? 'Remove from bookmarks' : 'Add to bookmarks'}>\n          <InlineButton onClick={() => this.handleToggleBookmark()}>\n            {isBookmarked ? (\n              <span className=\"icon-star-solid bookmark\" />\n            ) : (\n              <span className=\"icon-star-outline bookmark\" />\n            )}\n          </InlineButton>\n        </Tooltip>\n        <Link to={`/settings/${org.slug}/${project.slug}/`} css={{color: theme.gray3}}>\n          <StyledProjectLabel project={project} organization={this.props.organization} />\n        </Link>\n      </div>\n    );\n  },\n});\n\nexport default ProjectItem;\n\n\n\n// WEBPACK FOOTER //\n// ./app/views/settings/components/settingsProjectItem.jsx","import LazyLoad from 'react-lazyload';\nimport React from 'react';\nimport PropTypes from 'prop-types';\n\nimport createReactClass from 'create-react-class';\n\nimport BarChart from 'app/components/barChart';\nimport SentryTypes from 'app/proptypes';\n\nconst ProjectStatsGraph = createReactClass({\n  displayName: 'ProjectListItem',\n\n  propTypes: {\n    project: SentryTypes.Project,\n    stats: PropTypes.array,\n  },\n\n  render() {\n    let {project} = this.props;\n    let stats = this.props.stats || project.stats;\n    let chartData =\n      stats &&\n      stats.map(point => {\n        return {x: point[0], y: point[1]};\n      });\n\n    return (\n      <div>\n        {chartData && (\n          <LazyLoad height={25} debounce={50}>\n            <BarChart height={25} points={chartData} label=\"events\" />\n          </LazyLoad>\n        )}\n      </div>\n    );\n  },\n});\n\nexport default ProjectStatsGraph;\n\n\n\n// WEBPACK FOOTER //\n// ./app/views/settings/organizationProjects/projectStatsGraph.jsx"],"sourceRoot":""}