webpackJsonpexports([35],{1565:function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var i,s,u=n(1),c=n.n(u),f=n(0),l=n.n(f),p=n(12),d=n.n(p),y=n(1765),b=n(1770),v=(n.n(b),Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}),h=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),g=(s=i=function(t){function e(){return r(this,e),o(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return a(e,t),h(e,[{key:"render",value:function(){var t=this.props,e=t.className,n=t.Body,r=d()("diff-modal",e);return l.a.createElement(n,null,l.a.createElement(y.a,v({className:r},this.props)))}}]),e}(l.a.Component),i.propTypes={Body:c.a.func},s);e.default=g},1765:function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var i,s,u=n(0),c=n.n(u),f=n(1),l=n.n(f),p=n(3),d=n.n(p),y=n(5),b=n(8),v=n(11),h=n(412),g=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},m=function(){function t(t,e){var n=[],r=!0,o=!1,a=void 0;try{for(var i,s=t[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!e||n.length!==e);r=!0);}catch(t){o=!0,a=t}finally{try{!r&&s.return&&s.return()}finally{if(o)throw a}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),E=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),w=function(t){return t.loading&&Object(y.css)("background-color:white;justify-content:center;")||""},O=Object(y.default)("div",{target:"e1mqtsvu0"})("background-color:#f7f8f9;overflow:auto;padding:10px;flex:1;display:flex;flex-direction:column;",w,";"),x=(s=i=function(t){function e(){var t;r(this,e);for(var n=arguments.length,a=Array(n),i=0;i<n;i++)a[i]=arguments[i];var s=o(this,(t=e.__proto__||Object.getPrototypeOf(e)).call.apply(t,[this].concat(a)));return s.state={loading:!0,baseEvent:{},targetEvent:{},SplitDiffAsync:null},s}return a(e,t),E(e,[{key:"componentDidMount",value:function(){var t=this,e=this.props,r=e.baseIssueId,o=e.targetIssueId,a=e.baseEventId,i=e.targetEventId;Promise.all([n.e(86).then(n.bind(null,1766)),this.fetchData(r,a),this.fetchData(o,i)]).then(function(e){var n=m(e,3),r=n[0].default,o=n[1],a=n[2];t.setState({SplitDiffAsync:r,baseEvent:t.getException(o),targetEvent:t.getException(a),loading:!1})})}},{key:"getException",value:function(t){if(!t||!t.entries)return[];var e=t.entries.find(function(t){return"exception"===t.type});if(!e){var n=t.entries.find(function(t){return"message"===t.type});return n?n.data&&n.data.message&&[n.data.message]:[]}return e.data?e.data.values.filter(function(t){return!!t.stacktrace}).map(function(e){return Object(h.a)(e.stacktrace,t.platform,e)}).reduce(function(t,e){return t.concat(e)},[]):[]}},{key:"getEndpoint",value:function(t,e){return"latest"!==e?"/events/"+e+"/":"/issues/"+t+"/events/"+e+"/"}},{key:"fetchData",value:function(t,e){var n=this;return new Promise(function(r,o){n.props.api.request(n.getEndpoint(t,e),{success:function(t){return r(t)},error:function(t){return o(t)}})})}},{key:"render",value:function(){var t=this,e=this.state.SplitDiffAsync,n=!this.state.loading&&!!e;return c.a.createElement(O,{loading:this.state.loading},this.state.loading&&c.a.createElement(v.default,null),n&&this.state.baseEvent.map(function(n,r){return c.a.createElement(e,{key:r,base:n,target:t.state.targetEvent[r]||"",type:"words"})}))}}]),e}(c.a.Component),i.propTypes={api:l.a.object,baseIssueId:l.a.string.isRequired,targetIssueId:l.a.string.isRequired,baseEventId:l.a.string.isRequired,targetEventId:l.a.string.isRequired},i.defaultProps={baseEventId:"latest",targetEventId:"latest"},s),j=d()({displayName:"IssueDiffContainer",mixins:[b.default],render:function(){return c.a.createElement(x,g({},this.props,{api:this.api}))}});e.a=j},1770:function(t,e,n){var r=n(1771);"string"==typeof r&&(r=[[t.i,r,""]]);n(94)(r,{});r.locals&&(t.exports=r.locals)},1771:function(t,e,n){e=t.exports=n(93)(void 0),e.push([t.i,".diff-modal .modal-dialog{display:flex;margin:0;left:10px;right:10px;top:10px;bottom:10px;width:auto}.diff-modal .modal-content{display:flex;flex:1}.diff-modal .modal-body{display:flex;overflow:hidden;flex:1}",""])}});
//# sourceMappingURL=DiffModal.js.map