webpackJsonpexports([38],{1605:function(e,t,r){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function n(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),r.d(t,"default",function(){return N});var i,c,s=r(27),l=r(101),u=r.n(l),p=r(14),m=r(1),f=r.n(m),d=r(0),h=r.n(d),g=r(184),y=(r.n(g),r(39)),j=r(10),b=r(2),v=r(26),k=r(178),O=r(268),E=r(92),P=r(54),z=r(18),B=r(1732),q=r(6),_=r(52),w=r(1791),S=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},x=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),T=function e(t,r,a){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,r);if(void 0===o){var n=Object.getPrototypeOf(t);return null===n?void 0:e(n,r,a)}if("value"in o)return o.value;var i=o.get;if(void 0!==i)return i.call(a)},N=(c=i=function(e){function t(){var e,r,n,i;a(this,t);for(var c=arguments.length,s=Array(c),l=0;l<c;l++)s[l]=arguments[l];return r=n=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),n.handleChange=function(e){var t=e.target.value;n.getProjects(t),n.setState({searchQuery:t})},n.getProjects=u()(function(e){var t=n.props.params,r=t||{},a=r.orgId;n.api.request("/organizations/"+a+"/projects/?query="+e,{method:"GET",success:function(e,t,r){n.handleRequestSuccess({stateKey:"projectList",data:e,jqXHR:r})}})},200),n.handleSearch=function(e){var t=n.context.router,r=n.props.location;e.preventDefault(),t.push({pathname:r.pathname,query:{query:n.state.searchQuery}})},i=r,o(n,i)}return n(t,e),x(t,[{key:"componentWillReceiveProps",value:function(e,r){var a,o;T(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"componentWillReceiveProps",this).call(this,e,r);var n=null!=(a=e)&&null!=(a=a.location)&&null!=(a=a.query)?a.query:a;n!==(null!=(o=this.props)&&null!=(o=o.location)&&null!=(o=o.query)?o.query:o)&&this.setState({searchQuery:n})}},{key:"getEndpoints",value:function(){var e,t=this.props.params.orgId;return[["projectList","/organizations/"+t+"/projects/",{query:{query:null!=(e=this.props)&&null!=(e=e.location)&&null!=(e=e.query)?e.query:e}}],["projectStats","/organizations/"+t+"/stats/",{query:{since:(new Date).getTime()/1e3-86400,stat:"generated",group:"project"}}]]}},{key:"getDefaultState",value:function(){var e;return S({},T(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"getDefaultState",this).call(this),{searchQuery:(null!=(e=this.props)&&null!=(e=e.location)&&null!=(e=e.query)?e.query:e)||""})}},{key:"getTitle",value:function(){return this.context.organization.name+" Projects"}},{key:"renderBody",value:function(){var e=this,t=this.state,r=t.projectList,a=t.projectListPageLinks,o=t.projectStats,n=this.context.organization,i=Object(y.b)(this.context.organization).getAccess().has("project:admin"),c=h.a.createElement(v.default,{priority:"primary",size:"small",disabled:!i,title:i?void 0:Object(b.t)("You do not have permission to create projects"),to:"/organizations/"+n.slug+"/projects/new/",icon:"icon-circle-add"},Object(b.t)("Create Project"));return h.a.createElement("div",null,h.a.createElement(_.default,{title:"Projects",action:c}),h.a.createElement(z.a,null,h.a.createElement(z.e,{hasButtons:!0},Object(b.t)("Projects"),h.a.createElement("form",{onSubmit:this.handleSearch},h.a.createElement(O.a,{value:this.state.searchQuery,onChange:this.handleChange,className:"search",placeholder:Object(b.t)("Search Projects")}))),h.a.createElement(z.c,{className:Object(s.css)({width:"100%"})},Object(j.r)(r).map(function(t,r){return h.a.createElement(z.f,{p:0,key:t.id,align:"center"},h.a.createElement(p.Box,{p:2,flex:"1"},h.a.createElement(B.a,{project:t,organization:e.context.organization})),h.a.createElement(p.Box,{w:.25,p:2},h.a.createElement(w.a,{key:t.id,project:t,stats:o[t.id]})),h.a.createElement(p.Box,{p:2,align:"right"},h.a.createElement(v.default,{size:"small",to:"/"+n.slug+"/"+t.slug+"/"},Object(b.t)("View Issues"))))}),0===r.length&&h.a.createElement(k.a,null,Object(b.t)("No projects found.")))),a&&h.a.createElement(P.default,S({pageLinks:a},this.props)))}}]),t}(E.default),i.contextTypes={router:f.a.object.isRequired,organization:q.e.Organization},c)},1732:function(e,t,r){"use strict";var a=r(27),o=r(5),n=r(0),i=r.n(n),c=r(3),s=r.n(c),l=r(126),u=r(180),p=r(8),m=r(21),f=r(53),d=r(403),h=r(6),g=Object(o.default)("button",{target:"enngb6z0"})("color:",function(e){return e.theme.gray1},";border:none;background-color:inherit;padding:0;"),y=Object(o.default)(d.a,{target:"enngb6z1"})("color:",function(e){return e.theme.blue},";"),j=s()({displayName:"ProjectItem",propTypes:{project:h.e.Project,organization:h.e.Organization},mixins:[p.default],getInitialState:function(){return{isBookmarked:this.props.project.isBookmarked}},componentWillReceiveProps:function(e){this.state.isBookmarked!==e.project.isBookmarked&&this.setState({isBookmarked:e.project.isBookmarked})},handleToggleBookmark:function(){var e=this,t=this.props,r=t.project,a=t.organization,o=this.state.isBookmarked;this.setState({isBookmarked:!o},function(){return Object(u.i)(e.api,{orgId:a.slug,projectId:r.slug,data:{isBookmarked:e.state.isBookmarked}})}),document.activeElement.blur()},render:function(){var e=this,t=this.props,r=t.project,o=t.organization,n=o,c=this.state.isBookmarked;return i.a.createElement("div",{key:r.id,className:c?"isBookmarked":null},i.a.createElement(m.default,{title:c?"Remove from bookmarks":"Add to bookmarks"},i.a.createElement(g,{onClick:function(){return e.handleToggleBookmark()}},c?i.a.createElement("span",{className:"icon-star-solid bookmark"}):i.a.createElement("span",{className:"icon-star-outline bookmark"}))),i.a.createElement(f.a,{to:"/settings/"+n.slug+"/"+r.slug+"/",className:Object(a.css)({color:l.default.gray3})},i.a.createElement(y,{project:r,organization:this.props.organization})))}});t.a=j},1791:function(e,t,r){"use strict";var a=r(276),o=r.n(a),n=r(0),i=r.n(n),c=r(1),s=r.n(c),l=r(3),u=r.n(l),p=r(215),m=r(6),f=u()({displayName:"ProjectListItem",propTypes:{project:m.e.Project,stats:s.a.array},render:function(){var e=this.props.project,t=this.props.stats||e.stats,r=t&&t.map(function(e){return{x:e[0],y:e[1]}});return i.a.createElement("div",null,r&&i.a.createElement(o.a,{height:25,debounce:50},i.a.createElement(p.default,{height:25,points:r,label:"events"})))}});t.a=f}});
//# sourceMappingURL=38.js.map