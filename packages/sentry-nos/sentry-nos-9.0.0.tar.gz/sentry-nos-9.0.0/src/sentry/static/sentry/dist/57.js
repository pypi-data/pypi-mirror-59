webpackJsonpexports([57],{1630:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"default",function(){return d});var i=n(0),s=n.n(i),l=n(92),u=n(55),c=n(1711),f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},p=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),h=function e(t,n,r){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,n);if(void 0===a){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in a)return a.value;var i=a.get;if(void 0!==i)return i.call(r)},d=function(e){function t(){return r(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),p(t,[{key:"getDefaultState",value:function(){return f({},h(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"getDefaultState",this).call(this),{since:(new Date).getTime()/1e3-604800,resolution:"1h"})}},{key:"getEndpoints",value:function(){return[["config","/internal/quotas/"]]}},{key:"renderBody",value:function(){var e=this.state.config;return s.a.createElement("div",null,s.a.createElement("h3",null,"Quotas"),s.a.createElement("div",{className:"box"},s.a.createElement("div",{className:"box-header"},s.a.createElement("h4",null,"Config")),s.a.createElement("div",{className:"box-content with-padding"},s.a.createElement(u.TextField,{value:e.backend,label:"Backend",disabled:!0}),s.a.createElement(u.TextField,{value:e.options["system.rate-limit"],label:"Rate Limit",disabled:!0}))),s.a.createElement("div",{className:"box"},s.a.createElement("div",{className:"box-header"},s.a.createElement("h4",null,"Total Events")),s.a.createElement(c.a,{since:this.state.since,resolution:this.state.resolution,stat:"events.total",label:"Events"})),s.a.createElement("div",{className:"box"},s.a.createElement("div",{className:"box-header"},s.a.createElement("h4",null,"Dropped Events")),s.a.createElement(c.a,{since:this.state.since,resolution:this.state.resolution,stat:"events.dropped",label:"Events"})))}}]),t}(l.default)},1711:function(e,t,n){"use strict";var r=n(28),a=n.n(r),o=n(1),i=n.n(o),s=n(0),l=n.n(s),u=n(3),c=n.n(u),f=n(8),p=n(215),h=n(15),d=n(11),b=function(){function e(e,t){var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(a)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();t.a=c()({displayName:"internalStatChart",propTypes:{since:i.a.number.isRequired,resolution:i.a.string.isRequired,stat:i.a.string.isRequired,label:i.a.string,height:i.a.number},mixins:[f.default],getDefaultProps:function(){return{height:150}},getInitialState:function(){return{error:!1,loading:!0,data:null}},componentWillMount:function(){this.fetchData()},componentWillReceiveProps:function(e){a()(e,this.props)||this.setState({loading:!0},this.fetchData)},shouldComponentUpdate:function(e,t){return this.state.loading!==t.loading},fetchData:function(){var e=this;this.api.request("/internal/stats/",{method:"GET",data:{since:this.props.since,resolution:this.props.resolution,key:this.props.stat},success:function(t){e.setState({data:t,loading:!1,error:!1})},error:function(t){e.setState({error:!0})}})},getChartPoints:function(){return this.state.data.map(function(e){var t=b(e,2);return{x:t[0],y:t[1]}})},render:function(){return this.state.loading?l.a.createElement(d.default,null):this.state.error?l.a.createElement(h.default,{onRetry:this.fetchData}):l.a.createElement(p.default,{points:this.getChartPoints(),className:"standard-barchart",label:this.props.label,height:this.props.height})}})}});
//# sourceMappingURL=AdminQuotas.js.map