{"version":3,"sources":["webpack:///73.js","webpack:///./app/components/modals/recoveryOptionsModal.jsx"],"names":["webpackJsonpexports","1569","module","__webpack_exports__","__webpack_require__","_classCallCheck","instance","Constructor","TypeError","_possibleConstructorReturn","self","call","ReferenceError","_inherits","subClass","superClass","prototype","Object","create","constructor","value","enumerable","writable","configurable","setPrototypeOf","__proto__","defineProperty","_class","_temp","__WEBPACK_IMPORTED_MODULE_0_emotion__","__WEBPACK_IMPORTED_MODULE_1_prop_types__","__WEBPACK_IMPORTED_MODULE_1_prop_types___default","n","__WEBPACK_IMPORTED_MODULE_2_react__","__WEBPACK_IMPORTED_MODULE_2_react___default","__WEBPACK_IMPORTED_MODULE_3_app_locale__","__WEBPACK_IMPORTED_MODULE_4_app_components_alert__","__WEBPACK_IMPORTED_MODULE_5_app_components_asyncComponent__","__WEBPACK_IMPORTED_MODULE_6_app_components_buttons_button__","__WEBPACK_IMPORTED_MODULE_7_app_views_settings_components_text_textBlock__","__WEBPACK_IMPORTED_MODULE_8_app_styles_space__","_createClass","defineProperties","target","props","i","length","descriptor","key","protoProps","staticProps","RecoveryOptionsModal","_AsyncComponent","_ref","this","_len","arguments","args","Array","_key","_this","getPrototypeOf","apply","concat","handleSkipSms","setState","skipSms","state","_props","authenticatorName","closeModal","Body","Header","_state","authenticators","_authenticators$reduc","reduce","obj","item","id","recovery","sms","smsEnrolled","isEnrolled","recoveryEnrolled","a","createElement","Fragment","closeButton","onHide","t","type","className","priority","onClick","to","authId","name","autoFocus","marginLeft","propTypes","func","onClose","string","isRequired","oneOfType","node"],"mappings":"AAAAA,qBAAqB,KAEfC,KACA,SAAUC,EAAQC,EAAqBC,GAE7C,YAmBA,SAASC,GAAgBC,EAAUC,GAAe,KAAMD,YAAoBC,IAAgB,KAAM,IAAIC,WAAU,qCAEhH,QAASC,GAA2BC,EAAMC,GAAQ,IAAKD,EAAQ,KAAM,IAAIE,gBAAe,4DAAgE,QAAOD,GAAyB,gBAATA,IAAqC,kBAATA,GAA8BD,EAAPC,EAElO,QAASE,GAAUC,EAAUC,GAAc,GAA0B,kBAAfA,IAA4C,OAAfA,EAAuB,KAAM,IAAIP,WAAU,iEAAoEO,GAAeD,GAASE,UAAYC,OAAOC,OAAOH,GAAcA,EAAWC,WAAaG,aAAeC,MAAON,EAAUO,YAAY,EAAOC,UAAU,EAAMC,cAAc,KAAeR,IAAYE,OAAOO,eAAiBP,OAAOO,eAAeV,EAAUC,GAAcD,EAASW,UAAYV,GAtBjeE,OAAOS,eAAevB,EAAqB,cAAgBiB,OAAO,GAC7C,IAejBO,GAAQC,EAfaC,EAAwCzB,EAAoB,IAC5D0B,EAA2C1B,EAAoB,GAC/D2B,EAAmD3B,EAAoB4B,EAAEF,GACzEG,EAAsC7B,EAAoB,GAC1D8B,EAA8C9B,EAAoB4B,EAAEC,GACpEE,EAA2C/B,EAAoB,GAC/DgC,EAAqDhC,EAAoB,KACzEiC,EAA8DjC,EAAoB,KAClFkC,EAA8DlC,EAAoB,IAClFmC,EAA6EnC,EAAoB,IACjGoC,EAAiDpC,EAAoB,IAG1FqC,EAAe,WAAc,QAASC,GAAiBC,EAAQC,GAAS,IAAK,GAAIC,GAAI,EAAGA,EAAID,EAAME,OAAQD,IAAK,CAAE,GAAIE,GAAaH,EAAMC,EAAIE,GAAW1B,WAAa0B,EAAW1B,aAAc,EAAO0B,EAAWxB,cAAe,EAAU,SAAWwB,KAAYA,EAAWzB,UAAW,GAAML,OAAOS,eAAeiB,EAAQI,EAAWC,IAAKD,IAAiB,MAAO,UAAUxC,EAAa0C,EAAYC,GAAiJ,MAA9HD,IAAYP,EAAiBnC,EAAYS,UAAWiC,GAAiBC,GAAaR,EAAiBnC,EAAa2C,GAAqB3C,MCV1hB4C,GD8BsBvB,EAAQD,EAAS,SAAUyB,GCrBrD,QAAAD,KAAqB,GAAAE,EAAAhD,GAAAiD,KAAAH,EAAA,QAAAI,GAAAC,UAAAV,OAANW,EAAMC,MAAAH,GAAAI,EAAA,EAAAA,EAAAJ,EAAAI,IAANF,EAAME,GAAAH,UAAAG,EAAA,IAAAC,GAAAnD,EAAA6C,MAAAD,EAAAF,EAAA1B,WAAAR,OAAA4C,eAAAV,IAAAxC,KAAAmD,MAAAT,GAAAC,MAAAS,OACVN,IADU,OAAAG,GAWrBI,cAAgB,WACdJ,EAAKK,UAAUC,SAAS,KAVxBN,EAAKO,OACHD,SAAS,GAHQN,EDuJrB,MAjIA/C,GAAUsC,EAAsBC,GAuBhCX,EAAaU,IACXH,IAAK,eACL5B,MAAO,WCvCP,QAAS,iBAAkB,iCD2C3B4B,IAAK,aACL5B,MAAO,WCrCI,GAAAgD,GACyCd,KAAKV,MAApDyB,EADMD,EACNC,kBAAmBC,EADbF,EACaE,WAAYC,EADzBH,EACyBG,KAAMC,EAD/BJ,EAC+BI,OAD/BC,EAEqBnB,KAAKa,MAAhCO,EAFMD,EAENC,eAAgBR,EAFVO,EAEUP,QAFVS,EAIWD,EAAeE,OAAO,SAACC,EAAKC,GAEhD,MADAD,GAAIC,EAAKC,IAAMD,EACRD,OAFJG,EAJML,EAINK,SAAUC,EAJJN,EAIIM,IAKXC,EAAcD,GAAOA,EAAIE,WACzBC,EAAmBJ,GAAYA,EAASG,UAE5C,OACEjD,GAAAmD,EAAAC,cAACpD,EAAAmD,EAAME,SAAP,KACErD,EAAAmD,EAAAC,cAACd,GAAOgB,aAAA,EAAYC,OAAQnB,GACzBrD,OAAAkB,EAAA,GAAE,sCAGLD,EAAAmD,EAAAC,cAACf,EAAD,KACErC,EAAAmD,EAAAC,cAAC/C,EAAA,QAAD,KACGtB,OAAAkB,EAAA,GAAAuD,iCAAmCrB,EAAnC,uBAEHnC,EAAAmD,EAAAC,cAAC/C,EAAA,QAAD,KACGtB,OAAAkB,EAAA,GAAE,mEAGH+B,GAAYgB,EAOZhD,EAAAmD,EAAAC,cAAClD,EAAA,GAAMuD,KAAK,WACT1E,OAAAkB,EAAA,GAAAuD,0JANHxD,EAAAmD,EAAAC,cAAClD,EAAA,GAAMuD,KAAK,WACT1E,OAAAkB,EAAA,GAAE,gEAaP+B,GAAYgB,EAmBZhD,EAAAmD,EAAAC,cAAA,OAAKM,UAAU,gBACb1D,EAAAmD,EAAAC,cAAChD,EAAA,SACCuD,SAAS,UACTC,QAASxB,EACTyB,GACEX,gCACkCJ,EAASgB,OAD3C,IAEI,8BAENC,KAAK,WACLC,WAAA,GAECjF,OAAAkB,EAAA,GAAE,wBA7BPD,EAAAmD,EAAAC,cAAA,OAAKM,UAAU,gBACb1D,EAAAmD,EAAAC,cAAChD,EAAA,SAAOwD,QAASxC,KAAKU,cAAeiC,KAAK,WAAWC,WAAA,GAClDjF,OAAAkB,EAAA,GAAE,mBAELD,EAAAmD,EAAAC,cAAChD,EAAA,SACCuD,SAAS,UACTC,QAASxB,EACTyB,GAAA,8BAAkCd,EAAIF,GAAtC,WACAkB,KAAK,WAJPL,UAAA3E,OAAAY,EAAA,MAKQsE,WAAYlF,OAAAuB,EAAA,GAAM,KACxB0D,WAAA,GAECjF,OAAAkB,EAAA,GAAE,6BDgFRgB,GChK0Bd,EAAA,SDiKwCV,EChKlEyE,WACL9B,WAAYvC,EAAAsD,EAAUgB,KACtBC,QAASvE,EAAAsD,EAAUgB,KACnBhC,kBAAmBtC,EAAAsD,EAAUkB,OAAOC,WACpCjC,KAAMxC,EAAAsD,EAAUoB,WAAW1E,EAAAsD,EAAUgB,KAAMtE,EAAAsD,EAAUqB,OAAOF,WAC5DhC,OAAQzC,EAAAsD,EAAUoB,WAAW1E,EAAAsD,EAAUgB,KAAMtE,EAAAsD,EAAUqB,OAAOF,YDiK/D5E,EC7DHzB,GAAA","file":"73.js","sourcesContent":["webpackJsonpexports([73],{\n\n/***/ 1569:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_emotion__ = __webpack_require__(27);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_prop_types__ = __webpack_require__(1);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_prop_types___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_prop_types__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_react__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_react__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_app_locale__ = __webpack_require__(2);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_app_components_alert__ = __webpack_require__(212);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_app_components_asyncComponent__ = __webpack_require__(182);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_app_components_buttons_button__ = __webpack_require__(26);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7_app_views_settings_components_text_textBlock__ = __webpack_require__(81);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8_app_styles_space__ = __webpack_require__(38);\n\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _class, _temp;\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n\n\n\n\n\n\n\n\n\n\nvar RecoveryOptionsModal = (_temp = _class = function (_AsyncComponent) {\n  _inherits(RecoveryOptionsModal, _AsyncComponent);\n\n  function RecoveryOptionsModal() {\n    var _ref;\n\n    _classCallCheck(this, RecoveryOptionsModal);\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    var _this = _possibleConstructorReturn(this, (_ref = RecoveryOptionsModal.__proto__ || Object.getPrototypeOf(RecoveryOptionsModal)).call.apply(_ref, [this].concat(args)));\n\n    _this.handleSkipSms = function () {\n      _this.setState({ skipSms: true });\n    };\n\n    _this.state = {\n      skipSms: false\n    };\n    return _this;\n  }\n\n  _createClass(RecoveryOptionsModal, [{\n    key: 'getEndpoints',\n    value: function getEndpoints() {\n      return [['authenticators', '/users/me/authenticators/']];\n    }\n  }, {\n    key: 'renderBody',\n    value: function renderBody() {\n      var _props = this.props,\n          authenticatorName = _props.authenticatorName,\n          closeModal = _props.closeModal,\n          Body = _props.Body,\n          Header = _props.Header;\n      var _state = this.state,\n          authenticators = _state.authenticators,\n          skipSms = _state.skipSms;\n\n      var _authenticators$reduc = authenticators.reduce(function (obj, item) {\n        obj[item.id] = item;\n        return obj;\n      }, {}),\n          recovery = _authenticators$reduc.recovery,\n          sms = _authenticators$reduc.sms;\n\n      var smsEnrolled = sms && sms.isEnrolled;\n      var recoveryEnrolled = recovery && recovery.isEnrolled;\n\n      return __WEBPACK_IMPORTED_MODULE_2_react___default.a.createElement(\n        __WEBPACK_IMPORTED_MODULE_2_react___default.a.Fragment,\n        null,\n        __WEBPACK_IMPORTED_MODULE_2_react___default.a.createElement(\n          Header,\n          { closeButton: true, onHide: closeModal },\n          Object(__WEBPACK_IMPORTED_MODULE_3_app_locale__[\"t\"])('Two-Factor Authentication Enabled')\n        ),\n        __WEBPACK_IMPORTED_MODULE_2_react___default.a.createElement(\n          Body,\n          null,\n          __WEBPACK_IMPORTED_MODULE_2_react___default.a.createElement(\n            __WEBPACK_IMPORTED_MODULE_7_app_views_settings_components_text_textBlock__[\"default\"],\n            null,\n            Object(__WEBPACK_IMPORTED_MODULE_3_app_locale__[\"t\"])('Two-factor authentication via ' + authenticatorName + ' has been enabled.')\n          ),\n          __WEBPACK_IMPORTED_MODULE_2_react___default.a.createElement(\n            __WEBPACK_IMPORTED_MODULE_7_app_views_settings_components_text_textBlock__[\"default\"],\n            null,\n            Object(__WEBPACK_IMPORTED_MODULE_3_app_locale__[\"t\"])('You should now set up recovery options to secure your account.')\n          ),\n          !skipSms && !smsEnrolled ?\n          // set up backup phone number\n          __WEBPACK_IMPORTED_MODULE_2_react___default.a.createElement(\n            __WEBPACK_IMPORTED_MODULE_4_app_components_alert__[\"a\" /* default */],\n            { type: 'warning' },\n            Object(__WEBPACK_IMPORTED_MODULE_3_app_locale__[\"t\"])('We recommend adding a phone number as a backup 2FA method.')\n          ) :\n          // get recovery codes\n          __WEBPACK_IMPORTED_MODULE_2_react___default.a.createElement(\n            __WEBPACK_IMPORTED_MODULE_4_app_components_alert__[\"a\" /* default */],\n            { type: 'warning' },\n            Object(__WEBPACK_IMPORTED_MODULE_3_app_locale__[\"t\"])('Recovery codes are the only way to access your account if you lose\\n                  your device and cannot receive two-factor authentication codes.')\n          )\n        ),\n        !skipSms && !smsEnrolled ?\n        // set up backup phone number\n        __WEBPACK_IMPORTED_MODULE_2_react___default.a.createElement(\n          'div',\n          { className: 'modal-footer' },\n          __WEBPACK_IMPORTED_MODULE_2_react___default.a.createElement(\n            __WEBPACK_IMPORTED_MODULE_6_app_components_buttons_button__[\"default\"],\n            { onClick: this.handleSkipSms, name: 'skipStep', autoFocus: true },\n            Object(__WEBPACK_IMPORTED_MODULE_3_app_locale__[\"t\"])('Skip this step')\n          ),\n          __WEBPACK_IMPORTED_MODULE_2_react___default.a.createElement(\n            __WEBPACK_IMPORTED_MODULE_6_app_components_buttons_button__[\"default\"],\n            {\n              priority: 'primary',\n              onClick: closeModal,\n              to: '/settings/account/security/' + sms.id + '/enroll/',\n              name: 'addPhone',\n              className: Object(__WEBPACK_IMPORTED_MODULE_0_emotion__[\"css\"])({ marginLeft: Object(__WEBPACK_IMPORTED_MODULE_8_app_styles_space__[\"a\" /* default */])(1) }),\n\n              autoFocus: true\n            },\n            Object(__WEBPACK_IMPORTED_MODULE_3_app_locale__[\"t\"])('Add a Phone Number')\n          )\n        ) :\n        // get recovery codes\n        __WEBPACK_IMPORTED_MODULE_2_react___default.a.createElement(\n          'div',\n          { className: 'modal-footer' },\n          __WEBPACK_IMPORTED_MODULE_2_react___default.a.createElement(\n            __WEBPACK_IMPORTED_MODULE_6_app_components_buttons_button__[\"default\"],\n            {\n              priority: 'primary',\n              onClick: closeModal,\n              to: recoveryEnrolled ? '/settings/account/security/' + recovery.authId + '/' : '/settings/account/security/',\n              name: 'getCodes',\n              autoFocus: true\n            },\n            Object(__WEBPACK_IMPORTED_MODULE_3_app_locale__[\"t\"])('Get Recovery Codes')\n          )\n        )\n      );\n    }\n  }]);\n\n  return RecoveryOptionsModal;\n}(__WEBPACK_IMPORTED_MODULE_5_app_components_asyncComponent__[\"default\"]), _class.propTypes = {\n  closeModal: __WEBPACK_IMPORTED_MODULE_1_prop_types___default.a.func,\n  onClose: __WEBPACK_IMPORTED_MODULE_1_prop_types___default.a.func,\n  authenticatorName: __WEBPACK_IMPORTED_MODULE_1_prop_types___default.a.string.isRequired,\n  Body: __WEBPACK_IMPORTED_MODULE_1_prop_types___default.a.oneOfType([__WEBPACK_IMPORTED_MODULE_1_prop_types___default.a.func, __WEBPACK_IMPORTED_MODULE_1_prop_types___default.a.node]).isRequired,\n  Header: __WEBPACK_IMPORTED_MODULE_1_prop_types___default.a.oneOfType([__WEBPACK_IMPORTED_MODULE_1_prop_types___default.a.func, __WEBPACK_IMPORTED_MODULE_1_prop_types___default.a.node]).isRequired\n}, _temp);\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (RecoveryOptionsModal);\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// 73.js","import PropTypes from 'prop-types';\nimport React from 'react';\n\nimport {t} from 'app/locale';\nimport Alert from 'app/components/alert';\nimport AsyncComponent from 'app/components/asyncComponent';\nimport Button from 'app/components/buttons/button';\nimport TextBlock from 'app/views/settings/components/text/textBlock';\nimport space from 'app/styles/space';\n\nclass RecoveryOptionsModal extends AsyncComponent {\n  static propTypes = {\n    closeModal: PropTypes.func,\n    onClose: PropTypes.func,\n    authenticatorName: PropTypes.string.isRequired,\n    Body: PropTypes.oneOfType([PropTypes.func, PropTypes.node]).isRequired,\n    Header: PropTypes.oneOfType([PropTypes.func, PropTypes.node]).isRequired,\n  };\n\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      skipSms: false,\n    };\n  }\n\n  getEndpoints() {\n    return [['authenticators', '/users/me/authenticators/']];\n  }\n\n  handleSkipSms = () => {\n    this.setState({skipSms: true});\n  };\n\n  renderBody() {\n    let {authenticatorName, closeModal, Body, Header} = this.props;\n    let {authenticators, skipSms} = this.state;\n\n    let {recovery, sms} = authenticators.reduce((obj, item) => {\n      obj[item.id] = item;\n      return obj;\n    }, {});\n\n    let smsEnrolled = sms && sms.isEnrolled;\n    let recoveryEnrolled = recovery && recovery.isEnrolled;\n\n    return (\n      <React.Fragment>\n        <Header closeButton onHide={closeModal}>\n          {t('Two-Factor Authentication Enabled')}\n        </Header>\n\n        <Body>\n          <TextBlock>\n            {t(`Two-factor authentication via ${authenticatorName} has been enabled.`)}\n          </TextBlock>\n          <TextBlock>\n            {t('You should now set up recovery options to secure your account.')}\n          </TextBlock>\n\n          {!skipSms && !smsEnrolled ? (\n            // set up backup phone number\n            <Alert type=\"warning\">\n              {t('We recommend adding a phone number as a backup 2FA method.')}\n            </Alert>\n          ) : (\n            // get recovery codes\n            <Alert type=\"warning\">\n              {t(\n                `Recovery codes are the only way to access your account if you lose\n                  your device and cannot receive two-factor authentication codes.`\n              )}\n            </Alert>\n          )}\n        </Body>\n\n        {!skipSms && !smsEnrolled ? (\n          // set up backup phone number\n          <div className=\"modal-footer\">\n            <Button onClick={this.handleSkipSms} name=\"skipStep\" autoFocus>\n              {t('Skip this step')}\n            </Button>\n            <Button\n              priority=\"primary\"\n              onClick={closeModal}\n              to={`/settings/account/security/${sms.id}/enroll/`}\n              name=\"addPhone\"\n              css={{marginLeft: space(1)}}\n              autoFocus\n            >\n              {t('Add a Phone Number')}\n            </Button>\n          </div>\n        ) : (\n          // get recovery codes\n          <div className=\"modal-footer\">\n            <Button\n              priority=\"primary\"\n              onClick={closeModal}\n              to={\n                recoveryEnrolled\n                  ? `/settings/account/security/${recovery.authId}/`\n                  : '/settings/account/security/'\n              }\n              name=\"getCodes\"\n              autoFocus\n            >\n              {t('Get Recovery Codes')}\n            </Button>\n          </div>\n        )}\n      </React.Fragment>\n    );\n  }\n}\n\nexport default RecoveryOptionsModal;\n\n\n\n// WEBPACK FOOTER //\n// ./app/components/modals/recoveryOptionsModal.jsx"],"sourceRoot":""}