{"version":3,"sources":["webpack:///64.js","webpack:///./app/views/settings/project/projectServiceHooks.jsx"],"names":["webpackJsonpexports","1594","module","__webpack_exports__","__webpack_require__","_classCallCheck","instance","Constructor","TypeError","_possibleConstructorReturn","self","call","ReferenceError","_inherits","subClass","superClass","prototype","Object","create","constructor","value","enumerable","writable","configurable","setPrototypeOf","__proto__","defineProperty","d","ProjectServiceHooks","_class","_temp2","__WEBPACK_IMPORTED_MODULE_0_prop_types__","__WEBPACK_IMPORTED_MODULE_0_prop_types___default","n","__WEBPACK_IMPORTED_MODULE_1_react_router__","__WEBPACK_IMPORTED_MODULE_2_react__","__WEBPACK_IMPORTED_MODULE_2_react___default","__WEBPACK_IMPORTED_MODULE_3_create_react_class__","__WEBPACK_IMPORTED_MODULE_3_create_react_class___default","__WEBPACK_IMPORTED_MODULE_4_app_locale__","__WEBPACK_IMPORTED_MODULE_5_app_mixins_apiMixin__","__WEBPACK_IMPORTED_MODULE_6_app_views_asyncView__","__WEBPACK_IMPORTED_MODULE_7_app_components_buttons_button__","__WEBPACK_IMPORTED_MODULE_8_app_views_settings_components_emptyMessage__","__WEBPACK_IMPORTED_MODULE_9_app_views_settings_components_forms_field__","__WEBPACK_IMPORTED_MODULE_10_app_stores_indicatorStore__","__WEBPACK_IMPORTED_MODULE_11_app_components_panels__","__WEBPACK_IMPORTED_MODULE_12_app_views_settings_components_settingsPageHeader__","__WEBPACK_IMPORTED_MODULE_13_app_components_switch__","__WEBPACK_IMPORTED_MODULE_14_app_components_truncate__","_extends","assign","target","i","arguments","length","source","key","hasOwnProperty","_createClass","defineProperties","props","descriptor","protoProps","staticProps","ServiceHookRow","displayName","propTypes","orgId","a","string","isRequired","projectId","hook","object","onToggleActive","func","mixins","getInitialState","loading","error","render","_props","this","createElement","label","to","id","url","help","events","join","isActive","status","size","toggle","_AsyncView","_ref","_temp","_this","_ret","_len","args","Array","_key","getPrototypeOf","apply","concat","_this$props$params","params","loadingIndicator","add","api","request","method","data","success","remove","hookList","state","map","h","setState","duration","_props$params","_this2","_props$params2","Fragment","type","icon","m","mb","bind","body","renderResults","renderEmpty","_props$params3","access","Set","context","organization","className","title","action","has","data-test-id","priority","contextTypes"],"mappings":"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","file":"64.js","sourcesContent":["webpackJsonpexports([64],{\n\n/***/ 1594:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return ProjectServiceHooks; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_prop_types__ = __webpack_require__(1);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_prop_types___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_prop_types__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_react_router__ = __webpack_require__(9);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_react__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_react__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_create_react_class__ = __webpack_require__(3);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_create_react_class___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_create_react_class__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_app_locale__ = __webpack_require__(2);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_app_mixins_apiMixin__ = __webpack_require__(8);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_app_views_asyncView__ = __webpack_require__(92);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7_app_components_buttons_button__ = __webpack_require__(26);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8_app_views_settings_components_emptyMessage__ = __webpack_require__(178);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9_app_views_settings_components_forms_field__ = __webpack_require__(602);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10_app_stores_indicatorStore__ = __webpack_require__(30);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_11_app_components_panels__ = __webpack_require__(18);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_12_app_views_settings_components_settingsPageHeader__ = __webpack_require__(52);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_13_app_components_switch__ = __webpack_require__(214);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_14_app_components_truncate__ = __webpack_require__(413);\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _class, _temp2;\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar ServiceHookRow = __WEBPACK_IMPORTED_MODULE_3_create_react_class___default()({\n  displayName: 'ServiceHookRow',\n\n  propTypes: {\n    orgId: __WEBPACK_IMPORTED_MODULE_0_prop_types___default.a.string.isRequired,\n    projectId: __WEBPACK_IMPORTED_MODULE_0_prop_types___default.a.string.isRequired,\n    hook: __WEBPACK_IMPORTED_MODULE_0_prop_types___default.a.object.isRequired,\n    onToggleActive: __WEBPACK_IMPORTED_MODULE_0_prop_types___default.a.func.isRequired\n  },\n\n  mixins: [__WEBPACK_IMPORTED_MODULE_5_app_mixins_apiMixin__[\"default\"]],\n\n  getInitialState: function getInitialState() {\n    return {\n      loading: false,\n      error: false\n    };\n  },\n  render: function render() {\n    var _props = this.props,\n        orgId = _props.orgId,\n        projectId = _props.projectId,\n        hook = _props.hook;\n\n    return __WEBPACK_IMPORTED_MODULE_2_react___default.a.createElement(\n      __WEBPACK_IMPORTED_MODULE_9_app_views_settings_components_forms_field__[\"a\" /* default */],\n      {\n        label: __WEBPACK_IMPORTED_MODULE_2_react___default.a.createElement(\n          __WEBPACK_IMPORTED_MODULE_1_react_router__[\"Link\"],\n          { to: '/settings/' + orgId + '/' + projectId + '/hooks/' + hook.id + '/' },\n          __WEBPACK_IMPORTED_MODULE_2_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_14_app_components_truncate__[\"a\" /* default */], { value: hook.url })\n        ),\n        help: hook.events && hook.events.length !== 0 ? __WEBPACK_IMPORTED_MODULE_2_react___default.a.createElement(\n          'small',\n          null,\n          hook.events.join(', ')\n        ) : __WEBPACK_IMPORTED_MODULE_2_react___default.a.createElement(\n          'small',\n          null,\n          __WEBPACK_IMPORTED_MODULE_2_react___default.a.createElement(\n            'em',\n            null,\n            'no events configured'\n          )\n        )\n      },\n      __WEBPACK_IMPORTED_MODULE_2_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_13_app_components_switch__[\"default\"], {\n        isActive: hook.status === 'active',\n        size: 'lg',\n        toggle: this.props.onToggleActive\n      })\n    );\n  }\n});\n\nvar ProjectServiceHooks = (_temp2 = _class = function (_AsyncView) {\n  _inherits(ProjectServiceHooks, _AsyncView);\n\n  function ProjectServiceHooks() {\n    var _ref;\n\n    var _temp, _this, _ret;\n\n    _classCallCheck(this, ProjectServiceHooks);\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = ProjectServiceHooks.__proto__ || Object.getPrototypeOf(ProjectServiceHooks)).call.apply(_ref, [this].concat(args))), _this), _this.onToggleActive = function (hook) {\n      var _this$props$params = _this.props.params,\n          orgId = _this$props$params.orgId,\n          projectId = _this$props$params.projectId;\n\n      var loadingIndicator = __WEBPACK_IMPORTED_MODULE_10_app_stores_indicatorStore__[\"default\"].add(Object(__WEBPACK_IMPORTED_MODULE_4_app_locale__[\"t\"])('Saving changes..'));\n      _this.api.request('/projects/' + orgId + '/' + projectId + '/hooks/' + hook.id + '/', {\n        method: 'PUT',\n        data: {\n          isActive: hook.status !== 'active'\n        },\n        success: function success(data) {\n          __WEBPACK_IMPORTED_MODULE_10_app_stores_indicatorStore__[\"default\"].remove(loadingIndicator);\n          var hookList = _this.state.hookList.map(function (h) {\n            if (h.id === data.id) {\n              return _extends({}, h, data);\n            }\n            return h;\n          });\n          _this.setState({ hookList: hookList });\n        },\n        error: function error() {\n          __WEBPACK_IMPORTED_MODULE_10_app_stores_indicatorStore__[\"default\"].remove(loadingIndicator);\n          __WEBPACK_IMPORTED_MODULE_10_app_stores_indicatorStore__[\"default\"].add(Object(__WEBPACK_IMPORTED_MODULE_4_app_locale__[\"t\"])('Unable to remove application. Please try again.'), 'error', {\n            duration: 3000\n          });\n        }\n      });\n    }, _temp), _possibleConstructorReturn(_this, _ret);\n  }\n\n  _createClass(ProjectServiceHooks, [{\n    key: 'getEndpoints',\n    value: function getEndpoints() {\n      var _props$params = this.props.params,\n          orgId = _props$params.orgId,\n          projectId = _props$params.projectId;\n\n      return [['hookList', '/projects/' + orgId + '/' + projectId + '/hooks/']];\n    }\n  }, {\n    key: 'renderEmpty',\n    value: function renderEmpty() {\n      return __WEBPACK_IMPORTED_MODULE_2_react___default.a.createElement(\n        __WEBPACK_IMPORTED_MODULE_8_app_views_settings_components_emptyMessage__[\"a\" /* default */],\n        null,\n        Object(__WEBPACK_IMPORTED_MODULE_4_app_locale__[\"t\"])('There are no service hooks associated with this project.')\n      );\n    }\n  }, {\n    key: 'renderResults',\n    value: function renderResults() {\n      var _this2 = this;\n\n      var _props$params2 = this.props.params,\n          orgId = _props$params2.orgId,\n          projectId = _props$params2.projectId;\n\n\n      return __WEBPACK_IMPORTED_MODULE_2_react___default.a.createElement(\n        __WEBPACK_IMPORTED_MODULE_2_react___default.a.Fragment,\n        null,\n        __WEBPACK_IMPORTED_MODULE_2_react___default.a.createElement(\n          __WEBPACK_IMPORTED_MODULE_11_app_components_panels__[\"e\" /* PanelHeader */],\n          { key: 'header' },\n          Object(__WEBPACK_IMPORTED_MODULE_4_app_locale__[\"t\"])('Service Hook')\n        ),\n        __WEBPACK_IMPORTED_MODULE_2_react___default.a.createElement(\n          __WEBPACK_IMPORTED_MODULE_11_app_components_panels__[\"c\" /* PanelBody */],\n          { key: 'body' },\n          __WEBPACK_IMPORTED_MODULE_2_react___default.a.createElement(\n            __WEBPACK_IMPORTED_MODULE_11_app_components_panels__[\"b\" /* PanelAlert */],\n            { type: 'info', icon: 'icon-circle-exclamation', m: 0, mb: 0 },\n            'Service Hooks are an early adopter preview feature and will change in the future.'\n          ),\n          this.state.hookList.map(function (hook) {\n            return __WEBPACK_IMPORTED_MODULE_2_react___default.a.createElement(ServiceHookRow, {\n              key: hook.id,\n              orgId: orgId,\n              projectId: projectId,\n              hook: hook,\n              onToggleActive: _this2.onToggleActive.bind(_this2, hook)\n            });\n          })\n        )\n      );\n    }\n  }, {\n    key: 'renderBody',\n    value: function renderBody() {\n      var body = void 0;\n      if (this.state.hookList.length > 0) body = this.renderResults();else body = this.renderEmpty();\n\n      var _props$params3 = this.props.params,\n          orgId = _props$params3.orgId,\n          projectId = _props$params3.projectId;\n\n      var access = new Set(this.context.organization.access);\n\n      return __WEBPACK_IMPORTED_MODULE_2_react___default.a.createElement(\n        'div',\n        { className: 'ref-project-service-hooks' },\n        __WEBPACK_IMPORTED_MODULE_2_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_12_app_views_settings_components_settingsPageHeader__[\"default\"], {\n          title: Object(__WEBPACK_IMPORTED_MODULE_4_app_locale__[\"t\"])('Service Hooks'),\n          action: access.has('project:write') ? __WEBPACK_IMPORTED_MODULE_2_react___default.a.createElement(\n            __WEBPACK_IMPORTED_MODULE_7_app_components_buttons_button__[\"default\"],\n            {\n              'data-test-id': 'new-service-hook',\n              to: '/settings/' + orgId + '/' + projectId + '/hooks/new/',\n              size: 'small',\n              priority: 'primary'\n            },\n            __WEBPACK_IMPORTED_MODULE_2_react___default.a.createElement('span', { className: 'icon-plus' }),\n            '\\xA0',\n            Object(__WEBPACK_IMPORTED_MODULE_4_app_locale__[\"t\"])('Create New Hook')\n          ) : null\n        }),\n        __WEBPACK_IMPORTED_MODULE_2_react___default.a.createElement(\n          __WEBPACK_IMPORTED_MODULE_11_app_components_panels__[\"a\" /* Panel */],\n          null,\n          body\n        )\n      );\n    }\n  }]);\n\n  return ProjectServiceHooks;\n}(__WEBPACK_IMPORTED_MODULE_6_app_views_asyncView__[\"default\"]), _class.contextTypes = {\n  organization: __WEBPACK_IMPORTED_MODULE_0_prop_types___default.a.object.isRequired\n}, _temp2);\n\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// 64.js","import PropTypes from 'prop-types';\nimport {Link} from 'react-router';\nimport React from 'react';\nimport createReactClass from 'create-react-class';\n\nimport {t} from 'app/locale';\nimport ApiMixin from 'app/mixins/apiMixin';\nimport AsyncView from 'app/views/asyncView';\nimport Button from 'app/components/buttons/button';\nimport EmptyMessage from 'app/views/settings/components/emptyMessage';\nimport Field from 'app/views/settings/components/forms/field';\nimport IndicatorStore from 'app/stores/indicatorStore';\nimport {Panel, PanelAlert, PanelBody, PanelHeader} from 'app/components/panels';\nimport SettingsPageHeader from 'app/views/settings/components/settingsPageHeader';\nimport Switch from 'app/components/switch';\nimport Truncate from 'app/components/truncate';\n\nconst ServiceHookRow = createReactClass({\n  displayName: 'ServiceHookRow',\n\n  propTypes: {\n    orgId: PropTypes.string.isRequired,\n    projectId: PropTypes.string.isRequired,\n    hook: PropTypes.object.isRequired,\n    onToggleActive: PropTypes.func.isRequired,\n  },\n\n  mixins: [ApiMixin],\n\n  getInitialState() {\n    return {\n      loading: false,\n      error: false,\n    };\n  },\n\n  render() {\n    let {orgId, projectId, hook} = this.props;\n    return (\n      <Field\n        label={\n          <Link to={`/settings/${orgId}/${projectId}/hooks/${hook.id}/`}>\n            <Truncate value={hook.url} />\n          </Link>\n        }\n        help={\n          hook.events && hook.events.length !== 0 ? (\n            <small>{hook.events.join(', ')}</small>\n          ) : (\n            <small>\n              <em>no events configured</em>\n            </small>\n          )\n        }\n      >\n        <Switch\n          isActive={hook.status === 'active'}\n          size=\"lg\"\n          toggle={this.props.onToggleActive}\n        />\n      </Field>\n    );\n  },\n});\n\nexport default class ProjectServiceHooks extends AsyncView {\n  static contextTypes = {\n    organization: PropTypes.object.isRequired,\n  };\n\n  getEndpoints() {\n    let {orgId, projectId} = this.props.params;\n    return [['hookList', `/projects/${orgId}/${projectId}/hooks/`]];\n  }\n\n  onToggleActive = hook => {\n    let {orgId, projectId} = this.props.params;\n    let loadingIndicator = IndicatorStore.add(t('Saving changes..'));\n    this.api.request(`/projects/${orgId}/${projectId}/hooks/${hook.id}/`, {\n      method: 'PUT',\n      data: {\n        isActive: hook.status !== 'active',\n      },\n      success: data => {\n        IndicatorStore.remove(loadingIndicator);\n        let hookList = this.state.hookList.map(h => {\n          if (h.id === data.id) {\n            return {\n              ...h,\n              ...data,\n            };\n          }\n          return h;\n        });\n        this.setState({hookList});\n      },\n      error: () => {\n        IndicatorStore.remove(loadingIndicator);\n        IndicatorStore.add(\n          t('Unable to remove application. Please try again.'),\n          'error',\n          {\n            duration: 3000,\n          }\n        );\n      },\n    });\n  };\n\n  renderEmpty() {\n    return (\n      <EmptyMessage>\n        {t('There are no service hooks associated with this project.')}\n      </EmptyMessage>\n    );\n  }\n\n  renderResults() {\n    let {orgId, projectId} = this.props.params;\n\n    return (\n      <React.Fragment>\n        <PanelHeader key={'header'}>{t('Service Hook')}</PanelHeader>\n        <PanelBody key={'body'}>\n          <PanelAlert type=\"info\" icon=\"icon-circle-exclamation\" m={0} mb={0}>\n            Service Hooks are an early adopter preview feature and will change in the\n            future.\n          </PanelAlert>\n          {this.state.hookList.map(hook => {\n            return (\n              <ServiceHookRow\n                key={hook.id}\n                orgId={orgId}\n                projectId={projectId}\n                hook={hook}\n                onToggleActive={this.onToggleActive.bind(this, hook)}\n              />\n            );\n          })}\n        </PanelBody>\n      </React.Fragment>\n    );\n  }\n\n  renderBody() {\n    let body;\n    if (this.state.hookList.length > 0) body = this.renderResults();\n    else body = this.renderEmpty();\n\n    let {orgId, projectId} = this.props.params;\n    let access = new Set(this.context.organization.access);\n\n    return (\n      <div className=\"ref-project-service-hooks\">\n        <SettingsPageHeader\n          title={t('Service Hooks')}\n          action={\n            access.has('project:write') ? (\n              <Button\n                data-test-id=\"new-service-hook\"\n                to={`/settings/${orgId}/${projectId}/hooks/new/`}\n                size=\"small\"\n                priority=\"primary\"\n              >\n                <span className=\"icon-plus\" />&nbsp;{t('Create New Hook')}\n              </Button>\n            ) : null\n          }\n        />\n        <Panel>{body}</Panel>\n      </div>\n    );\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./app/views/settings/project/projectServiceHooks.jsx"],"sourceRoot":""}