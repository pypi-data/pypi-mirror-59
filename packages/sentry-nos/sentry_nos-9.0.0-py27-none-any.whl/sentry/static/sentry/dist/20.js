webpackJsonpexports([20],{1574:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a,u,c=n(14),s=n(1),l=n.n(s),f=n(0),p=n.n(f),h=n(80),d=n(2),m=n(1686),y=n(92),b=n(26),g=n(600),v=n(1637),O=n(18),w=n(52),_=n(643),E=n(1656),j=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},k=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),P="/users/me/emails/",x=(u=a=function(e){function t(){var e,n,o,a;r(this,t);for(var u=arguments.length,c=Array(u),s=0;s<u;s++)c[s]=arguments[s];return n=o=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(c))),o.handleSetPrimary=function(e){"function"==typeof o.props.onSetPrimary&&o.props.onSetPrimary(o.props.email,e)},o.handleRemove=function(e){o.props.onRemove(o.props.email,e)},o.handleVerify=function(e){o.props.onVerify(o.props.email,e)},a=n,i(o,a)}return o(t,e),k(t,[{key:"render",value:function(){var e=this.props,t=e.email,n=e.isPrimary,r=e.isVerified,i=e.hideRemove;return p.a.createElement(O.f,{justify:"space-between"},p.a.createElement(c.Flex,{align:"center"},t,!r&&p.a.createElement(_.a,{priority:"warning"},Object(d.t)("Unverified")),n&&p.a.createElement(_.a,{priority:"success"},Object(d.t)("Primary"))),p.a.createElement(c.Flex,null,!n&&r&&p.a.createElement(b.default,{size:"small",onClick:this.handleSetPrimary},Object(d.t)("Set as primary")),!r&&p.a.createElement(b.default,{size:"small",onClick:this.handleVerify},Object(d.t)("Resend verification")),!i&&!n&&p.a.createElement(c.Box,{ml:1},p.a.createElement(b.default,{"data-test-id":"remove",priority:"danger",size:"small",icon:"icon-trash",onClick:this.handleRemove}))))}}]),t}(p.a.Component),a.propTypes={email:l.a.string.isRequired,onRemove:l.a.func.isRequired,onVerify:l.a.func.isRequired,isVerified:l.a.bool,isPrimary:l.a.bool,hideRemove:l.a.bool,onSetPrimary:l.a.func},u),S=function(e){function t(){var e,n,o,a;r(this,t);for(var u=arguments.length,c=Array(u),s=0;s<u;s++)c[s]=arguments[s];return n=o=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(c))),o.handleSubmitSuccess=function(e,t,n){t.setValue(n,""),o.remountComponent()},o.handleError=function(e){o.remountComponent(),e&&e.responseJSON&&e.responseJSON.email&&Object(h.a)(e.responseJSON.email)},o.createApiCall=function(e,t){o.setState({loading:!0,emails:[]},function(){o.api.requestPromise(e,t).then(o.remountComponent.bind(o)).catch(o.handleError)})},o.handleSetPrimary=function(e){o.createApiCall(P,{method:"PUT",data:{email:e}})},o.handleRemove=function(e){o.createApiCall(P,{method:"DELETE",data:{email:e}})},o.handleVerify=function(e){o.createApiCall(P+"confirm/",{method:"POST",data:{email:e}})},a=n,i(o,a)}return o(t,e),k(t,[{key:"getEndpoints",value:function(){return[["emails",P]]}},{key:"getTitle",value:function(){return"Emails"}},{key:"renderBody",value:function(){var e=this,t=this.state.emails,n=t.find(function(e){return e.isPrimary}),r=t.filter(function(e){return!e.isPrimary});return p.a.createElement("div",null,p.a.createElement(w.default,{title:"Emails"}),p.a.createElement(O.a,null,p.a.createElement(O.e,null,Object(d.t)("Emails")),p.a.createElement(O.c,null,n&&p.a.createElement(x,j({onRemove:this.handleRemove,onVerify:this.handleVerify},n)),r&&r.map(function(t){return p.a.createElement(x,j({key:t.email,onSetPrimary:e.handleSetPrimary,onRemove:e.handleRemove,onVerify:e.handleVerify},t))}))),p.a.createElement(g.a,{apiMethod:"POST",apiEndpoint:P,saveOnBlur:!0,allowUndo:!1,onSubmitSuccess:this.handleSubmitSuccess},p.a.createElement(v.a,{location:this.props.location,forms:E.default})),p.a.createElement(m.a,{to:"/settings/account/notifications",icon:"icon-stack"},Object(d.t)("Want to change how many emails you get? Use the notifications panel.")))}}]),t}(y.default);t.default=S},1636:function(e,t){var n=Object.prototype.toString;e.exports=function(e){switch(n.call(e)){case"[object Date]":return"date";case"[object RegExp]":return"regexp";case"[object Arguments]":return"arguments";case"[object Array]":return"array";case"[object Error]":return"error"}return null===e?"null":void 0===e?"undefined":e!==e?"nan":e&&1===e.nodeType?"element":typeof(e=e.valueOf?e.valueOf():Object.prototype.valueOf.apply(e))}},1637:function(e,t,n){"use strict";function r(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var u,c,s,l,f,p=n(14),h=n(1),d=n.n(h),m=n(0),y=n.n(m),b=n(1638),g=n.n(b),v=n(10),O=n(601),w=n(18),_=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},E=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),j=(c=u=function(e){function t(e){var n;i(this,t);for(var r=arguments.length,a=Array(r>1?r-1:0),u=1;u<r;u++)a[u-1]=arguments[u];var c=o(this,(n=t.__proto__||Object.getPrototypeOf(t)).call.apply(n,[this,e].concat(a)));return s.call(c),c.state={highlighted:c.getLocation(e).hash},c}return a(t,e),E(t,[{key:"componentDidMount",value:function(){this.scrollToHash()}},{key:"componentWillReceiveProps",value:function(e,t){if(this.getLocation(this.props).hash!==this.getLocation(e).hash){var n=this.getLocation(e).hash;this.scrollToHash(n),this.setState({highlighted:n})}}},{key:"scrollToHash",value:function(e){var t=e||this.getLocation(this.props).hash;t&&g()(t,{align:"middle",offset:-100})}},{key:"render",value:function(){var e=this.props,t=e.forms,n=e.title,i=e.fields,o=e.access,a=e.features,u=e.additionalFieldProps,c=e.renderFooter,s=e.renderHeader,l=(e.location,r(e,["forms","title","fields","access","features","additionalFieldProps","renderFooter","renderHeader","location"])),f=Object(v.d)(t),h={access:o,features:a,additionalFieldProps:u,renderFooter:c,renderHeader:s,highlighted:this.state.highlighted};return y.a.createElement(p.Box,l,f?t.map(function(e){return y.a.createElement(k,_({key:e.title,title:e.title,fields:e.fields},h))}):y.a.createElement(k,_({title:n,fields:i},h)))}}]),t}(y.a.Component),u.propTypes={forms:d.a.arrayOf(d.a.shape({title:d.a.string,fields:d.a.arrayOf(d.a.oneOfType([d.a.func,O.a.propTypes.field]))})),fields:d.a.arrayOf(d.a.oneOfType([d.a.func,O.a.propTypes.field])),title:d.a.string,access:d.a.object,features:d.a.object,additionalFieldProps:d.a.object,renderFooter:d.a.func,renderHeader:d.a.func},u.defaultProps={additionalFieldProps:{}},u.contextTypes={location:d.a.object},s=function(){var e=this;this.getLocation=function(t){return t.location||e.context.location||{}}},c);t.a=j;var k=(f=l=function(e){function t(){return i(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),E(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.title,i=t.fields,o=t.access,a=t.additionalFieldProps,u=t.renderFooter,c=t.renderHeader,s=(t.location,r(t,["title","fields","access","additionalFieldProps","renderFooter","renderHeader","location"])),l="function"==typeof u,f="function"==typeof c;return y.a.createElement(w.a,{key:n,id:n},y.a.createElement(w.e,null,n),y.a.createElement(w.c,null,f&&c({title:n,fields:i}),i.map(function(t){if("function"==typeof t)return t();var n=(t.defaultValue,r(t,["defaultValue"]));return y.a.createElement(O.a,_({access:o,key:t.name},s,a,{field:n,highlighted:e.props.highlighted==="#"+t.name}))}),l&&u({title:n,fields:i})))}}]),t}(y.a.Component),l.propTypes={title:d.a.string,fields:d.a.arrayOf(d.a.oneOfType([d.a.func,O.a.propTypes.field])),access:d.a.object,additionalFieldProps:d.a.object,highlighted:d.a.string,renderHeader:d.a.func,renderFooter:d.a.func},f)},1638:function(e,t,n){function r(e,t,n){var r=document.body,i=document.documentElement,o=e.getBoundingClientRect(),a=i.clientHeight,u=Math.max(r.scrollHeight,r.offsetHeight,i.clientHeight,i.scrollHeight,i.offsetHeight);t=t||0;var c;c="bottom"===n?o.bottom-a:"middle"===n?o.bottom-a/2-o.height/2:o.top;var s=u-a;return Math.min(c+t+window.pageYOffset,s)}var i=n(1639);e.exports=function(e,t){if(t=t||{},"string"==typeof e&&(e=document.querySelector(e)),e)return i(0,r(e,t.offset,t.align),t)}},1639:function(e,t,n){function r(e,t,n){function r(){a(r),c.update()}n=n||{};var u=i(),c=o(u).ease(n.ease||"out-circ").to({top:t,left:e}).duration(n.duration||1e3);return c.update(function(e){window.scrollTo(0|e.left,0|e.top)}),c.on("end",function(){r=function(){}}),r(),c}function i(){return{top:window.pageYOffset||document.documentElement.scrollTop,left:window.pageXOffset||document.documentElement.scrollLeft}}var o=n(1640),a=n(1644);e.exports=r},1640:function(e,t,n){function r(e){if(!(this instanceof r))return new r(e);this._from=e,this.ease("linear"),this.duration(500)}var i=n(1641),o=n(1642),a=n(1636),u=n(1643);e.exports=r,i(r.prototype),r.prototype.reset=function(){return this.isArray="array"===a(this._from),this._curr=o(this._from),this._done=!1,this._start=Date.now(),this},r.prototype.to=function(e){return this.reset(),this._to=e,this},r.prototype.duration=function(e){return this._duration=e,this},r.prototype.ease=function(e){if(!(e="function"==typeof e?e:u[e]))throw new TypeError("invalid easing function");return this._ease=e,this},r.prototype.stop=function(){return this.stopped=!0,this._done=!0,this.emit("stop"),this.emit("end"),this},r.prototype.step=function(){if(!this._done){var e=this._duration,t=Date.now();if(t-this._start>=e)return this._from=this._to,this._update(this._to),this._done=!0,this.emit("end"),this;var n=this._from,r=this._to,i=this._curr,o=this._ease,a=(t-this._start)/e,u=o(a);if(this.isArray){for(var c=0;c<n.length;++c)i[c]=n[c]+(r[c]-n[c])*u;return this._update(i),this}for(var s in n)i[s]=n[s]+(r[s]-n[s])*u;return this._update(i),this}},r.prototype.update=function(e){return 0==arguments.length?this.step():(this._update=e,this)}},1641:function(e,t){function n(e){if(e)return r(e)}function r(e){for(var t in n.prototype)e[t]=n.prototype[t];return e}e.exports=n,n.prototype.on=n.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this},n.prototype.once=function(e,t){function n(){this.off(e,n),t.apply(this,arguments)}return n.fn=t,this.on(e,n),this},n.prototype.off=n.prototype.removeListener=n.prototype.removeAllListeners=n.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n=this._callbacks["$"+e];if(!n)return this;if(1==arguments.length)return delete this._callbacks["$"+e],this;for(var r,i=0;i<n.length;i++)if((r=n[i])===t||r.fn===t){n.splice(i,1);break}return this},n.prototype.emit=function(e){this._callbacks=this._callbacks||{};var t=[].slice.call(arguments,1),n=this._callbacks["$"+e];if(n){n=n.slice(0);for(var r=0,i=n.length;r<i;++r)n[r].apply(this,t)}return this},n.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]},n.prototype.hasListeners=function(e){return!!this.listeners(e).length}},1642:function(e,t,n){function r(e){switch(i(e)){case"object":var t={};for(var n in e)e.hasOwnProperty(n)&&(t[n]=r(e[n]));return t;case"array":for(var t=new Array(e.length),o=0,a=e.length;o<a;o++)t[o]=r(e[o]);return t;case"regexp":var u="";return u+=e.multiline?"m":"",u+=e.global?"g":"",u+=e.ignoreCase?"i":"",new RegExp(e.source,u);case"date":return new Date(e.getTime());default:return e}}var i;try{i=n(1636)}catch(e){i=n(1636)}e.exports=r},1643:function(e,t){t.linear=function(e){return e},t.inQuad=function(e){return e*e},t.outQuad=function(e){return e*(2-e)},t.inOutQuad=function(e){return e*=2,e<1?.5*e*e:-.5*(--e*(e-2)-1)},t.inCube=function(e){return e*e*e},t.outCube=function(e){return--e*e*e+1},t.inOutCube=function(e){return e*=2,e<1?.5*e*e*e:.5*((e-=2)*e*e+2)},t.inQuart=function(e){return e*e*e*e},t.outQuart=function(e){return 1- --e*e*e*e},t.inOutQuart=function(e){return e*=2,e<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2)},t.inQuint=function(e){return e*e*e*e*e},t.outQuint=function(e){return--e*e*e*e*e+1},t.inOutQuint=function(e){return e*=2,e<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2)},t.inSine=function(e){return 1-Math.cos(e*Math.PI/2)},t.outSine=function(e){return Math.sin(e*Math.PI/2)},t.inOutSine=function(e){return.5*(1-Math.cos(Math.PI*e))},t.inExpo=function(e){return 0==e?0:Math.pow(1024,e-1)},t.outExpo=function(e){return 1==e?e:1-Math.pow(2,-10*e)},t.inOutExpo=function(e){return 0==e?0:1==e?1:(e*=2)<1?.5*Math.pow(1024,e-1):.5*(2-Math.pow(2,-10*(e-1)))},t.inCirc=function(e){return 1-Math.sqrt(1-e*e)},t.outCirc=function(e){return Math.sqrt(1- --e*e)},t.inOutCirc=function(e){return e*=2,e<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1)},t.inBack=function(e){var t=1.70158;return e*e*((t+1)*e-t)},t.outBack=function(e){var t=1.70158;return--e*e*((t+1)*e+t)+1},t.inOutBack=function(e){var t=2.5949095;return(e*=2)<1?e*e*((t+1)*e-t)*.5:.5*((e-=2)*e*((t+1)*e+t)+2)},t.inBounce=function(e){return 1-t.outBounce(1-e)},t.outBounce=function(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},t.inOutBounce=function(e){return e<.5?.5*t.inBounce(2*e):.5*t.outBounce(2*e-1)+.5},t["in-quad"]=t.inQuad,t["out-quad"]=t.outQuad,t["in-out-quad"]=t.inOutQuad,t["in-cube"]=t.inCube,t["out-cube"]=t.outCube,t["in-out-cube"]=t.inOutCube,t["in-quart"]=t.inQuart,t["out-quart"]=t.outQuart,t["in-out-quart"]=t.inOutQuart,t["in-quint"]=t.inQuint,t["out-quint"]=t.outQuint,t["in-out-quint"]=t.inOutQuint,t["in-sine"]=t.inSine,t["out-sine"]=t.outSine,t["in-out-sine"]=t.inOutSine,t["in-expo"]=t.inExpo,t["out-expo"]=t.outExpo,t["in-out-expo"]=t.inOutExpo,t["in-circ"]=t.inCirc,t["out-circ"]=t.outCirc,t["in-out-circ"]=t.inOutCirc,t["in-back"]=t.inBack,t["out-back"]=t.outBack,t["in-out-back"]=t.inOutBack,t["in-bounce"]=t.inBounce,t["out-bounce"]=t.outBounce,t["in-out-bounce"]=t.inOutBounce},1644:function(e,t){function n(e){var t=(new Date).getTime(),n=Math.max(0,16-(t-r)),i=setTimeout(e,n);return r=t,i}t=e.exports=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||n;var r=(new Date).getTime(),i=window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.clearTimeout;t.cancel=function(e){i.call(window,e)}},1656:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"route",function(){return r});var r="/settings/account/emails/",i=[{title:"Add Secondary Emails",fields:[{name:"email",type:"string",label:"Additional Email",placeholder:"e.g. secondary@example.com",help:"Designate an alternative email for this account",showReturnButton:!0}]}];t.default=i},1686:function(e,t,n){"use strict";function r(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}var i=n(5),o=n(1),a=n.n(o),u=n(0),c=n.n(u),s=n(53),l=n(24),f=n(38),p=Object(i.default)("div",{target:"e1fthm6j0"})("flex-grow:1;"),h=Object(i.default)(l.a,{target:"e1fthm6j1"})("margin-right:0.75em;"),d=Object(i.default)(function(e){var t=e.children,n=e.icon,i=r(e,["children","icon"]);return c.a.createElement(s.a,i,n&&c.a.createElement(h,{src:n,size:"1.5em"}),c.a.createElement(p,null,t),c.a.createElement(l.a,{src:"icon-chevron-right",size:"1em"}))},{target:"e1fthm6j2"})("display:flex;align-items:center;background-color:",function(e){return e.theme.yellowLightest},";color:",function(e){return e.theme.gray5},";border:1px dashed ",function(e){return e.theme.borderDark},";padding:",Object(f.a)(2),";margin-bottom:",Object(f.a)(3),";border-radius:0.25em;transition:0.2s border-color;&:hover{border-color:",function(e){return e.theme.blueLight},";}");d.propTypes={to:a.a.string,href:a.a.string,icon:a.a.string},t.a=d}});
//# sourceMappingURL=AccountEmails.js.map