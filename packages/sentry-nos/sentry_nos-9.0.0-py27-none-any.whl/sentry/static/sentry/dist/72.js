webpackJsonpexports([72],{1618:function(t,e,r){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var c=r(0),i=r.n(c),s=r(80),u=r(92),l=r(600),f=r(125),p=r(621),b=r(52),j=r(2),g=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},m=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),h=function(t){function e(){var t,r,o,c;n(this,e);for(var i=arguments.length,u=Array(i),l=0;l<i;l++)u[l]=arguments[l];return r=o=a(this,(t=e.__proto__||Object.getPrototypeOf(e)).call.apply(t,[this].concat(u))),o.handleSubmit=function(t){var e=o.hasTeamsFeature(),r=e?{organization:t.organization}:{team:t.team};o.api.request("/accept-transfer/",{method:"POST",data:g({data:o.props.location.query.data},r),success:function(){var r=void 0;e?r=t.organization:o.state.transferDetails.organizations.forEach(function(e){r||e.teams.forEach(function(n){n.id===t.team&&(r=e.slug)})}),o.props.router.push("/"+r),Object(s.d)(Object(j.t)("Project successfully transferred"))},error:function(t){Object(s.a)(Object(j.t)("Unable to transfer project."))}})},c=r,a(o,c)}return o(e,t),m(e,[{key:"getEndpoints",value:function(){return[["transferDetails","/accept-transfer/",{query:this.props.location.query}]]}},{key:"getTitle",value:function(){return Object(j.t)("Accept Project Transfer")}},{key:"hasTeamsFeature",value:function(){return this.state.transferDetails.organizations.every(function(t){return new Set(t.features).has("new-teams")})}},{key:"renderBody",value:function(){var t=this.state.transferDetails,e=[],r=this.hasTeamsFeature();return t.organizations.forEach(function(t){r?e.push([t.slug,t.slug]):t.teams.forEach(function(r){e.push([r.id,"#"+r.slug+" - "+t.slug])})}),i.a.createElement(f.default,null,i.a.createElement(b.default,{title:Object(j.t)("Approve Transfer Project Request")}),i.a.createElement("p",null,r?Object(j.tct)("Projects must be transferred to a specific [organization]. You can grant specific teams access to the project later under the [projectSettings].",{organization:i.a.createElement("strong",null,Object(j.t)("Organization")),projectSettings:i.a.createElement("strong",null,Object(j.t)("Project Settings"))}):Object(j.tct)("Projects must be transferred to a specific [team] in order to be moved over to another [organization]. You can always change the team later under the [projectSettings].",{team:i.a.createElement("strong",null,Object(j.t)("Team")),organization:i.a.createElement("strong",null,Object(j.t)("Organization")),projectSettings:i.a.createElement("strong",null,Object(j.t)("Project Settings"))})),i.a.createElement("p",null,r?Object(j.tct)("Please select which [organization] you want for the project [project].",{organization:i.a.createElement("strong",null,Object(j.t)("Organization")),project:t.project.slug}):Object(j.tct)("Please select which [team] you want for the project [project].",{team:i.a.createElement("strong",null,Object(j.t)("Team")),project:t.project.slug})),i.a.createElement(l.a,{onSubmit:this.handleSubmit,submitLabel:Object(j.t)("Transfer Project"),submitPriority:"danger",initialData:r?{organization:e[0]&&e[0][0]}:{team:e[0]&&e[0][0]}},i.a.createElement(p.a,{choices:e,label:r?Object(j.t)("Organization"):Object(j.t)("Team"),name:r?"organization":"team",style:{borderBottom:"none"}})))}}]),e}(u.default);e.default=h}});
//# sourceMappingURL=AcceptProjectTransfer.js.map