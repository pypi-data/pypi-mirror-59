webpackJsonpexports([69],{1575:function(e,t,a){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l,i,c=a(14),u=a(1),p=a.n(u),s=a(0),f=a.n(s),d=a(5),m=a(2),h=a(92),v=a(26),y=a(178),E=a(30),b=a(18),g=a(52),k=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),O=(i=l=function(e){function t(){var e,a,o,l;n(this,t);for(var i=arguments.length,c=Array(i),u=0;u<i;u++)c[u]=arguments[u];return a=o=r(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(c))),o.handleRevoke=function(){var e=o.props.authorization;o.props.onRevoke(e)},l=a,r(o,l)}return o(t,e),k(t,[{key:"render",value:function(){var e=this.props.authorization;return f.a.createElement(b.f,null,f.a.createElement(c.Flex,{flex:"1"},f.a.createElement(c.Flex,{p:2,flex:"1",direction:"column"},f.a.createElement("h5",{style:{marginBottom:5}},e.application.name),e.homepageUrl&&f.a.createElement("div",{style:{marginBottom:5}},f.a.createElement("small",null,f.a.createElement("a",{href:e.homepageUrl},e.homepageUrl))),f.a.createElement("div",null,f.a.createElement("small",{style:{color:"#999"}},e.scopes.join(", ")))),f.a.createElement(c.Flex,{p:2,align:"center"},f.a.createElement(v.default,{onClick:this.handleRevoke},f.a.createElement("span",{className:"icon icon-trash"})))))}}]),t}(f.a.Component),l.propTypes={authorization:p.a.object.isRequired,onRevoke:p.a.func.isRequired},i),j=Object(d.default)("p",{target:"etm3ga10"})("font-size:0.9em;margin-bottom:30px;"),_=function(e){function t(){var e,a,o,l;n(this,t);for(var i=arguments.length,c=Array(i),u=0;u<i;u++)c[u]=arguments[u];return a=o=r(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(c))),o.handleRevoke=function(e){var t=o.state.data;o.setState(function(t){return{data:t.data.filter(function(t){return t.id!==e.id})}},function(){var a=E.default.add(Object(m.t)("Saving changes.."));o.api.request("/api-authorizations/",{method:"DELETE",data:{authorization:e.id},success:function(e){E.default.remove(a)},error:function(){o.setState({data:t}),E.default.remove(a),E.default.addError(Object(m.t)("Unable to save changes. Please try again."))}})})},l=a,r(o,l)}return o(t,e),k(t,[{key:"getEndpoints",value:function(){return[["data","/api-authorizations/"]]}},{key:"getTitle",value:function(){return"Approved Applications"}},{key:"renderBody",value:function(){var e=this,t=this.state.data,a=0===t.length;return f.a.createElement("div",null,f.a.createElement(g.default,{title:"Authorized Applications"}),f.a.createElement(j,null,Object(m.tct)("You can manage your own applications via the [link:API dashboard].",{link:f.a.createElement("a",{href:"/settings/account/api/"})})),f.a.createElement(b.a,null,f.a.createElement(b.e,{disablePadding:!0},f.a.createElement(c.Flex,{align:"center"},f.a.createElement(c.Box,{px:2,flex:"1"},Object(m.t)("Approved Applications")))),f.a.createElement(b.c,null,a&&f.a.createElement(y.a,null,Object(m.t)("You haven't approved any third party applications.")),!a&&f.a.createElement("div",null,t.map(function(t){return f.a.createElement(O,{key:t.id,authorization:t,onRevoke:e.handleRevoke})})))))}}]),t}(h.default);t.default=_}});
//# sourceMappingURL=AccountAuthorizations.js.map