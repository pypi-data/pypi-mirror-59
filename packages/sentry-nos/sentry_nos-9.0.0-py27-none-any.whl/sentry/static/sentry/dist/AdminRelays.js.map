{"version":3,"sources":["webpack:///53.js","webpack:///./app/views/admin/adminRelays.jsx","webpack:///./app/components/resultGrid.jsx"],"names":["webpackJsonpexports","1626","module","__webpack_exports__","__webpack_require__","Object","defineProperty","value","__WEBPACK_IMPORTED_MODULE_0_react__","__WEBPACK_IMPORTED_MODULE_0_react___default","n","__WEBPACK_IMPORTED_MODULE_1_moment__","__WEBPACK_IMPORTED_MODULE_1_moment___default","__WEBPACK_IMPORTED_MODULE_2_create_react_class__","__WEBPACK_IMPORTED_MODULE_2_create_react_class___default","__WEBPACK_IMPORTED_MODULE_3_app_locale__","__WEBPACK_IMPORTED_MODULE_4_app_mixins_apiMixin__","__WEBPACK_IMPORTED_MODULE_5_app_utils_withEnvironment__","__WEBPACK_IMPORTED_MODULE_6_app_components_resultGrid__","__WEBPACK_IMPORTED_MODULE_7_app_components_linkWithConfirmation__","_extends","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","prettyDate","x","format","AdminRelays","displayName","mixins","getInitialState","loading","onDelete","_this","this","setState","api","request","method","success","error","getRow","row","_this2","a","createElement","relayId","publicKey","style","textAlign","firstSeen","lastSeen","className","title","message","onConfirm","id","render","columns","width","path","endpoint","columnsForRow","hasSearch","sortOptions","defaultSort","props","1697","jQuery","_classCallCheck","instance","Constructor","TypeError","_possibleConstructorReturn","self","ReferenceError","_inherits","subClass","superClass","create","constructor","enumerable","writable","configurable","setPrototypeOf","__proto__","_class","_temp2","_class2","_temp4","__WEBPACK_IMPORTED_MODULE_0_prop_types__","__WEBPACK_IMPORTED_MODULE_0_prop_types___default","__WEBPACK_IMPORTED_MODULE_1_react__","__WEBPACK_IMPORTED_MODULE_1_react___default","__WEBPACK_IMPORTED_MODULE_3_jquery__","__WEBPACK_IMPORTED_MODULE_3_jquery___default","__WEBPACK_IMPORTED_MODULE_4_react_router__","__WEBPACK_IMPORTED_MODULE_5_app_mixins_apiMixin__","__WEBPACK_IMPORTED_MODULE_6_app_components_dropdownLink__","__WEBPACK_IMPORTED_MODULE_7_app_components_menuItem__","__WEBPACK_IMPORTED_MODULE_8_app_components_pagination__","_createClass","defineProperties","descriptor","protoProps","staticProps","Filter","_React$Component","_ref","_temp","_ret","_len","args","Array","_key","getPrototypeOf","apply","concat","getCurrentLabel","selected","options","filter","item","name","getDefaultItem","query","extend","location","cursor","queryKey","isActive","to","getSelector","map","filterQuery","Component","propTypes","string","isRequired","array","any","SortBy","_React$Component2","_ref2","_temp3","_ret2","_len2","_key2","getCurrentSortLabel","getSortBySelector","sortBy","ResultGrid","func","defaultParams","object","filters","hasPagination","bool","keyForRow","getDefaultProps","per_page","queryParams","rows","pageLinks","componentWillMount","fetchData","componentWillReceiveProps","nextProps","remountComponent","refresh","_this3","state","data","_","jqXHR","getResponseHeader","onSearch","e","targetQueryParams","preventDefault","push","pathname","onQueryChange","evt","renderLoading","colSpan","renderError","renderNoResults","renderResults","_this4","_this5","onSubmit","type","placeholder","ref","autoComplete","onChange","keys","filterKey"],"mappings":"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","file":"53.js","sourcesContent":["webpackJsonpexports([53],{\n\n/***/ 1626:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_react__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_moment__ = __webpack_require__(36);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_moment___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_moment__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_create_react_class__ = __webpack_require__(3);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_create_react_class___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_create_react_class__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_app_locale__ = __webpack_require__(2);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_app_mixins_apiMixin__ = __webpack_require__(8);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_app_utils_withEnvironment__ = __webpack_require__(158);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_app_components_resultGrid__ = __webpack_require__(1697);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7_app_components_linkWithConfirmation__ = __webpack_require__(183);\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\n/* eslint-disable getsentry/jsx-needs-il8n */\n/* eslint-disable react/jsx-key */\n\n\n\n\n\n\n\n\n\n\n\nvar prettyDate = function prettyDate(x) {\n  return __WEBPACK_IMPORTED_MODULE_1_moment___default()(x).format('ll LTS');\n};\n\nvar AdminRelays = __WEBPACK_IMPORTED_MODULE_2_create_react_class___default()({\n  displayName: 'GroupEventDetails',\n\n  mixins: [__WEBPACK_IMPORTED_MODULE_4_app_mixins_apiMixin__[\"default\"]],\n\n  getInitialState: function getInitialState() {\n    return {\n      loading: false\n    };\n  },\n  onDelete: function onDelete(key) {\n    var _this = this;\n\n    this.setState({\n      loading: true\n    });\n    this.api.request('/relays/' + key + '/', {\n      method: 'DELETE',\n      success: function success() {\n        _this.setState({\n          loading: false\n        });\n      },\n      error: function error() {\n        _this.setState({\n          loading: false\n        });\n      }\n    });\n  },\n  getRow: function getRow(row) {\n    var _this2 = this;\n\n    return [__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n      'td',\n      null,\n      __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n        'strong',\n        null,\n        row.relayId\n      )\n    ), __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n      'td',\n      null,\n      row.publicKey\n    ), __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n      'td',\n      { style: { textAlign: 'right' } },\n      prettyDate(row.firstSeen)\n    ), __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n      'td',\n      { style: { textAlign: 'right' } },\n      prettyDate(row.lastSeen)\n    ), __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n      'td',\n      { style: { textAlign: 'right' } },\n      __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n        'span',\n        { className: 'editor-tools' },\n        __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n          __WEBPACK_IMPORTED_MODULE_7_app_components_linkWithConfirmation__[\"a\" /* default */],\n          {\n            className: 'danger',\n            title: 'Remove',\n            message: Object(__WEBPACK_IMPORTED_MODULE_3_app_locale__[\"t\"])('Are you sure you wish to delete this relay?'),\n            onConfirm: function onConfirm() {\n              return _this2.onDelete(row.id);\n            }\n          },\n          Object(__WEBPACK_IMPORTED_MODULE_3_app_locale__[\"t\"])('Remove')\n        )\n      )\n    )];\n  },\n  render: function render() {\n    var columns = [__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n      'th',\n      { style: { width: 350, textAlign: 'left' } },\n      'Relay'\n    ), __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n      'th',\n      null,\n      'Public Key'\n    ), __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n      'th',\n      { style: { width: 150, textAlign: 'right' } },\n      'First seen'\n    ), __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n      'th',\n      { style: { width: 150, textAlign: 'right' } },\n      'Last seen'\n    ), __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('th', null)];\n\n    return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n      'div',\n      null,\n      __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n        'h3',\n        null,\n        Object(__WEBPACK_IMPORTED_MODULE_3_app_locale__[\"t\"])('Relays')\n      ),\n      __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_6_app_components_resultGrid__[\"a\" /* default */], _extends({\n        path: '/manage/relays/',\n        endpoint: '/relays/',\n        method: 'GET',\n        columns: columns,\n        columnsForRow: this.getRow,\n        hasSearch: false,\n        sortOptions: [['firstSeen', 'First seen'], ['lastSeen', 'Last seen'], ['relayId', 'Relay ID']],\n        defaultSort: 'firstSeen'\n      }, this.props))\n    );\n  }\n});\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Object(__WEBPACK_IMPORTED_MODULE_5_app_utils_withEnvironment__[\"a\" /* default */])(AdminRelays));\n\n/***/ }),\n\n/***/ 1697:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* WEBPACK VAR INJECTION */(function(jQuery) {/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_prop_types__ = __webpack_require__(1);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_prop_types___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_prop_types__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_react__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_react__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_create_react_class__ = __webpack_require__(3);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_create_react_class___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_create_react_class__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_jquery__ = __webpack_require__(13);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_jquery___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_jquery__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_react_router__ = __webpack_require__(9);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_app_mixins_apiMixin__ = __webpack_require__(8);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_app_components_dropdownLink__ = __webpack_require__(37);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7_app_components_menuItem__ = __webpack_require__(44);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8_app_components_pagination__ = __webpack_require__(54);\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _class, _temp2, _class2, _temp4;\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n\n\n\n\n\n\n\n\n\n\n\nvar Filter = (_temp2 = _class = function (_React$Component) {\n  _inherits(Filter, _React$Component);\n\n  function Filter() {\n    var _ref;\n\n    var _temp, _this, _ret;\n\n    _classCallCheck(this, Filter);\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = Filter.__proto__ || Object.getPrototypeOf(Filter)).call.apply(_ref, [this].concat(args))), _this), _this.getCurrentLabel = function () {\n      var selected = _this.props.options.filter(function (item) {\n        return item[0] === (_this.props.value || '');\n      })[0];\n      if (selected) return _this.props.name + ': ' + selected[1];\n      return _this.props.name + ': ' + 'Any';\n    }, _this.getDefaultItem = function () {\n      var query = __WEBPACK_IMPORTED_MODULE_3_jquery___default.a.extend({}, _this.props.location.query, {\n        cursor: ''\n      });\n      delete query[_this.props.queryKey];\n\n      return __WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement(\n        __WEBPACK_IMPORTED_MODULE_7_app_components_menuItem__[\"default\"],\n        {\n          key: '',\n          isActive: _this.props.value === '' || !_this.props.value,\n          to: _this.props.path,\n          query: query\n        },\n        'Any'\n      );\n    }, _this.getSelector = function () {\n      return __WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement(\n        __WEBPACK_IMPORTED_MODULE_6_app_components_dropdownLink__[\"default\"],\n        { title: _this.getCurrentLabel() },\n        _this.getDefaultItem(),\n        _this.props.options.map(function (item) {\n          var filterQuery = {};\n          filterQuery[_this.props.queryKey] = item[0];\n          filterQuery.cursor = '';\n          var query = __WEBPACK_IMPORTED_MODULE_3_jquery___default.a.extend({}, _this.props.location.query, filterQuery);\n          return __WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement(\n            __WEBPACK_IMPORTED_MODULE_7_app_components_menuItem__[\"default\"],\n            {\n              key: item[0],\n              isActive: _this.props.value === item[0],\n              to: _this.props.path,\n              query: query\n            },\n            item[1]\n          );\n        })\n      );\n    }, _temp), _possibleConstructorReturn(_this, _ret);\n  }\n\n  _createClass(Filter, [{\n    key: 'render',\n    value: function render() {\n      return __WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement(\n        'div',\n        { className: 'filter-options' },\n        this.props.options.length === 1 ? __WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement(\n          'strong',\n          null,\n          this.getCurrentLabel()\n        ) : this.getSelector()\n      );\n    }\n  }]);\n\n  return Filter;\n}(__WEBPACK_IMPORTED_MODULE_1_react___default.a.Component), _class.propTypes = {\n  name: __WEBPACK_IMPORTED_MODULE_0_prop_types___default.a.string.isRequired,\n  queryKey: __WEBPACK_IMPORTED_MODULE_0_prop_types___default.a.string.isRequired,\n  options: __WEBPACK_IMPORTED_MODULE_0_prop_types___default.a.array.isRequired,\n  path: __WEBPACK_IMPORTED_MODULE_0_prop_types___default.a.string.isRequired,\n  value: __WEBPACK_IMPORTED_MODULE_0_prop_types___default.a.any\n}, _temp2);\nvar SortBy = (_temp4 = _class2 = function (_React$Component2) {\n  _inherits(SortBy, _React$Component2);\n\n  function SortBy() {\n    var _ref2;\n\n    var _temp3, _this2, _ret2;\n\n    _classCallCheck(this, SortBy);\n\n    for (var _len2 = arguments.length, args = Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n      args[_key2] = arguments[_key2];\n    }\n\n    return _ret2 = (_temp3 = (_this2 = _possibleConstructorReturn(this, (_ref2 = SortBy.__proto__ || Object.getPrototypeOf(SortBy)).call.apply(_ref2, [this].concat(args))), _this2), _this2.getCurrentSortLabel = function () {\n      return _this2.props.options.filter(function (item) {\n        return item[0] === _this2.props.value;\n      })[0][1];\n    }, _this2.getSortBySelector = function () {\n      return __WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement(\n        __WEBPACK_IMPORTED_MODULE_6_app_components_dropdownLink__[\"default\"],\n        { title: _this2.getCurrentSortLabel(), className: 'sorted-by' },\n        _this2.props.options.map(function (item) {\n          var query = __WEBPACK_IMPORTED_MODULE_3_jquery___default.a.extend({}, _this2.props.location.query, {\n            sortBy: item[0],\n            cursor: ''\n          });\n          return __WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement(\n            __WEBPACK_IMPORTED_MODULE_7_app_components_menuItem__[\"default\"],\n            {\n              isActive: _this2.props.value === item[0],\n              key: item[0],\n              to: _this2.props.path,\n              query: query\n            },\n            item[1]\n          );\n        })\n      );\n    }, _temp3), _possibleConstructorReturn(_this2, _ret2);\n  }\n\n  _createClass(SortBy, [{\n    key: 'render',\n    value: function render() {\n      if (this.props.options.length === 0) return null;\n\n      return __WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement(\n        'div',\n        { className: 'sort-options' },\n        'Showing results sorted by',\n        this.props.options.length === 1 ? __WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement(\n          'strong',\n          { className: 'sorted-by' },\n          this.getCurrentSortLabel()\n        ) : this.getSortBySelector()\n      );\n    }\n  }]);\n\n  return SortBy;\n}(__WEBPACK_IMPORTED_MODULE_1_react___default.a.Component), _class2.propTypes = {\n  options: __WEBPACK_IMPORTED_MODULE_0_prop_types___default.a.array.isRequired,\n  path: __WEBPACK_IMPORTED_MODULE_0_prop_types___default.a.string.isRequired,\n  location: __WEBPACK_IMPORTED_MODULE_0_prop_types___default.a.string.isRequired,\n  value: __WEBPACK_IMPORTED_MODULE_0_prop_types___default.a.any\n}, _temp4);\n\n\nvar ResultGrid = __WEBPACK_IMPORTED_MODULE_2_create_react_class___default()({\n  displayName: 'ResultGrid',\n\n  propTypes: {\n    columns: __WEBPACK_IMPORTED_MODULE_0_prop_types___default.a.array,\n    columnsForRow: __WEBPACK_IMPORTED_MODULE_0_prop_types___default.a.func,\n    defaultSort: __WEBPACK_IMPORTED_MODULE_0_prop_types___default.a.string,\n    defaultParams: __WEBPACK_IMPORTED_MODULE_0_prop_types___default.a.object,\n    endpoint: __WEBPACK_IMPORTED_MODULE_0_prop_types___default.a.string,\n    filters: __WEBPACK_IMPORTED_MODULE_0_prop_types___default.a.object,\n    hasPagination: __WEBPACK_IMPORTED_MODULE_0_prop_types___default.a.bool,\n    hasSearch: __WEBPACK_IMPORTED_MODULE_0_prop_types___default.a.bool,\n    keyForRow: __WEBPACK_IMPORTED_MODULE_0_prop_types___default.a.func,\n    location: __WEBPACK_IMPORTED_MODULE_0_prop_types___default.a.string,\n    method: __WEBPACK_IMPORTED_MODULE_0_prop_types___default.a.string,\n    options: __WEBPACK_IMPORTED_MODULE_0_prop_types___default.a.array,\n    path: __WEBPACK_IMPORTED_MODULE_0_prop_types___default.a.string,\n    sortOptions: __WEBPACK_IMPORTED_MODULE_0_prop_types___default.a.array\n  },\n\n  mixins: [__WEBPACK_IMPORTED_MODULE_5_app_mixins_apiMixin__[\"default\"]],\n\n  getDefaultProps: function getDefaultProps() {\n    return {\n      path: '',\n      endpoint: '',\n      method: 'GET',\n      columns: [],\n      sortOptions: [],\n      filters: {},\n      defaultSort: '',\n      keyForRow: function keyForRow(row) {\n        return row.id;\n      },\n      columnsForRow: function columnsForRow(row) {\n        return [];\n      },\n      defaultParams: {\n        per_page: 50\n      },\n      hasPagination: true,\n      hasSearch: false\n    };\n  },\n  getInitialState: function getInitialState() {\n    var queryParams = (this.props.location || {}).query || {};\n\n    return {\n      rows: [],\n      loading: true,\n      error: false,\n      pageLinks: null,\n      query: queryParams.query || '',\n      sortBy: queryParams.sortBy || this.props.defaultSort,\n      filters: Object.assign({}, queryParams)\n    };\n  },\n  componentWillMount: function componentWillMount() {\n    this.fetchData();\n  },\n  componentWillReceiveProps: function componentWillReceiveProps(nextProps) {\n    var queryParams = (nextProps.location || {}).query || {};\n    this.setState({\n      query: queryParams.query || '',\n      sortBy: queryParams.sortBy || this.props.defaultSort,\n      filters: Object.assign({}, queryParams),\n      pageLinks: null,\n      loading: true,\n      error: false\n    }, this.fetchData);\n  },\n  remountComponent: function remountComponent() {\n    this.setState(this.getInitialState(), this.fetchData);\n  },\n  refresh: function refresh() {\n    this.setState({\n      loading: true\n    }, this.fetchData());\n  },\n  fetchData: function fetchData() {\n    var _this3 = this;\n\n    // TODO(dcramer): this should whitelist filters/sortBy/cursor/perPage\n    var queryParams = __WEBPACK_IMPORTED_MODULE_3_jquery___default.a.extend({}, this.props.defaultParams, { sortBy: this.state.sortBy }, (this.props.location || {}).query || {});\n\n    this.api.request(this.props.endpoint, {\n      method: this.props.method,\n      data: queryParams,\n      success: function success(data, _, jqXHR) {\n        _this3.setState({\n          loading: false,\n          error: false,\n          rows: data,\n          pageLinks: jqXHR.getResponseHeader('Link')\n        });\n      },\n      error: function error() {\n        _this3.setState({\n          loading: false,\n          error: true\n        });\n      }\n    });\n  },\n  onSearch: function onSearch(e) {\n    var location = this.props.location || {};\n    var query = this.state.query;\n\n    var targetQueryParams = jQuery.extend({}, location.query || {}, {\n      query: query,\n      cursor: ''\n    });\n\n    e.preventDefault();\n\n    __WEBPACK_IMPORTED_MODULE_4_react_router__[\"browserHistory\"].push({\n      pathname: this.props.path,\n      query: targetQueryParams\n    });\n  },\n  onQueryChange: function onQueryChange(evt) {\n    this.setState({ query: evt.target.value });\n  },\n  renderLoading: function renderLoading() {\n    return __WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement(\n      'tr',\n      null,\n      __WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement(\n        'td',\n        { colSpan: this.props.columns.length },\n        __WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement(\n          'div',\n          { className: 'loading' },\n          __WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement('div', { className: 'loading-indicator' }),\n          __WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement(\n            'div',\n            { className: 'loading-message' },\n            'Hold on to your butts!'\n          )\n        )\n      )\n    );\n  },\n  renderError: function renderError() {\n    return __WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement(\n      'tr',\n      null,\n      __WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement(\n        'td',\n        { colSpan: this.props.columns.length },\n        __WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement(\n          'div',\n          { className: 'alert-block alert-error' },\n          'Something bad happened :('\n        )\n      )\n    );\n  },\n  renderNoResults: function renderNoResults() {\n    return __WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement(\n      'tr',\n      null,\n      __WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement(\n        'td',\n        { colSpan: this.props.columns.length },\n        'No results found.'\n      )\n    );\n  },\n  renderResults: function renderResults() {\n    var _this4 = this;\n\n    return this.state.rows.map(function (row) {\n      return __WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement(\n        'tr',\n        { key: _this4.props.keyForRow(row) },\n        _this4.props.columnsForRow(row)\n      );\n    });\n  },\n  render: function render() {\n    var _this5 = this;\n\n    var filters = this.props.filters;\n\n    return __WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement(\n      'div',\n      { className: 'result-grid' },\n      __WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement(\n        'div',\n        { className: 'table-options' },\n        this.props.hasSearch && __WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement(\n          'div',\n          { className: 'result-grid-search' },\n          __WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement(\n            'form',\n            { onSubmit: this.onSearch },\n            __WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement(\n              'div',\n              { className: 'form-group' },\n              __WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement('input', {\n                type: 'text',\n                className: 'form-control input-search',\n                placeholder: 'search',\n                style: { width: 300 },\n                name: 'query',\n                ref: 'searchInput',\n                autoComplete: 'off',\n                value: this.state.query,\n                onChange: this.onQueryChange\n              }),\n              __WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement(\n                'button',\n                { type: 'submit', className: 'btn btn-sm btn-primary' },\n                __WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement('span', { className: 'icon-search' })\n              )\n            )\n          )\n        ),\n        __WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement(SortBy, {\n          options: this.props.sortOptions,\n          value: this.state.sortBy,\n          path: this.props.path,\n          location: this.props.location\n        }),\n        Object.keys(filters).map(function (filterKey) {\n          return __WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement(Filter, _extends({\n            key: filterKey,\n            queryKey: filterKey,\n            value: _this5.state.filters[filterKey],\n            path: _this5.props.path,\n            location: _this5.props.location\n          }, filters[filterKey]));\n        })\n      ),\n      __WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement(\n        'table',\n        { className: 'table table-grid' },\n        __WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement(\n          'thead',\n          null,\n          __WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement(\n            'tr',\n            null,\n            this.props.columns\n          )\n        ),\n        __WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement(\n          'tbody',\n          null,\n          this.state.loading ? this.renderLoading() : this.state.error ? this.renderError() : this.state.rows.length === 0 ? this.renderNoResults() : this.renderResults()\n        )\n      ),\n      this.props.hasPagination && this.state.pageLinks && __WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_8_app_components_pagination__[\"default\"], { pageLinks: this.state.pageLinks })\n    );\n  }\n});\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (ResultGrid);\n/* WEBPACK VAR INJECTION */}.call(__webpack_exports__, __webpack_require__(13)))\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// 53.js","/* eslint-disable getsentry/jsx-needs-il8n */\n/* eslint-disable react/jsx-key */\nimport React from 'react';\nimport moment from 'moment';\nimport createReactClass from 'create-react-class';\n\nimport {t} from 'app/locale';\nimport ApiMixin from 'app/mixins/apiMixin';\nimport withEnvironment from 'app/utils/withEnvironment';\n\nimport ResultGrid from 'app/components/resultGrid';\nimport LinkWithConfirmation from 'app/components/linkWithConfirmation';\n\nconst prettyDate = function(x) {\n  return moment(x).format('ll LTS');\n};\n\nconst AdminRelays = createReactClass({\n  displayName: 'GroupEventDetails',\n\n  mixins: [ApiMixin],\n\n  getInitialState() {\n    return {\n      loading: false,\n    };\n  },\n\n  onDelete(key) {\n    this.setState({\n      loading: true,\n    });\n    this.api.request(`/relays/${key}/`, {\n      method: 'DELETE',\n      success: () => {\n        this.setState({\n          loading: false,\n        });\n      },\n      error: () => {\n        this.setState({\n          loading: false,\n        });\n      },\n    });\n  },\n\n  getRow(row) {\n    return [\n      <td>\n        <strong>{row.relayId}</strong>\n      </td>,\n      <td>{row.publicKey}</td>,\n      <td style={{textAlign: 'right'}}>{prettyDate(row.firstSeen)}</td>,\n      <td style={{textAlign: 'right'}}>{prettyDate(row.lastSeen)}</td>,\n      <td style={{textAlign: 'right'}}>\n        <span className=\"editor-tools\">\n          <LinkWithConfirmation\n            className=\"danger\"\n            title=\"Remove\"\n            message={t('Are you sure you wish to delete this relay?')}\n            onConfirm={() => this.onDelete(row.id)}\n          >\n            {t('Remove')}\n          </LinkWithConfirmation>\n        </span>\n      </td>,\n    ];\n  },\n\n  render() {\n    let columns = [\n      <th style={{width: 350, textAlign: 'left'}}>Relay</th>,\n      <th>Public Key</th>,\n      <th style={{width: 150, textAlign: 'right'}}>First seen</th>,\n      <th style={{width: 150, textAlign: 'right'}}>Last seen</th>,\n      <th />,\n    ];\n\n    return (\n      <div>\n        <h3>{t('Relays')}</h3>\n        <ResultGrid\n          path=\"/manage/relays/\"\n          endpoint={'/relays/'}\n          method=\"GET\"\n          columns={columns}\n          columnsForRow={this.getRow}\n          hasSearch={false}\n          sortOptions={[\n            ['firstSeen', 'First seen'],\n            ['lastSeen', 'Last seen'],\n            ['relayId', 'Relay ID'],\n          ]}\n          defaultSort=\"firstSeen\"\n          {...this.props}\n        />\n      </div>\n    );\n  },\n});\n\nexport default withEnvironment(AdminRelays);\n\n\n\n// WEBPACK FOOTER //\n// ./app/views/admin/adminRelays.jsx","import PropTypes from 'prop-types';\nimport React from 'react';\nimport createReactClass from 'create-react-class';\nimport $ from 'jquery';\nimport {browserHistory} from 'react-router';\n\nimport ApiMixin from 'app/mixins/apiMixin';\nimport DropdownLink from 'app/components/dropdownLink';\nimport MenuItem from 'app/components/menuItem';\nimport Pagination from 'app/components/pagination';\n\nclass Filter extends React.Component {\n  static propTypes = {\n    name: PropTypes.string.isRequired,\n    queryKey: PropTypes.string.isRequired,\n    options: PropTypes.array.isRequired,\n    path: PropTypes.string.isRequired,\n    value: PropTypes.any,\n  };\n\n  getCurrentLabel = () => {\n    let selected = this.props.options.filter(item => {\n      return item[0] === (this.props.value || '');\n    })[0];\n    if (selected) return this.props.name + ': ' + selected[1];\n    return this.props.name + ': ' + 'Any';\n  };\n\n  getDefaultItem = () => {\n    let query = $.extend({}, this.props.location.query, {\n      cursor: '',\n    });\n    delete query[this.props.queryKey];\n\n    return (\n      <MenuItem\n        key=\"\"\n        isActive={this.props.value === '' || !this.props.value}\n        to={this.props.path}\n        query={query}\n      >\n        Any\n      </MenuItem>\n    );\n  };\n\n  getSelector = () => {\n    return (\n      <DropdownLink title={this.getCurrentLabel()}>\n        {this.getDefaultItem()}\n        {this.props.options.map(item => {\n          let filterQuery = {};\n          filterQuery[this.props.queryKey] = item[0];\n          filterQuery.cursor = '';\n          let query = $.extend({}, this.props.location.query, filterQuery);\n          return (\n            <MenuItem\n              key={item[0]}\n              isActive={this.props.value === item[0]}\n              to={this.props.path}\n              query={query}\n            >\n              {item[1]}\n            </MenuItem>\n          );\n        })}\n      </DropdownLink>\n    );\n  };\n\n  render() {\n    return (\n      <div className=\"filter-options\">\n        {this.props.options.length === 1 ? (\n          <strong>{this.getCurrentLabel()}</strong>\n        ) : (\n          this.getSelector()\n        )}\n      </div>\n    );\n  }\n}\n\nclass SortBy extends React.Component {\n  static propTypes = {\n    options: PropTypes.array.isRequired,\n    path: PropTypes.string.isRequired,\n    location: PropTypes.string.isRequired,\n    value: PropTypes.any,\n  };\n\n  getCurrentSortLabel = () => {\n    return this.props.options.filter(item => {\n      return item[0] === this.props.value;\n    })[0][1];\n  };\n\n  getSortBySelector = () => {\n    return (\n      <DropdownLink title={this.getCurrentSortLabel()} className=\"sorted-by\">\n        {this.props.options.map(item => {\n          let query = $.extend({}, this.props.location.query, {\n            sortBy: item[0],\n            cursor: '',\n          });\n          return (\n            <MenuItem\n              isActive={this.props.value === item[0]}\n              key={item[0]}\n              to={this.props.path}\n              query={query}\n            >\n              {item[1]}\n            </MenuItem>\n          );\n        })}\n      </DropdownLink>\n    );\n  };\n\n  render() {\n    if (this.props.options.length === 0) return null;\n\n    return (\n      <div className=\"sort-options\">\n        Showing results sorted by\n        {this.props.options.length === 1 ? (\n          <strong className=\"sorted-by\">{this.getCurrentSortLabel()}</strong>\n        ) : (\n          this.getSortBySelector()\n        )}\n      </div>\n    );\n  }\n}\n\nconst ResultGrid = createReactClass({\n  displayName: 'ResultGrid',\n\n  propTypes: {\n    columns: PropTypes.array,\n    columnsForRow: PropTypes.func,\n    defaultSort: PropTypes.string,\n    defaultParams: PropTypes.object,\n    endpoint: PropTypes.string,\n    filters: PropTypes.object,\n    hasPagination: PropTypes.bool,\n    hasSearch: PropTypes.bool,\n    keyForRow: PropTypes.func,\n    location: PropTypes.string,\n    method: PropTypes.string,\n    options: PropTypes.array,\n    path: PropTypes.string,\n    sortOptions: PropTypes.array,\n  },\n\n  mixins: [ApiMixin],\n\n  getDefaultProps() {\n    return {\n      path: '',\n      endpoint: '',\n      method: 'GET',\n      columns: [],\n      sortOptions: [],\n      filters: {},\n      defaultSort: '',\n      keyForRow: function(row) {\n        return row.id;\n      },\n      columnsForRow: function(row) {\n        return [];\n      },\n      defaultParams: {\n        per_page: 50,\n      },\n      hasPagination: true,\n      hasSearch: false,\n    };\n  },\n\n  getInitialState() {\n    let queryParams = (this.props.location || {}).query || {};\n\n    return {\n      rows: [],\n      loading: true,\n      error: false,\n      pageLinks: null,\n      query: queryParams.query || '',\n      sortBy: queryParams.sortBy || this.props.defaultSort,\n      filters: Object.assign({}, queryParams),\n    };\n  },\n\n  componentWillMount() {\n    this.fetchData();\n  },\n\n  componentWillReceiveProps(nextProps) {\n    let queryParams = (nextProps.location || {}).query || {};\n    this.setState(\n      {\n        query: queryParams.query || '',\n        sortBy: queryParams.sortBy || this.props.defaultSort,\n        filters: Object.assign({}, queryParams),\n        pageLinks: null,\n        loading: true,\n        error: false,\n      },\n      this.fetchData\n    );\n  },\n\n  remountComponent() {\n    this.setState(this.getInitialState(), this.fetchData);\n  },\n\n  refresh() {\n    this.setState(\n      {\n        loading: true,\n      },\n      this.fetchData()\n    );\n  },\n\n  fetchData() {\n    // TODO(dcramer): this should whitelist filters/sortBy/cursor/perPage\n    let queryParams = $.extend(\n      {},\n      this.props.defaultParams,\n      {sortBy: this.state.sortBy},\n      (this.props.location || {}).query || {}\n    );\n\n    this.api.request(this.props.endpoint, {\n      method: this.props.method,\n      data: queryParams,\n      success: (data, _, jqXHR) => {\n        this.setState({\n          loading: false,\n          error: false,\n          rows: data,\n          pageLinks: jqXHR.getResponseHeader('Link'),\n        });\n      },\n      error: () => {\n        this.setState({\n          loading: false,\n          error: true,\n        });\n      },\n    });\n  },\n\n  onSearch(e) {\n    let location = this.props.location || {};\n    let {query} = this.state;\n    let targetQueryParams = jQuery.extend({}, location.query || {}, {\n      query,\n      cursor: '',\n    });\n\n    e.preventDefault();\n\n    browserHistory.push({\n      pathname: this.props.path,\n      query: targetQueryParams,\n    });\n  },\n\n  onQueryChange(evt) {\n    this.setState({query: evt.target.value});\n  },\n\n  renderLoading() {\n    return (\n      <tr>\n        <td colSpan={this.props.columns.length}>\n          <div className=\"loading\">\n            <div className=\"loading-indicator\" />\n            <div className=\"loading-message\">Hold on to your butts!</div>\n          </div>\n        </td>\n      </tr>\n    );\n  },\n\n  renderError() {\n    return (\n      <tr>\n        <td colSpan={this.props.columns.length}>\n          <div className=\"alert-block alert-error\">Something bad happened :(</div>\n        </td>\n      </tr>\n    );\n  },\n\n  renderNoResults() {\n    return (\n      <tr>\n        <td colSpan={this.props.columns.length}>No results found.</td>\n      </tr>\n    );\n  },\n\n  renderResults() {\n    return this.state.rows.map(row => {\n      return <tr key={this.props.keyForRow(row)}>{this.props.columnsForRow(row)}</tr>;\n    });\n  },\n\n  render() {\n    let {filters} = this.props;\n    return (\n      <div className=\"result-grid\">\n        <div className=\"table-options\">\n          {this.props.hasSearch && (\n            <div className=\"result-grid-search\">\n              <form onSubmit={this.onSearch}>\n                <div className=\"form-group\">\n                  <input\n                    type=\"text\"\n                    className=\"form-control input-search\"\n                    placeholder=\"search\"\n                    style={{width: 300}}\n                    name=\"query\"\n                    ref=\"searchInput\"\n                    autoComplete=\"off\"\n                    value={this.state.query}\n                    onChange={this.onQueryChange}\n                  />\n                  <button type=\"submit\" className=\"btn btn-sm btn-primary\">\n                    <span className=\"icon-search\" />\n                  </button>\n                </div>\n              </form>\n            </div>\n          )}\n          <SortBy\n            options={this.props.sortOptions}\n            value={this.state.sortBy}\n            path={this.props.path}\n            location={this.props.location}\n          />\n          {Object.keys(filters).map(filterKey => {\n            return (\n              <Filter\n                key={filterKey}\n                queryKey={filterKey}\n                value={this.state.filters[filterKey]}\n                path={this.props.path}\n                location={this.props.location}\n                {...filters[filterKey]}\n              />\n            );\n          })}\n        </div>\n\n        <table className=\"table table-grid\">\n          <thead>\n            <tr>{this.props.columns}</tr>\n          </thead>\n          <tbody>\n            {this.state.loading\n              ? this.renderLoading()\n              : this.state.error\n                ? this.renderError()\n                : this.state.rows.length === 0\n                  ? this.renderNoResults()\n                  : this.renderResults()}\n          </tbody>\n        </table>\n        {this.props.hasPagination &&\n          this.state.pageLinks && <Pagination pageLinks={this.state.pageLinks} />}\n      </div>\n    );\n  },\n});\n\nexport default ResultGrid;\n\n\n\n// WEBPACK FOOTER //\n// ./app/components/resultGrid.jsx"],"sourceRoot":""}