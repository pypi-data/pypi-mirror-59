webpackJsonpexports([66],{1583:function(e,t,a){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var o,c,l=a(14),p=a(9),s=a(1),u=a.n(s),f=a(0),d=a.n(f),m=a(3),b=a.n(m),h=a(80),y=a(2),v=a(8),E=a(92),g=a(26),j=a(178),O=a(30),A=a(18),x=a(52),w=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),P="/settings/account/api/",R=b()({displayName:"ApiApplicationRow",propTypes:{app:u.a.object.isRequired,onRemove:u.a.func.isRequired},mixins:[v.default],getInitialState:function(){return{loading:!1}},handleRemove:function(){var e=this;if(!this.state.loading){var t=this.props.app;this.setState({loading:!0},function(){var a=O.default.add(Object(y.t)("Saving changes.."));e.api.request("/api-applications/"+t.id+"/",{method:"DELETE",success:function(n){O.default.remove(a),e.props.onRemove(t)},error:function(){O.default.remove(a),O.default.add(Object(y.t)("Unable to remove application. Please try again."),"error",{duration:3e3})}})})}},render:function(){var e=this.props.app,t="btn btn-default";return this.state.loading&&(t+=" disabled"),d.a.createElement(A.f,{justify:"space-between",px:2,py:2},d.a.createElement(l.Box,{flex:"1"},d.a.createElement("h4",{style:{marginBottom:5}},d.a.createElement(p.Link,{to:P+"applications/"+e.id+"/"},e.name)),d.a.createElement("small",{style:{color:"#999"}},e.clientID)),d.a.createElement(l.Flex,{align:"center"},d.a.createElement(l.Box,{pl:2},d.a.createElement("a",{onClick:this.handleRemove,className:t,disabled:this.state.loading},d.a.createElement("span",{className:"icon icon-trash"})))))}}),_=(c=o=function(e){function t(){var e,a,r,o;n(this,t);for(var c=arguments.length,l=Array(c),p=0;p<c;p++)l[p]=arguments[p];return a=r=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),r.handleCreateApplication=function(){var e=Object(h.b)();r.api.request("/api-applications/",{method:"POST",success:function(t){Object(h.d)(Object(y.t)("Created a new API Application")),Object(h.e)(e),r.context.router.push(P+"applications/"+t.id+"/")},error:function(t){Object(h.e)(e),Object(h.a)(Object(y.t)("Unable to remove application. Please try again."))}})},r.handleRemoveApplication=function(e){r.setState({appList:r.state.appList.filter(function(t){return t.id!==e.id})})},o=a,i(r,o)}return r(t,e),w(t,[{key:"getEndpoints",value:function(){return[["appList","/api-applications/"]]}},{key:"getTitle",value:function(){return"API Applications"}},{key:"renderBody",value:function(){var e=this,t=d.a.createElement(g.default,{priority:"primary",size:"small",className:"ref-create-application",onClick:this.handleCreateApplication,icon:"icon-circle-add"},Object(y.t)("Create New Application")),a=0===this.state.appList.length;return d.a.createElement("div",null,d.a.createElement(x.default,{title:"API Applications",action:t}),d.a.createElement(A.a,null,d.a.createElement(A.e,{disablePadding:!0},d.a.createElement(l.Flex,{align:"center"},d.a.createElement(l.Box,{px:2,flex:"1"},Object(y.t)("Application Name")))),d.a.createElement(A.c,null,a?d.a.createElement(j.a,null,Object(y.t)("You haven't created any applications yet.")):this.state.appList.map(function(t){return d.a.createElement(R,{key:t.id,app:t,onRemove:e.handleRemoveApplication})}))))}}]),t}(E.default),o.contextTypes={router:u.a.object.isRequired},c);t.default=_}});
//# sourceMappingURL=ApiApplications.js.map