{"version":3,"sources":["webpack:///69.js","webpack:///./app/views/settings/account/accountAuthorizations.jsx"],"names":["webpackJsonpexports","1575","module","__webpack_exports__","__webpack_require__","_classCallCheck","instance","Constructor","TypeError","_possibleConstructorReturn","self","call","ReferenceError","_inherits","subClass","superClass","prototype","Object","create","constructor","value","enumerable","writable","configurable","setPrototypeOf","__proto__","defineProperty","_class","_temp2","__WEBPACK_IMPORTED_MODULE_0_grid_emotion__","__WEBPACK_IMPORTED_MODULE_1_prop_types__","__WEBPACK_IMPORTED_MODULE_1_prop_types___default","n","__WEBPACK_IMPORTED_MODULE_2_react__","__WEBPACK_IMPORTED_MODULE_2_react___default","__WEBPACK_IMPORTED_MODULE_3_react_emotion__","__WEBPACK_IMPORTED_MODULE_4_app_locale__","__WEBPACK_IMPORTED_MODULE_5_app_views_asyncView__","__WEBPACK_IMPORTED_MODULE_6_app_components_buttons_button__","__WEBPACK_IMPORTED_MODULE_7_app_views_settings_components_emptyMessage__","__WEBPACK_IMPORTED_MODULE_8_app_stores_indicatorStore__","__WEBPACK_IMPORTED_MODULE_9_app_components_panels__","__WEBPACK_IMPORTED_MODULE_10_app_views_settings_components_settingsPageHeader__","_createClass","defineProperties","target","props","i","length","descriptor","key","protoProps","staticProps","AuthorizationRow","_React$Component","_ref","_temp","_this","_ret","this","_len","arguments","args","Array","_key","getPrototypeOf","apply","concat","handleRevoke","authorization","onRevoke","a","createElement","flex","p","direction","style","marginBottom","application","name","homepageUrl","href","color","scopes","join","align","onClick","className","Component","propTypes","object","isRequired","func","Description","AccountAuthorizations","_AsyncView","_ref2","_temp3","_this2","_ret2","_len2","_key2","oldData","state","data","setState","filter","_ref3","id","loadingIndicator","add","api","request","method","success","remove","error","addError","_this3","isEmpty","title","link","disablePadding","px","map"],"mappings":"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","file":"69.js","sourcesContent":["webpackJsonpexports([69],{\n\n/***/ 1575:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_grid_emotion__ = __webpack_require__(14);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_prop_types__ = __webpack_require__(1);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_prop_types___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_prop_types__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_react__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_react__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_react_emotion__ = __webpack_require__(5);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_app_locale__ = __webpack_require__(2);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_app_views_asyncView__ = __webpack_require__(92);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_app_components_buttons_button__ = __webpack_require__(26);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7_app_views_settings_components_emptyMessage__ = __webpack_require__(178);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8_app_stores_indicatorStore__ = __webpack_require__(30);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9_app_components_panels__ = __webpack_require__(18);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10_app_views_settings_components_settingsPageHeader__ = __webpack_require__(52);\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _class, _temp2;\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar AuthorizationRow = (_temp2 = _class = function (_React$Component) {\n  _inherits(AuthorizationRow, _React$Component);\n\n  function AuthorizationRow() {\n    var _ref;\n\n    var _temp, _this, _ret;\n\n    _classCallCheck(this, AuthorizationRow);\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = AuthorizationRow.__proto__ || Object.getPrototypeOf(AuthorizationRow)).call.apply(_ref, [this].concat(args))), _this), _this.handleRevoke = function () {\n      var authorization = _this.props.authorization;\n\n      _this.props.onRevoke(authorization);\n    }, _temp), _possibleConstructorReturn(_this, _ret);\n  }\n\n  _createClass(AuthorizationRow, [{\n    key: 'render',\n    value: function render() {\n      var authorization = this.props.authorization;\n\n      return __WEBPACK_IMPORTED_MODULE_2_react___default.a.createElement(\n        __WEBPACK_IMPORTED_MODULE_9_app_components_panels__[\"f\" /* PanelItem */],\n        null,\n        __WEBPACK_IMPORTED_MODULE_2_react___default.a.createElement(\n          __WEBPACK_IMPORTED_MODULE_0_grid_emotion__[\"Flex\"],\n          { flex: '1' },\n          __WEBPACK_IMPORTED_MODULE_2_react___default.a.createElement(\n            __WEBPACK_IMPORTED_MODULE_0_grid_emotion__[\"Flex\"],\n            { p: 2, flex: '1', direction: 'column' },\n            __WEBPACK_IMPORTED_MODULE_2_react___default.a.createElement(\n              'h5',\n              { style: { marginBottom: 5 } },\n              authorization.application.name\n            ),\n            authorization.homepageUrl && __WEBPACK_IMPORTED_MODULE_2_react___default.a.createElement(\n              'div',\n              { style: { marginBottom: 5 } },\n              __WEBPACK_IMPORTED_MODULE_2_react___default.a.createElement(\n                'small',\n                null,\n                __WEBPACK_IMPORTED_MODULE_2_react___default.a.createElement(\n                  'a',\n                  { href: authorization.homepageUrl },\n                  authorization.homepageUrl\n                )\n              )\n            ),\n            __WEBPACK_IMPORTED_MODULE_2_react___default.a.createElement(\n              'div',\n              null,\n              __WEBPACK_IMPORTED_MODULE_2_react___default.a.createElement(\n                'small',\n                { style: { color: '#999' } },\n                authorization.scopes.join(', ')\n              )\n            )\n          ),\n          __WEBPACK_IMPORTED_MODULE_2_react___default.a.createElement(\n            __WEBPACK_IMPORTED_MODULE_0_grid_emotion__[\"Flex\"],\n            { p: 2, align: 'center' },\n            __WEBPACK_IMPORTED_MODULE_2_react___default.a.createElement(\n              __WEBPACK_IMPORTED_MODULE_6_app_components_buttons_button__[\"default\"],\n              { onClick: this.handleRevoke },\n              __WEBPACK_IMPORTED_MODULE_2_react___default.a.createElement('span', { className: 'icon icon-trash' })\n            )\n          )\n        )\n      );\n    }\n  }]);\n\n  return AuthorizationRow;\n}(__WEBPACK_IMPORTED_MODULE_2_react___default.a.Component), _class.propTypes = {\n  authorization: __WEBPACK_IMPORTED_MODULE_1_prop_types___default.a.object.isRequired,\n  onRevoke: __WEBPACK_IMPORTED_MODULE_1_prop_types___default.a.func.isRequired\n}, _temp2);\n\n\nvar Description = /*#__PURE__*/Object(__WEBPACK_IMPORTED_MODULE_3_react_emotion__[\"default\"])('p', {\n  target: 'etm3ga10'\n})('font-size:0.9em;margin-bottom:30px;');\n\nvar AccountAuthorizations = function (_AsyncView) {\n  _inherits(AccountAuthorizations, _AsyncView);\n\n  function AccountAuthorizations() {\n    var _ref2;\n\n    var _temp3, _this2, _ret2;\n\n    _classCallCheck(this, AccountAuthorizations);\n\n    for (var _len2 = arguments.length, args = Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n      args[_key2] = arguments[_key2];\n    }\n\n    return _ret2 = (_temp3 = (_this2 = _possibleConstructorReturn(this, (_ref2 = AccountAuthorizations.__proto__ || Object.getPrototypeOf(AccountAuthorizations)).call.apply(_ref2, [this].concat(args))), _this2), _this2.handleRevoke = function (authorization) {\n      var oldData = _this2.state.data;\n\n      _this2.setState(function (state) {\n        return {\n          data: state.data.filter(function (_ref3) {\n            var id = _ref3.id;\n            return id !== authorization.id;\n          })\n        };\n      }, function () {\n        var loadingIndicator = __WEBPACK_IMPORTED_MODULE_8_app_stores_indicatorStore__[\"default\"].add(Object(__WEBPACK_IMPORTED_MODULE_4_app_locale__[\"t\"])('Saving changes..'));\n        _this2.api.request('/api-authorizations/', {\n          method: 'DELETE',\n          data: { authorization: authorization.id },\n          success: function success(data) {\n            __WEBPACK_IMPORTED_MODULE_8_app_stores_indicatorStore__[\"default\"].remove(loadingIndicator);\n          },\n          error: function error() {\n            _this2.setState({\n              data: oldData\n            });\n            __WEBPACK_IMPORTED_MODULE_8_app_stores_indicatorStore__[\"default\"].remove(loadingIndicator);\n            __WEBPACK_IMPORTED_MODULE_8_app_stores_indicatorStore__[\"default\"].addError(Object(__WEBPACK_IMPORTED_MODULE_4_app_locale__[\"t\"])('Unable to save changes. Please try again.'));\n          }\n        });\n      });\n    }, _temp3), _possibleConstructorReturn(_this2, _ret2);\n  }\n\n  _createClass(AccountAuthorizations, [{\n    key: 'getEndpoints',\n    value: function getEndpoints() {\n      return [['data', '/api-authorizations/']];\n    }\n  }, {\n    key: 'getTitle',\n    value: function getTitle() {\n      return 'Approved Applications';\n    }\n  }, {\n    key: 'renderBody',\n    value: function renderBody() {\n      var _this3 = this;\n\n      var data = this.state.data;\n\n      var isEmpty = data.length === 0;\n\n      return __WEBPACK_IMPORTED_MODULE_2_react___default.a.createElement(\n        'div',\n        null,\n        __WEBPACK_IMPORTED_MODULE_2_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_10_app_views_settings_components_settingsPageHeader__[\"default\"], { title: 'Authorized Applications' }),\n        __WEBPACK_IMPORTED_MODULE_2_react___default.a.createElement(\n          Description,\n          null,\n          Object(__WEBPACK_IMPORTED_MODULE_4_app_locale__[\"tct\"])('You can manage your own applications via the [link:API dashboard].', {\n            link: __WEBPACK_IMPORTED_MODULE_2_react___default.a.createElement('a', { href: '/settings/account/api/' })\n          })\n        ),\n        __WEBPACK_IMPORTED_MODULE_2_react___default.a.createElement(\n          __WEBPACK_IMPORTED_MODULE_9_app_components_panels__[\"a\" /* Panel */],\n          null,\n          __WEBPACK_IMPORTED_MODULE_2_react___default.a.createElement(\n            __WEBPACK_IMPORTED_MODULE_9_app_components_panels__[\"e\" /* PanelHeader */],\n            { disablePadding: true },\n            __WEBPACK_IMPORTED_MODULE_2_react___default.a.createElement(\n              __WEBPACK_IMPORTED_MODULE_0_grid_emotion__[\"Flex\"],\n              { align: 'center' },\n              __WEBPACK_IMPORTED_MODULE_2_react___default.a.createElement(\n                __WEBPACK_IMPORTED_MODULE_0_grid_emotion__[\"Box\"],\n                { px: 2, flex: '1' },\n                Object(__WEBPACK_IMPORTED_MODULE_4_app_locale__[\"t\"])('Approved Applications')\n              )\n            )\n          ),\n          __WEBPACK_IMPORTED_MODULE_2_react___default.a.createElement(\n            __WEBPACK_IMPORTED_MODULE_9_app_components_panels__[\"c\" /* PanelBody */],\n            null,\n            isEmpty && __WEBPACK_IMPORTED_MODULE_2_react___default.a.createElement(\n              __WEBPACK_IMPORTED_MODULE_7_app_views_settings_components_emptyMessage__[\"a\" /* default */],\n              null,\n              Object(__WEBPACK_IMPORTED_MODULE_4_app_locale__[\"t\"])(\"You haven't approved any third party applications.\")\n            ),\n            !isEmpty && __WEBPACK_IMPORTED_MODULE_2_react___default.a.createElement(\n              'div',\n              null,\n              data.map(function (authorization) {\n                return __WEBPACK_IMPORTED_MODULE_2_react___default.a.createElement(AuthorizationRow, {\n                  key: authorization.id,\n                  authorization: authorization,\n                  onRevoke: _this3.handleRevoke\n                });\n              })\n            )\n          )\n        )\n      );\n    }\n  }]);\n\n  return AccountAuthorizations;\n}(__WEBPACK_IMPORTED_MODULE_5_app_views_asyncView__[\"default\"]);\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (AccountAuthorizations);\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// 69.js","import {Box, Flex} from 'grid-emotion';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport styled from 'react-emotion';\n\nimport {t, tct} from 'app/locale';\nimport AsyncView from 'app/views/asyncView';\nimport Button from 'app/components/buttons/button';\nimport EmptyMessage from 'app/views/settings/components/emptyMessage';\nimport IndicatorStore from 'app/stores/indicatorStore';\nimport {Panel, PanelBody, PanelHeader, PanelItem} from 'app/components/panels';\nimport SettingsPageHeader from 'app/views/settings/components/settingsPageHeader';\n\nclass AuthorizationRow extends React.Component {\n  static propTypes = {\n    authorization: PropTypes.object.isRequired,\n    onRevoke: PropTypes.func.isRequired,\n  };\n\n  handleRevoke = () => {\n    let {authorization} = this.props;\n    this.props.onRevoke(authorization);\n  };\n\n  render() {\n    let authorization = this.props.authorization;\n\n    return (\n      <PanelItem>\n        <Flex flex=\"1\">\n          <Flex p={2} flex=\"1\" direction=\"column\">\n            <h5 style={{marginBottom: 5}}>{authorization.application.name}</h5>\n            {authorization.homepageUrl && (\n              <div style={{marginBottom: 5}}>\n                <small>\n                  <a href={authorization.homepageUrl}>{authorization.homepageUrl}</a>\n                </small>\n              </div>\n            )}\n            <div>\n              <small style={{color: '#999'}}>{authorization.scopes.join(', ')}</small>\n            </div>\n          </Flex>\n          <Flex p={2} align=\"center\">\n            <Button onClick={this.handleRevoke}>\n              <span className=\"icon icon-trash\" />\n            </Button>\n          </Flex>\n        </Flex>\n      </PanelItem>\n    );\n  }\n}\n\nconst Description = styled.p`\n  font-size: 0.9em;\n  margin-bottom: 30px;\n`;\n\nclass AccountAuthorizations extends AsyncView {\n  getEndpoints() {\n    return [['data', '/api-authorizations/']];\n  }\n\n  getTitle() {\n    return 'Approved Applications';\n  }\n\n  handleRevoke = authorization => {\n    let oldData = this.state.data;\n\n    this.setState(\n      state => ({\n        data: state.data.filter(({id}) => id !== authorization.id),\n      }),\n      () => {\n        let loadingIndicator = IndicatorStore.add(t('Saving changes..'));\n        this.api.request('/api-authorizations/', {\n          method: 'DELETE',\n          data: {authorization: authorization.id},\n          success: data => {\n            IndicatorStore.remove(loadingIndicator);\n          },\n          error: () => {\n            this.setState({\n              data: oldData,\n            });\n            IndicatorStore.remove(loadingIndicator);\n            IndicatorStore.addError(t('Unable to save changes. Please try again.'));\n          },\n        });\n      }\n    );\n  };\n\n  renderBody() {\n    let {data} = this.state;\n    let isEmpty = data.length === 0;\n\n    return (\n      <div>\n        <SettingsPageHeader title=\"Authorized Applications\" />\n        <Description>\n          {tct('You can manage your own applications via the [link:API dashboard].', {\n            link: <a href=\"/settings/account/api/\" />,\n          })}\n        </Description>\n\n        <Panel>\n          <PanelHeader disablePadding={true}>\n            <Flex align=\"center\">\n              <Box px={2} flex=\"1\">\n                {t('Approved Applications')}\n              </Box>\n            </Flex>\n          </PanelHeader>\n\n          <PanelBody>\n            {isEmpty && (\n              <EmptyMessage>\n                {t(\"You haven't approved any third party applications.\")}\n              </EmptyMessage>\n            )}\n\n            {!isEmpty && (\n              <div>\n                {data.map(authorization => {\n                  return (\n                    <AuthorizationRow\n                      key={authorization.id}\n                      authorization={authorization}\n                      onRevoke={this.handleRevoke}\n                    />\n                  );\n                })}\n              </div>\n            )}\n          </PanelBody>\n        </Panel>\n      </div>\n    );\n  }\n}\n\nexport default AccountAuthorizations;\n\n\n\n// WEBPACK FOOTER //\n// ./app/views/settings/account/accountAuthorizations.jsx"],"sourceRoot":""}