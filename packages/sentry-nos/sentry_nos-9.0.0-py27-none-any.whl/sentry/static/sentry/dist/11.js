webpackJsonpexports([11],{1593:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var o,s,c=n(9),l=n(0),u=n.n(l),p=n(2),f=n(1785),d=n(1786),h=n(1787),m=n(6),b=n(52),g=n(81),y=n(148),v=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},j=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),O=(s=o=function(e){function t(){return r(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),j(t,[{key:"render",value:function(){var e=this.context,t=e.organization,n=e.project,r=this.props.params,a=r.orgId,i=r.projectId,o=r.filterType;if(!n)return null;var s=new Set(n.features);return u.a.createElement("div",null,u.a.createElement(b.default,{title:Object(p.t)("Inbound Data Filters")}),u.a.createElement(g.default,null,Object(p.t)("Filters allow you to prevent Sentry from storing events in certain situations. Filtered events are tracked separately from rate limits, and do not apply to any project quotas.")),u.a.createElement("div",null,u.a.createElement(d.a,{params:this.props.params}),s.has("discard-groups")&&u.a.createElement("ul",{className:"nav nav-tabs",style:{borderBottom:"1px solid #ddd",paddingTop:"30px"}},u.a.createElement("li",{className:"data-filters"===o?"active":""},u.a.createElement(c.Link,{to:Object(y.a)("data-filters/",v({},this.props,{stepBack:-1}))},Object(p.t)("Data Filters"))),u.a.createElement("li",{className:"discarded-groups"===o?"active":""},u.a.createElement(c.Link,{to:Object(y.a)("discarded-groups/",v({},this.props,{stepBack:-1}))},Object(p.t)("Discarded Issues")))),"discarded-groups"==o?u.a.createElement(f.a,{orgId:a,projectId:i}):u.a.createElement(h.a,{project:n,organization:t,params:this.props.params,features:s})))}}]),t}(u.a.Component),o.contextTypes={organization:m.e.Organization,project:m.e.Project},s);t.default=O},1636:function(e,t){var n=Object.prototype.toString;e.exports=function(e){switch(n.call(e)){case"[object Date]":return"date";case"[object RegExp]":return"regexp";case"[object Arguments]":return"arguments";case"[object Array]":return"array";case"[object Error]":return"error"}return null===e?"null":void 0===e?"undefined":e!==e?"nan":e&&1===e.nodeType?"element":typeof(e=e.valueOf?e.valueOf():Object.prototype.valueOf.apply(e))}},1637:function(e,t,n){"use strict";function r(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s,c,l,u,p,f=n(14),d=n(1),h=n.n(d),m=n(0),b=n.n(m),g=n(1638),y=n.n(g),v=n(10),j=n(601),O=n(18),w=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},E=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),_=(c=s=function(e){function t(e){var n;a(this,t);for(var r=arguments.length,o=Array(r>1?r-1:0),s=1;s<r;s++)o[s-1]=arguments[s];var c=i(this,(n=t.__proto__||Object.getPrototypeOf(t)).call.apply(n,[this,e].concat(o)));return l.call(c),c.state={highlighted:c.getLocation(e).hash},c}return o(t,e),E(t,[{key:"componentDidMount",value:function(){this.scrollToHash()}},{key:"componentWillReceiveProps",value:function(e,t){if(this.getLocation(this.props).hash!==this.getLocation(e).hash){var n=this.getLocation(e).hash;this.scrollToHash(n),this.setState({highlighted:n})}}},{key:"scrollToHash",value:function(e){var t=e||this.getLocation(this.props).hash;t&&y()(t,{align:"middle",offset:-100})}},{key:"render",value:function(){var e=this.props,t=e.forms,n=e.title,a=e.fields,i=e.access,o=e.features,s=e.additionalFieldProps,c=e.renderFooter,l=e.renderHeader,u=(e.location,r(e,["forms","title","fields","access","features","additionalFieldProps","renderFooter","renderHeader","location"])),p=Object(v.d)(t),d={access:i,features:o,additionalFieldProps:s,renderFooter:c,renderHeader:l,highlighted:this.state.highlighted};return b.a.createElement(f.Box,u,p?t.map(function(e){return b.a.createElement(k,w({key:e.title,title:e.title,fields:e.fields},d))}):b.a.createElement(k,w({title:n,fields:a},d)))}}]),t}(b.a.Component),s.propTypes={forms:h.a.arrayOf(h.a.shape({title:h.a.string,fields:h.a.arrayOf(h.a.oneOfType([h.a.func,j.a.propTypes.field]))})),fields:h.a.arrayOf(h.a.oneOfType([h.a.func,j.a.propTypes.field])),title:h.a.string,access:h.a.object,features:h.a.object,additionalFieldProps:h.a.object,renderFooter:h.a.func,renderHeader:h.a.func},s.defaultProps={additionalFieldProps:{}},s.contextTypes={location:h.a.object},l=function(){var e=this;this.getLocation=function(t){return t.location||e.context.location||{}}},c);t.a=_;var k=(p=u=function(e){function t(){return a(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),E(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.title,a=t.fields,i=t.access,o=t.additionalFieldProps,s=t.renderFooter,c=t.renderHeader,l=(t.location,r(t,["title","fields","access","additionalFieldProps","renderFooter","renderHeader","location"])),u="function"==typeof s,p="function"==typeof c;return b.a.createElement(O.a,{key:n,id:n},b.a.createElement(O.e,null,n),b.a.createElement(O.c,null,p&&c({title:n,fields:a}),a.map(function(t){if("function"==typeof t)return t();var n=(t.defaultValue,r(t,["defaultValue"]));return b.a.createElement(j.a,w({access:i,key:t.name},l,o,{field:n,highlighted:e.props.highlighted==="#"+t.name}))}),u&&s({title:n,fields:a})))}}]),t}(b.a.Component),u.propTypes={title:h.a.string,fields:h.a.arrayOf(h.a.oneOfType([h.a.func,j.a.propTypes.field])),access:h.a.object,additionalFieldProps:h.a.object,highlighted:h.a.string,renderHeader:h.a.func,renderFooter:h.a.func},p)},1638:function(e,t,n){function r(e,t,n){var r=document.body,a=document.documentElement,i=e.getBoundingClientRect(),o=a.clientHeight,s=Math.max(r.scrollHeight,r.offsetHeight,a.clientHeight,a.scrollHeight,a.offsetHeight);t=t||0;var c;c="bottom"===n?i.bottom-o:"middle"===n?i.bottom-o/2-i.height/2:i.top;var l=s-o;return Math.min(c+t+window.pageYOffset,l)}var a=n(1639);e.exports=function(e,t){if(t=t||{},"string"==typeof e&&(e=document.querySelector(e)),e)return a(0,r(e,t.offset,t.align),t)}},1639:function(e,t,n){function r(e,t,n){function r(){o(r),c.update()}n=n||{};var s=a(),c=i(s).ease(n.ease||"out-circ").to({top:t,left:e}).duration(n.duration||1e3);return c.update(function(e){window.scrollTo(0|e.left,0|e.top)}),c.on("end",function(){r=function(){}}),r(),c}function a(){return{top:window.pageYOffset||document.documentElement.scrollTop,left:window.pageXOffset||document.documentElement.scrollLeft}}var i=n(1640),o=n(1644);e.exports=r},1640:function(e,t,n){function r(e){if(!(this instanceof r))return new r(e);this._from=e,this.ease("linear"),this.duration(500)}var a=n(1641),i=n(1642),o=n(1636),s=n(1643);e.exports=r,a(r.prototype),r.prototype.reset=function(){return this.isArray="array"===o(this._from),this._curr=i(this._from),this._done=!1,this._start=Date.now(),this},r.prototype.to=function(e){return this.reset(),this._to=e,this},r.prototype.duration=function(e){return this._duration=e,this},r.prototype.ease=function(e){if(!(e="function"==typeof e?e:s[e]))throw new TypeError("invalid easing function");return this._ease=e,this},r.prototype.stop=function(){return this.stopped=!0,this._done=!0,this.emit("stop"),this.emit("end"),this},r.prototype.step=function(){if(!this._done){var e=this._duration,t=Date.now();if(t-this._start>=e)return this._from=this._to,this._update(this._to),this._done=!0,this.emit("end"),this;var n=this._from,r=this._to,a=this._curr,i=this._ease,o=(t-this._start)/e,s=i(o);if(this.isArray){for(var c=0;c<n.length;++c)a[c]=n[c]+(r[c]-n[c])*s;return this._update(a),this}for(var l in n)a[l]=n[l]+(r[l]-n[l])*s;return this._update(a),this}},r.prototype.update=function(e){return 0==arguments.length?this.step():(this._update=e,this)}},1641:function(e,t){function n(e){if(e)return r(e)}function r(e){for(var t in n.prototype)e[t]=n.prototype[t];return e}e.exports=n,n.prototype.on=n.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this},n.prototype.once=function(e,t){function n(){this.off(e,n),t.apply(this,arguments)}return n.fn=t,this.on(e,n),this},n.prototype.off=n.prototype.removeListener=n.prototype.removeAllListeners=n.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n=this._callbacks["$"+e];if(!n)return this;if(1==arguments.length)return delete this._callbacks["$"+e],this;for(var r,a=0;a<n.length;a++)if((r=n[a])===t||r.fn===t){n.splice(a,1);break}return this},n.prototype.emit=function(e){this._callbacks=this._callbacks||{};var t=[].slice.call(arguments,1),n=this._callbacks["$"+e];if(n){n=n.slice(0);for(var r=0,a=n.length;r<a;++r)n[r].apply(this,t)}return this},n.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]},n.prototype.hasListeners=function(e){return!!this.listeners(e).length}},1642:function(e,t,n){function r(e){switch(a(e)){case"object":var t={};for(var n in e)e.hasOwnProperty(n)&&(t[n]=r(e[n]));return t;case"array":for(var t=new Array(e.length),i=0,o=e.length;i<o;i++)t[i]=r(e[i]);return t;case"regexp":var s="";return s+=e.multiline?"m":"",s+=e.global?"g":"",s+=e.ignoreCase?"i":"",new RegExp(e.source,s);case"date":return new Date(e.getTime());default:return e}}var a;try{a=n(1636)}catch(e){a=n(1636)}e.exports=r},1643:function(e,t){t.linear=function(e){return e},t.inQuad=function(e){return e*e},t.outQuad=function(e){return e*(2-e)},t.inOutQuad=function(e){return e*=2,e<1?.5*e*e:-.5*(--e*(e-2)-1)},t.inCube=function(e){return e*e*e},t.outCube=function(e){return--e*e*e+1},t.inOutCube=function(e){return e*=2,e<1?.5*e*e*e:.5*((e-=2)*e*e+2)},t.inQuart=function(e){return e*e*e*e},t.outQuart=function(e){return 1- --e*e*e*e},t.inOutQuart=function(e){return e*=2,e<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2)},t.inQuint=function(e){return e*e*e*e*e},t.outQuint=function(e){return--e*e*e*e*e+1},t.inOutQuint=function(e){return e*=2,e<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2)},t.inSine=function(e){return 1-Math.cos(e*Math.PI/2)},t.outSine=function(e){return Math.sin(e*Math.PI/2)},t.inOutSine=function(e){return.5*(1-Math.cos(Math.PI*e))},t.inExpo=function(e){return 0==e?0:Math.pow(1024,e-1)},t.outExpo=function(e){return 1==e?e:1-Math.pow(2,-10*e)},t.inOutExpo=function(e){return 0==e?0:1==e?1:(e*=2)<1?.5*Math.pow(1024,e-1):.5*(2-Math.pow(2,-10*(e-1)))},t.inCirc=function(e){return 1-Math.sqrt(1-e*e)},t.outCirc=function(e){return Math.sqrt(1- --e*e)},t.inOutCirc=function(e){return e*=2,e<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1)},t.inBack=function(e){var t=1.70158;return e*e*((t+1)*e-t)},t.outBack=function(e){var t=1.70158;return--e*e*((t+1)*e+t)+1},t.inOutBack=function(e){var t=2.5949095;return(e*=2)<1?e*e*((t+1)*e-t)*.5:.5*((e-=2)*e*((t+1)*e+t)+2)},t.inBounce=function(e){return 1-t.outBounce(1-e)},t.outBounce=function(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},t.inOutBounce=function(e){return e<.5?.5*t.inBounce(2*e):.5*t.outBounce(2*e-1)+.5},t["in-quad"]=t.inQuad,t["out-quad"]=t.outQuad,t["in-out-quad"]=t.inOutQuad,t["in-cube"]=t.inCube,t["out-cube"]=t.outCube,t["in-out-cube"]=t.inOutCube,t["in-quart"]=t.inQuart,t["out-quart"]=t.outQuart,t["in-out-quart"]=t.inOutQuart,t["in-quint"]=t.inQuint,t["out-quint"]=t.outQuint,t["in-out-quint"]=t.inOutQuint,t["in-sine"]=t.inSine,t["out-sine"]=t.outSine,t["in-out-sine"]=t.inOutSine,t["in-expo"]=t.inExpo,t["out-expo"]=t.outExpo,t["in-out-expo"]=t.inOutExpo,t["in-circ"]=t.inCirc,t["out-circ"]=t.outCirc,t["in-out-circ"]=t.inOutCirc,t["in-back"]=t.inBack,t["out-back"]=t.outBack,t["in-out-back"]=t.inOutBack,t["in-bounce"]=t.inBounce,t["out-bounce"]=t.outBounce,t["in-out-bounce"]=t.inOutBounce},1644:function(e,t){function n(e){var t=(new Date).getTime(),n=Math.max(0,16-(t-r)),a=setTimeout(e,n);return r=t,a}t=e.exports=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||n;var r=(new Date).getTime(),a=window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.clearTimeout;t.cancel=function(e){a.call(window,e)}},1663:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"route",function(){return s}),n.d(t,"customFilterFields",function(){return f});var r=n(0),a=n.n(r),i=n(2),o=n(71),s="/settings/:orgId/:projectId/filters/",c=Object(i.t)("Separate multiple entries with a newline."),l=Object(i.tct)("Allows [link:glob pattern matching].",{link:a.a.createElement(o.a,{href:"https://en.wikipedia.org/wiki/Glob_(programming)"})}),u=function(e){return{options:e}},p=[{title:Object(i.t)("Custom Filters"),fields:[{name:"filters:blacklisted_ips",type:"string",multiline:!0,placeholder:"e.g. 127.0.0.1 or 10.0.0.0/8",label:Object(i.t)("IP Addresses"),help:a.a.createElement(a.a.Fragment,null,Object(i.t)("Filter events from these IP addresses. "),c),getData:u}]}];t.default=p;var f=[{name:"filters:releases",type:"string",multiline:!0,placeholder:"e.g. 1.* or [!3].[0-9].*",label:Object(i.t)("Releases"),help:a.a.createElement(a.a.Fragment,null,Object(i.t)("Filter events from these releases. "),c," ",l),getData:u},{name:"filters:error_messages",type:"string",multiline:!0,placeholder:"e.g. TypeError* or *: integer division or modulo by zero",label:Object(i.t)("Error Message"),help:a.a.createElement(a.a.Fragment,null,Object(i.t)("Filter events by error messages. "),c," ",l),getData:u}]},1785:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o,s,c,l,u=n(51),p=n.n(u),f=n(1),d=n.n(f),h=n(0),m=n.n(h),b=n(80),g=n(2),y=n(182),v=n(32),j=n(225),O=n(183),w=n(21),E=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),k=(s=o=function(e){function t(){return r(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),_(t,[{key:"render",value:function(){var e=this.props,t=e.data,n=e.onUndiscard,r=t.actor;return m.a.createElement("li",{className:"group row level-"+t.level+" type-"+t.type},m.a.createElement("div",{className:"col-md-10 event-details issue"},m.a.createElement(j.a,E({includeLink:!1,hideIcons:!0},p()(this.props,"undiscard")))),m.a.createElement("div",{className:"col-md-1 event-actor"},r&&m.a.createElement(w.default,{title:Object(g.t)("Discarded by %s",r.name||r.email)},m.a.createElement(v.a,{user:t.actor}))),m.a.createElement("div",{className:"col-md-1 event-undiscard"},m.a.createElement(w.default,{title:Object(g.t)("Undiscard")},m.a.createElement(O.a,{className:"group-remove btn btn-default btn-sm",message:Object(g.t)("Undiscarding this issue means that incoming events that match this will no longer be discarded. New incoming events will count toward your event quota and will display on your issues dashboard. Are you sure you wish to continue?"),onConfirm:function(){n(t.id)}},m.a.createElement("span",{className:"icon-trash undiscard"})))))}}]),t}(m.a.Component),o.propTypes={data:d.a.object.isRequired,onUndiscard:d.a.func.isRequired,orgId:d.a.string.isRequired,projectId:d.a.string.isRequired},s),x=(l=c=function(e){function t(){var e,n,i,o;r(this,t);for(var s=arguments.length,c=Array(s),l=0;l<s;l++)c[l]=arguments[l];return n=i=a(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(c))),i.handleUndiscard=function(e){var t=i.props,n=t.orgId,r=t.projectId,a="/projects/"+n+"/"+r+"/tombstones/"+e+"/";i.api.request(a,{method:"DELETE",success:function(e){Object(b.d)(Object(g.t)("Events similar to these will no longer be filtered"))},error:function(){Object(b.a)(Object(g.t)("We were unable to undiscard this issue"))}}),i.fetchData()},o=n,a(i,o)}return i(t,e),_(t,[{key:"getEndpoints",value:function(){var e=this.props;return[["tombstones","/projects/"+e.orgId+"/"+e.projectId+"/tombstones/"]]}},{key:"renderEmpty",value:function(){return m.a.createElement("div",{className:"box empty"},Object(g.t)("You have no discarded issues"))}},{key:"renderBody",value:function(){var e=this,t=this.props,n=t.orgId,r=t.projectId,a=this.state.tombstones;return m.a.createElement("div",null,m.a.createElement("div",{className:"row",style:{paddingTop:10}},m.a.createElement("div",{className:"col-md-12 discarded-groups"},a.length?m.a.createElement("ul",{className:"group-list"},a.map(function(t){return m.a.createElement(k,{key:t.id,data:t,orgId:n,projectId:r,onUndiscard:e.handleUndiscard})})):this.renderEmpty())))}}]),t}(y.default),c.propTypes={orgId:d.a.string.isRequired,projectId:d.a.string.isRequired},l);t.a=x},1786:function(e,t,n){"use strict";(function(e){var r=n(27),a=n(1),i=n.n(a),o=n(0),s=n.n(o),c=n(186),l=n.n(c),u=n(3),p=n.n(u),f=n(36),d=n.n(f),h=n(10),m=n(2),b=n(8),g=n(178),y=n(15),v=n(11),j=n(18),O=n(213),w=n(81),E=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_=function(){function e(e,t){var n=[],r=!0,a=!1,i=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){a=!0,i=e}finally{try{!r&&s.return&&s.return()}finally{if(a)throw i}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),k={marginBottom:0},x=p()({displayName:"ProjectFiltersChart",contextTypes:{project:i.a.object},mixins:[b.default],getInitialState:function(){var e=Math.floor((new Date).getTime()/1e3);return{loading:!0,error:!1,statsError:!1,querySince:e-2592e3,queryUntil:e,rawStatsData:null,formattedData:[],blankStats:!0}},componentDidMount:function(){this.fetchData()},getStatOpts:function(){return{"ip-address":"IP Address","release-version":"Release","error-message":"Error Message","browser-extensions":"Browser Extension","legacy-browsers":"Legacy Browser",localhost:"Localhost","web-crawlers":"Web Crawler","invalid-csp":"Invalid CSP",cors:"CORS","discarded-hash":"Discarded Issue"}},formatData:function(e){var t=this;return Object.keys(this.getStatOpts()).map(function(n){return{data:e[n].map(function(e){var n=_(e,2),r=n[0],a=n[1];return a>0&&t.setState({blankStats:!1}),{x:r,y:a}}),label:t.getStatOpts()[n],statName:n}})},getFilterStats:function(){var t=this,n=Object.keys(this.getStatOpts()),r=this.props.params,a=r.orgId,i=r.projectId,o="/projects/"+a+"/"+i+"/stats/",s={since:this.state.querySince,until:this.state.queryUntil,resolution:"1d"};e.when.apply(e,n.map(function(n){var r=e.Deferred();return t.api.request(o,{query:Object.assign({stat:n},s),success:r.resolve.bind(r),error:r.reject.bind(r)}),r})).done(function(){var e={};if(1===n.length)e[n[0]]=arguments[0];else for(var t=0;t<n.length;t++)e[n[t]]=arguments[t][0];this.setState({rawStatsData:e,formattedData:this.formatData(e),error:!1,loading:!1})}.bind(this)).fail(function(){this.setState({error:!0})}.bind(this))},fetchData:function(){this.getFilterStats()},timeLabelAsDay:function(e){return d()(1e3*e.x).format("LL")},renderTooltip:function(e,t,n){for(var r=this.timeLabelAsDay(e),a=0,i=0;i<e.y.length;i++)a+=e.y[i];var o=this.state.formattedData;return l.a.renderToStaticMarkup(s.a.createElement("div",{style:{width:"175px"}},s.a.createElement("div",{className:"time-label"},s.a.createElement("span",null,r)),s.a.createElement("div",null,Object(h.k)(a)," ",Object(m.tn)("total event","total events",a)),o.map(function(t,n){return e.y[n]>0&&s.a.createElement("dl",{className:"legend",key:t.statName},s.a.createElement("dt",null,s.a.createElement("span",{className:t.statName+" 'filter-color'"})),s.a.createElement("dd",{style:{textAlign:"left",position:"absolute"}},t.label," "),s.a.createElement("dd",{style:{textAlign:"right",position:"relative"}},e.y[n]," ",Object(m.tn)("event","events",e.y[n])))})))},render:function(){var e=this.state,t=e.loading,n=e.error,a=t||!this.state.formattedData,i=!a&&n,o=!a&&!n;return s.a.createElement(j.a,null,s.a.createElement(j.e,null,Object(m.t)("Errors filtered in the last 30 days (by day)")),s.a.createElement(j.c,null,a&&s.a.createElement(v.default,null),i&&s.a.createElement(y.default,{onRetry:this.fetchData}),o&&!this.state.blankStats&&s.a.createElement(O.default,{series:this.state.formattedData,label:"events",barClasses:Object.keys(this.getStatOpts()),className:"standard-barchart filtered-stats-barchart",tooltip:this.renderTooltip}),o&&this.state.blankStats&&s.a.createElement(g.a,{className:Object(r.css)({flexDirection:"column",alignItems:"center"})},s.a.createElement("h3",{className:Object(r.css)(k)},Object(m.t)("Nothing filtered in the last 30 days.")),s.a.createElement(w.default,{className:Object(r.css)(E({fontSize:"0.9em"},k))},Object(m.t)("Issues filtered as a result of your settings below will be shown here.")))))}});t.a=x}).call(t,n(13))},1787:function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s,c,l,u,p=n(27),f=n(14),d=n(1),h=n.n(d),m=n(0),b=n.n(m),g=n(5),y=n(2),v=n(182),j=n(601),O=n(600),w=n(606),E=n(72),_=n(1637),k=n(18),x=n(6),T=n(214),S=n(1663),P=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},F=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),D={ie_pre_9:{icon:"internet-explorer",helpText:"Version 8 and lower",title:"Internet Explorer"},ie9:{icon:"internet-explorer",helpText:"Version 9",title:"Internet Explorer"},ie10:{icon:"internet-explorer",helpText:"Version 10",title:"Internet Explorer"},safari_pre_6:{icon:"safari",helpText:"Version 5 and lower",title:"Safari"},opera_pre_15:{icon:"opera",helpText:"Version 14 and lower",title:"Opera"},opera_mini_pre_8:{icon:"opera",helpText:"Version 8 and lower",title:"Opera Mini"},android_pre_4:{icon:"android",helpText:"Version 3 and lower",title:"Android"}},I=Object.keys(D),C=(c=s=function(e){function t(e){a(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));n.handleToggleSubfilters=function(e,t){var r=n.state.subfilters;!0===e?r=new Set(I):!1===e?r=new Set:r.has(e)?r.delete(e):r.add(e),n.setState({subfilters:new Set(r)},function(){n.props.onToggle(n.props.data,r,t)})};var r=void 0;return r=!0===e.data.active?new Set(I):!1===e.data.active?new Set:new Set(e.data.active),n.state={loading:!1,error:!1,subfilters:r},n}return o(t,e),F(t,[{key:"render",value:function(){var e=this;return b.a.createElement("div",null,b.a.createElement(H,null,b.a.createElement(z,null,Object(y.t)("Filter"),":"),b.a.createElement(U,{onClick:this.handleToggleSubfilters.bind(this,!0)},Object(y.t)("All")),b.a.createElement(U,{onClick:this.handleToggleSubfilters.bind(this,!1)},Object(y.t)("None"))),b.a.createElement(A,null,I.map(function(t){var n=D[t];return b.a.createElement(M,{key:t},b.a.createElement(B,null,b.a.createElement(f.Flex,{align:"center",flex:"1"},b.a.createElement(L,{className:"icon-"+n.icon}),b.a.createElement("div",null,b.a.createElement(R,null,n.title),b.a.createElement(Q,null,n.helpText))),b.a.createElement(T.default,{isActive:e.state.subfilters.has(t),className:Object(p.css)({flexShrink:0,marginLeft:6}),toggle:e.handleToggleSubfilters.bind(e,t),size:"lg"})))})))}}]),t}(b.a.Component),s.propTypes={data:h.a.object.isRequired,onToggle:h.a.func.isRequired},c),q=(u=l=function(e){function t(){var e,n,r,o;a(this,t);for(var s=arguments.length,c=Array(s),l=0;l<s;l++)c[l]=arguments[l];return n=r=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(c))),r.handleLegacyChange=function(e,t,n,r,a){e(r,a),t(r,a)},o=n,i(r,o)}return o(t,e),F(t,[{key:"getDefaultState",value:function(){return{hooksDisabled:E.default.get("project:custom-inbound-filters:disabled")}}},{key:"getEndpoints",value:function(){var e=this.props.params,t=e.orgId,n=e.projectId;return[["filterList","/projects/"+t+"/"+n+"/filters/"],["project","/projects/"+t+"/"+n+"/"]]}},{key:"renderDisabledFeature",value:function(e){var t=this.props,n=t.project,r=t.organization;return this.state.hooksDisabled.map(function(t){return t(r,n,null,e)})}},{key:"renderBody",value:function(){var e=this,t=this.props,n=t.features,a=t.params,i=a.orgId,o=a.projectId;if(!this.state.project)return null;var s="/projects/"+i+"/"+o+"/",c=s+"filters/";return b.a.createElement(b.a.Fragment,null,b.a.createElement(k.a,null,b.a.createElement(k.e,null,Object(y.t)("Filters")),b.a.createElement(k.c,null,this.state.filterList.map(function(t,n){var a={name:t.id,label:t.name,help:t.description};return b.a.createElement(k.f,{key:t.id,p:0},b.a.createElement(N,{apiMethod:"PUT",apiEndpoint:""+c+t.id+"/",initialData:r({},t.id,t.active),saveOnBlur:!0},"legacy-browsers"!==t.id?b.a.createElement(j.a,{key:t.id,getData:function(e){return{active:e[t.id]}},field:P({type:"boolean"},a)}):b.a.createElement(w.a,P({inline:!1},a,{getData:function(e){return{subfilters:e[t.id]}}}),function(n){var r=n.onChange,a=n.onBlur;return b.a.createElement(C,{key:t.id,data:t,onToggle:e.handleLegacyChange.bind(e,r,a)})})))}))),b.a.createElement(O.a,{apiMethod:"PUT",apiEndpoint:s,initialData:this.state.project.options,saveOnBlur:!0},b.a.createElement(_.a,{features:n,forms:S.default,renderFooter:function(){var t=S.customFilterFields.map(function(e){return b.a.createElement(j.a,{key:e.name,field:e})});return n.has("custom-inbound-filters")?t:e.renderDisabledFeature(t)}})))}}]),t}(v.default),l.propTypes={project:x.e.Project,organization:x.e.Organization,params:h.a.object,features:h.a.object},u);t.a=q;var N=Object(g.default)(O.a,{target:"e67jji50"})("flex:1;"),A=Object(g.default)("div",{target:"e67jji51"})("display:flex;flex-wrap:wrap;"),B=Object(g.default)("div",{target:"e67jji52"})("display:flex;align-items:center;background:",function(e){return e.theme.whiteDark},";border-radius:3px;flex:1;padding:12px;height:100%;"),M=Object(g.default)("div",{target:"e67jji53"})("padding:12px;width:50%;"),L=Object(g.default)("div",{target:"e67jji54"})("width:38px;height:38px;background-repeat:no-repeat;background-position:center;background-size:38px 38px;margin-right:6px;flex-shrink:0;"),R=Object(g.default)("div",{target:"e67jji55"})("font-size:14px;font-weight:bold;line-height:1;white-space:nowrap;"),Q=Object(g.default)("div",{target:"e67jji56"})("color:",function(e){return e.theme.gray3},";font-size:12px;line-height:1;white-space:nowrap;"),H=Object(g.default)("div",{target:"e67jji57"})("text-align:right;padding:0 12px;"),z=Object(g.default)("span",{target:"e67jji58"})("font-weight:bold;margin-right:6px;"),U=Object(g.default)("a",{target:"e67jji59"})("border-right:1px solid #f1f2f3;margin-right:6px;padding-right:6px;&:last-child{border-right:none;margin-right:0;}")}});
//# sourceMappingURL=ProjectFilters.js.map