webpackJsonpexports([8],{1591:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i,u,c=n(0),l=n.n(c),s=n(5),p=n(2),f=n(92),h=n(18),d=n(6),m=n(52),y=n(81),g=n(600),b=n(1637),v=n(1717),O=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},w=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),j=Object(s.default)("pre",{target:"egbqmfy0"})("word-break:break-all;white-space:pre-wrap;"),x=(u=i=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),w(t,[{key:"getTitle",value:function(){return Object(p.t)("Ownership")}},{key:"getEndpoints",value:function(){var e=this.props,t=e.organization,n=e.project;return[["project","/projects/"+t.slug+"/"+n.slug+"/"],["ownership","/projects/"+t.slug+"/"+n.slug+"/ownership/"]]}},{key:"renderBody",value:function(){var e=this.props,t=e.project,n=e.organization,r=this.state.ownership;return l.a.createElement("div",null,l.a.createElement(m.default,{title:Object(p.t)("Issue Owners")}),l.a.createElement("div",{className:"alert alert-block alert-info"},Object(p.t)("Psst! This feature is still a work-in-progress. Thanks for being an early\n          adopter!")),l.a.createElement(h.a,null,l.a.createElement(h.e,null,Object(p.t)("Ownership Rules")),l.a.createElement(h.c,{disablePadding:!1},l.a.createElement(E,null,Object(p.t)("Define rules here to configure automated ownership for new issues and direct email alerts")),l.a.createElement(E,null,Object(p.t)("Rules follow the pattern: "),l.a.createElement("code",null,"type:glob owner owner")),l.a.createElement(E,null,Object(p.tct)("Owners can be team identifiers starting with [pound], or user emails",{pound:l.a.createElement("code",null,"#")})),l.a.createElement(E,null,Object(p.t)("Globbing Syntax:"),l.a.createElement(j,null,"* matches everything\n? matches any single character")),l.a.createElement(E,null,Object(p.t)("Examples:"),l.a.createElement(j,null,"path:src/example/pipeline/* person@sentry.io #infrastructure","\n","url:http://example.com/settings/* #product")),l.a.createElement(v.a,O({},this.props,{initialText:r.raw||""})))),l.a.createElement(g.a,{apiEndpoint:"/projects/"+n.slug+"/"+t.slug+"/ownership/",apiMethod:"PUT",saveOnBlur:!0,initialData:{fallthrough:r.fallthrough},hideFooter:!0},l.a.createElement(b.a,{forms:[{title:Object(p.t)("If ownership cannot be determined for an issue..."),fields:[{name:"fallthrough",type:"boolean",label:Object(p.t)("All users with access to this project are owners"),help:Object(p.t)("Owners will receive notifications for issues they are responsible for.")}]}]})))}}]),t}(f.default),i.propTypes={organization:d.e.Organization,project:d.e.Project},u);t.default=x;var E=Object(s.default)(y.default,{target:"egbqmfy1"})("margin-bottom:16px;")},1636:function(e,t){var n=Object.prototype.toString;e.exports=function(e){switch(n.call(e)){case"[object Date]":return"date";case"[object RegExp]":return"regexp";case"[object Arguments]":return"arguments";case"[object Array]":return"array";case"[object Error]":return"error"}return null===e?"null":void 0===e?"undefined":e!==e?"nan":e&&1===e.nodeType?"element":typeof(e=e.valueOf?e.valueOf():Object.prototype.valueOf.apply(e))}},1637:function(e,t,n){"use strict";function r(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var u,c,l,s,p,f=n(14),h=n(1),d=n.n(h),m=n(0),y=n.n(m),g=n(1638),b=n.n(g),v=n(10),O=n(601),w=n(18),j=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},x=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),E=(c=u=function(e){function t(e){var n;o(this,t);for(var r=arguments.length,i=Array(r>1?r-1:0),u=1;u<r;u++)i[u-1]=arguments[u];var c=a(this,(n=t.__proto__||Object.getPrototypeOf(t)).call.apply(n,[this,e].concat(i)));return l.call(c),c.state={highlighted:c.getLocation(e).hash},c}return i(t,e),x(t,[{key:"componentDidMount",value:function(){this.scrollToHash()}},{key:"componentWillReceiveProps",value:function(e,t){if(this.getLocation(this.props).hash!==this.getLocation(e).hash){var n=this.getLocation(e).hash;this.scrollToHash(n),this.setState({highlighted:n})}}},{key:"scrollToHash",value:function(e){var t=e||this.getLocation(this.props).hash;t&&b()(t,{align:"middle",offset:-100})}},{key:"render",value:function(){var e=this.props,t=e.forms,n=e.title,o=e.fields,a=e.access,i=e.features,u=e.additionalFieldProps,c=e.renderFooter,l=e.renderHeader,s=(e.location,r(e,["forms","title","fields","access","features","additionalFieldProps","renderFooter","renderHeader","location"])),p=Object(v.d)(t),h={access:a,features:i,additionalFieldProps:u,renderFooter:c,renderHeader:l,highlighted:this.state.highlighted};return y.a.createElement(f.Box,s,p?t.map(function(e){return y.a.createElement(_,j({key:e.title,title:e.title,fields:e.fields},h))}):y.a.createElement(_,j({title:n,fields:o},h)))}}]),t}(y.a.Component),u.propTypes={forms:d.a.arrayOf(d.a.shape({title:d.a.string,fields:d.a.arrayOf(d.a.oneOfType([d.a.func,O.a.propTypes.field]))})),fields:d.a.arrayOf(d.a.oneOfType([d.a.func,O.a.propTypes.field])),title:d.a.string,access:d.a.object,features:d.a.object,additionalFieldProps:d.a.object,renderFooter:d.a.func,renderHeader:d.a.func},u.defaultProps={additionalFieldProps:{}},u.contextTypes={location:d.a.object},l=function(){var e=this;this.getLocation=function(t){return t.location||e.context.location||{}}},c);t.a=E;var _=(p=s=function(e){function t(){return o(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),x(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.title,o=t.fields,a=t.access,i=t.additionalFieldProps,u=t.renderFooter,c=t.renderHeader,l=(t.location,r(t,["title","fields","access","additionalFieldProps","renderFooter","renderHeader","location"])),s="function"==typeof u,p="function"==typeof c;return y.a.createElement(w.a,{key:n,id:n},y.a.createElement(w.e,null,n),y.a.createElement(w.c,null,p&&c({title:n,fields:o}),o.map(function(t){if("function"==typeof t)return t();var n=(t.defaultValue,r(t,["defaultValue"]));return y.a.createElement(O.a,j({access:a,key:t.name},l,i,{field:n,highlighted:e.props.highlighted==="#"+t.name}))}),s&&u({title:n,fields:o})))}}]),t}(y.a.Component),s.propTypes={title:d.a.string,fields:d.a.arrayOf(d.a.oneOfType([d.a.func,O.a.propTypes.field])),access:d.a.object,additionalFieldProps:d.a.object,highlighted:d.a.string,renderHeader:d.a.func,renderFooter:d.a.func},p)},1638:function(e,t,n){function r(e,t,n){var r=document.body,o=document.documentElement,a=e.getBoundingClientRect(),i=o.clientHeight,u=Math.max(r.scrollHeight,r.offsetHeight,o.clientHeight,o.scrollHeight,o.offsetHeight);t=t||0;var c;c="bottom"===n?a.bottom-i:"middle"===n?a.bottom-i/2-a.height/2:a.top;var l=u-i;return Math.min(c+t+window.pageYOffset,l)}var o=n(1639);e.exports=function(e,t){if(t=t||{},"string"==typeof e&&(e=document.querySelector(e)),e)return o(0,r(e,t.offset,t.align),t)}},1639:function(e,t,n){function r(e,t,n){function r(){i(r),c.update()}n=n||{};var u=o(),c=a(u).ease(n.ease||"out-circ").to({top:t,left:e}).duration(n.duration||1e3);return c.update(function(e){window.scrollTo(0|e.left,0|e.top)}),c.on("end",function(){r=function(){}}),r(),c}function o(){return{top:window.pageYOffset||document.documentElement.scrollTop,left:window.pageXOffset||document.documentElement.scrollLeft}}var a=n(1640),i=n(1644);e.exports=r},1640:function(e,t,n){function r(e){if(!(this instanceof r))return new r(e);this._from=e,this.ease("linear"),this.duration(500)}var o=n(1641),a=n(1642),i=n(1636),u=n(1643);e.exports=r,o(r.prototype),r.prototype.reset=function(){return this.isArray="array"===i(this._from),this._curr=a(this._from),this._done=!1,this._start=Date.now(),this},r.prototype.to=function(e){return this.reset(),this._to=e,this},r.prototype.duration=function(e){return this._duration=e,this},r.prototype.ease=function(e){if(!(e="function"==typeof e?e:u[e]))throw new TypeError("invalid easing function");return this._ease=e,this},r.prototype.stop=function(){return this.stopped=!0,this._done=!0,this.emit("stop"),this.emit("end"),this},r.prototype.step=function(){if(!this._done){var e=this._duration,t=Date.now();if(t-this._start>=e)return this._from=this._to,this._update(this._to),this._done=!0,this.emit("end"),this;var n=this._from,r=this._to,o=this._curr,a=this._ease,i=(t-this._start)/e,u=a(i);if(this.isArray){for(var c=0;c<n.length;++c)o[c]=n[c]+(r[c]-n[c])*u;return this._update(o),this}for(var l in n)o[l]=n[l]+(r[l]-n[l])*u;return this._update(o),this}},r.prototype.update=function(e){return 0==arguments.length?this.step():(this._update=e,this)}},1641:function(e,t){function n(e){if(e)return r(e)}function r(e){for(var t in n.prototype)e[t]=n.prototype[t];return e}e.exports=n,n.prototype.on=n.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this},n.prototype.once=function(e,t){function n(){this.off(e,n),t.apply(this,arguments)}return n.fn=t,this.on(e,n),this},n.prototype.off=n.prototype.removeListener=n.prototype.removeAllListeners=n.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n=this._callbacks["$"+e];if(!n)return this;if(1==arguments.length)return delete this._callbacks["$"+e],this;for(var r,o=0;o<n.length;o++)if((r=n[o])===t||r.fn===t){n.splice(o,1);break}return this},n.prototype.emit=function(e){this._callbacks=this._callbacks||{};var t=[].slice.call(arguments,1),n=this._callbacks["$"+e];if(n){n=n.slice(0);for(var r=0,o=n.length;r<o;++r)n[r].apply(this,t)}return this},n.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]},n.prototype.hasListeners=function(e){return!!this.listeners(e).length}},1642:function(e,t,n){function r(e){switch(o(e)){case"object":var t={};for(var n in e)e.hasOwnProperty(n)&&(t[n]=r(e[n]));return t;case"array":for(var t=new Array(e.length),a=0,i=e.length;a<i;a++)t[a]=r(e[a]);return t;case"regexp":var u="";return u+=e.multiline?"m":"",u+=e.global?"g":"",u+=e.ignoreCase?"i":"",new RegExp(e.source,u);case"date":return new Date(e.getTime());default:return e}}var o;try{o=n(1636)}catch(e){o=n(1636)}e.exports=r},1643:function(e,t){t.linear=function(e){return e},t.inQuad=function(e){return e*e},t.outQuad=function(e){return e*(2-e)},t.inOutQuad=function(e){return e*=2,e<1?.5*e*e:-.5*(--e*(e-2)-1)},t.inCube=function(e){return e*e*e},t.outCube=function(e){return--e*e*e+1},t.inOutCube=function(e){return e*=2,e<1?.5*e*e*e:.5*((e-=2)*e*e+2)},t.inQuart=function(e){return e*e*e*e},t.outQuart=function(e){return 1- --e*e*e*e},t.inOutQuart=function(e){return e*=2,e<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2)},t.inQuint=function(e){return e*e*e*e*e},t.outQuint=function(e){return--e*e*e*e*e+1},t.inOutQuint=function(e){return e*=2,e<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2)},t.inSine=function(e){return 1-Math.cos(e*Math.PI/2)},t.outSine=function(e){return Math.sin(e*Math.PI/2)},t.inOutSine=function(e){return.5*(1-Math.cos(Math.PI*e))},t.inExpo=function(e){return 0==e?0:Math.pow(1024,e-1)},t.outExpo=function(e){return 1==e?e:1-Math.pow(2,-10*e)},t.inOutExpo=function(e){return 0==e?0:1==e?1:(e*=2)<1?.5*Math.pow(1024,e-1):.5*(2-Math.pow(2,-10*(e-1)))},t.inCirc=function(e){return 1-Math.sqrt(1-e*e)},t.outCirc=function(e){return Math.sqrt(1- --e*e)},t.inOutCirc=function(e){return e*=2,e<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1)},t.inBack=function(e){var t=1.70158;return e*e*((t+1)*e-t)},t.outBack=function(e){var t=1.70158;return--e*e*((t+1)*e+t)+1},t.inOutBack=function(e){var t=2.5949095;return(e*=2)<1?e*e*((t+1)*e-t)*.5:.5*((e-=2)*e*((t+1)*e+t)+2)},t.inBounce=function(e){return 1-t.outBounce(1-e)},t.outBounce=function(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},t.inOutBounce=function(e){return e<.5?.5*t.inBounce(2*e):.5*t.outBounce(2*e-1)+.5},t["in-quad"]=t.inQuad,t["out-quad"]=t.outQuad,t["in-out-quad"]=t.inOutQuad,t["in-cube"]=t.inCube,t["out-cube"]=t.outCube,t["in-out-cube"]=t.inOutCube,t["in-quart"]=t.inQuart,t["out-quart"]=t.outQuart,t["in-out-quart"]=t.inOutQuart,t["in-quint"]=t.inQuint,t["out-quint"]=t.outQuint,t["in-out-quint"]=t.inOutQuint,t["in-sine"]=t.inSine,t["out-sine"]=t.outSine,t["in-out-sine"]=t.inOutSine,t["in-expo"]=t.inExpo,t["out-expo"]=t.outExpo,t["in-out-expo"]=t.inOutExpo,t["in-circ"]=t.inCirc,t["out-circ"]=t.outCirc,t["in-out-circ"]=t.inOutCirc,t["in-back"]=t.inBack,t["out-back"]=t.outBack,t["in-out-back"]=t.inOutBack,t["in-bounce"]=t.inBounce,t["out-bounce"]=t.outBounce,t["in-out-bounce"]=t.inOutBounce},1644:function(e,t){function n(e){var t=(new Date).getTime(),n=Math.max(0,16-(t-r)),o=setTimeout(e,n);return r=t,o}t=e.exports=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||n;var r=(new Date).getTime(),o=window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.clearTimeout;t.cancel=function(e){o.call(window,e)}},1717:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i,u,c=n(14),l=n(1),s=n.n(l),p=n(0),f=n.n(p),h=n(5),d=n(1718),m=n.n(d),y=n(46),g=n(149),b=n(179),v=n(26),O=n(6),w=n(80),j=n(2),x=n(389),E=n(1726),_=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),k=(u=i=function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleUpdateOwnership=function(){var e=n.props,t=e.organization,r=e.project,o=n.state.text;n.setState({error:null});var a=new y.Client,i=a.requestPromise("/projects/"+t.slug+"/"+r.slug+"/ownership/",{method:"PUT",data:{raw:o||""}});return i.then(function(){Object(w.d)(Object(j.t)("Updated ownership rules")),n.setState({initialText:o})}).catch(function(e){n.setState({error:e.responseJSON}),403===e.status?Object(w.a)(Object(j.t)("You don't have permission to modify ownership rules for this project")):400===e.status&&e.responseJSON.raw&&e.responseJSON.raw[0].startsWith("Invalid rule owners:")?Object(w.a)(Object(j.t)("Unable to save ownership rules changes: "+e.responseJSON.raw[0])):Object(w.a)(Object(j.t)("Unable to save ownership rules changes"))}),i},n.handleChange=function(e){n.setState({text:e.target.value})},n.handleAddRule=function(e){n.setState(function(t){return{text:t.text+"\n"+e}},n.handleUpdateOwnership)},n.state={text:e.initialText,initialText:e.initialText,error:null},n}return a(t,e),_(t,[{key:"componentWillReceiveProps",value:function(e){var t=e.initialText;t!=this.state.initialText&&this.setState({initialText:t})}},{key:"parseError",value:function(e){var t=e&&e.raw&&e.raw[0];return t?t.startsWith("Invalid rule owners:")?f.a.createElement(S,null,t):f.a.createElement(T,{line:t.match(/line (\d*),/)[1]-1}):null}},{key:"mentionableUsers",value:function(){return g.a.getAll().map(function(e){return{id:e.id,display:e.email,email:e.email}})}},{key:"mentionableTeams",value:function(){var e=this.props.project;return(b.a.getBySlug(e.slug)||{teams:[]}).teams.map(function(e){return{id:e.id,display:"#"+e.slug,email:e.id}})}},{key:"render",value:function(){var e=this,t=this.props,n=t.project,r=t.organization,o=t.urls,a=t.paths,i=this.state,u=i.text,l=i.error,s=i.initialText;return f.a.createElement(f.a.Fragment,null,f.a.createElement(E.a,{urls:o,paths:a,organization:r,project:n,onAddRule:this.handleAddRule.bind(this)}),f.a.createElement("div",{style:{position:"relative"},onKeyDown:function(t){t.metaKey&&"Enter"==t.key&&e.handleUpdateOwnership()}},f.a.createElement(P,{placeholder:"#example usage\npath:src/example/pipeline/* person@sentry.io #infra\nurl:http://example.com/settings/* #product",onChange:this.handleChange,value:u,spellCheck:"false",autoComplete:"off",autoCorrect:"off",autoCapitalize:"off"}),f.a.createElement(c.Flex,{align:"center",justify:"space-between"},f.a.createElement("div",null,this.parseError(l)),f.a.createElement(C,null,f.a.createElement(v.default,{size:"small",priority:"primary",onClick:this.handleUpdateOwnership,disabled:u===s},Object(j.t)("Save Changes"))))))}}]),t}(f.a.Component),i.propTypes={organization:O.e.Organization,project:O.e.Project,initialText:s.a.string,urls:s.a.arrayOf(s.a.string),paths:s.a.arrayOf(s.a.string)},u),T=Object(h.default)("div",{target:"en3n9di0"})(x.a,";width:100%;height:",24,"px;background-color:red;opacity:0.1;pointer-events:none;position:absolute;top:",function(e){return 4+24*e.line},"px;"),C=Object(h.default)("div",{target:"en3n9di1"})("text-align:end;padding-top:10px;"),P=Object(h.default)(m.a,{target:"en3n9di2"})(x.a,";min-height:140px;overflow:auto;outline:0;width:100%;resize:none;margin:0;font-family:",function(e){return e.theme.text.familyMono},";word-break:break-all;white-space:pre-wrap;padding-top:",4,"px;line-height:",24,"px;"),S=Object(h.default)("div",{target:"en3n9di3"})("color:",function(e){return e.theme.error},";font-weight:bold;margin-top:12px;");t.a=k},1718:function(e,t,n){"use strict";t.__esModule=!0;var r=n(1719);t.default=r.default},1719:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},a=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var o=0,r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&(n[r[o]]=e[r[o]]);return n};t.__esModule=!0;var i=n(0),u=n(1720),c=n(1723),l=n(1724),s=l,p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={lineHeight:null},t.dispatchEvent=function(e){var n=document.createEvent("Event");n.initEvent(e,!0,!1),t.textarea.dispatchEvent(n)},t.updateLineHeight=function(){t.setState({lineHeight:s(t.textarea)})},t.onChange=function(e){var n=t.props.onChange;t.currentValue=e.currentTarget.value,n&&n(e)},t.saveDOMNodeRef=function(e){var n=t.props.innerRef;n&&n(e),t.textarea=e},t.getLocals=function(){var e=t,n=e.props,r=(n.onResize,n.maxRows),i=(n.onChange,n.style),u=(n.innerRef,a(n,["onResize","maxRows","onChange","style","innerRef"])),c=e.state.lineHeight,l=e.saveDOMNodeRef,s=r&&c?c*r:null;return o({},u,{saveDOMNodeRef:l,style:s?o({},i,{maxHeight:s}):i,onChange:t.onChange})},t}return r(t,e),t.prototype.componentDidMount=function(){var e=this,t=this.props,n=t.onResize;"number"==typeof t.maxRows&&this.updateLineHeight(),setTimeout(function(){return c(e.textarea)}),n&&this.textarea.addEventListener("autosize:resized",n)},t.prototype.componentWillUnmount=function(){var e=this.props.onResize;e&&this.textarea.removeEventListener("autosize:resized",e),this.dispatchEvent("autosize:destroy")},t.prototype.render=function(){var e=this.getLocals(),t=e.children,n=e.saveDOMNodeRef,r=a(e,["children","saveDOMNodeRef"]);return i.createElement("textarea",o({},r,{ref:n}),t)},t.prototype.componentDidUpdate=function(){this.props.value!==this.currentValue&&this.dispatchEvent("autosize:update")},t.defaultProps={rows:1},t.propTypes={rows:u.number,maxRows:u.number,onResize:u.func,innerRef:u.func},t}(i.Component);t.default=p},1720:function(e,t,n){e.exports=n(1721)()},1721:function(e,t,n){"use strict";var r=n(73),o=n(62),a=n(1722);e.exports=function(){function e(e,t,n,r,i,u){u!==a&&o(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types")}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t};return n.checkPropTypes=r,n.PropTypes=n,n}},1722:function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},1723:function(e,t,n){var r,o,a;/*!
	Autosize 4.0.0
	license: MIT
	http://www.jacklmoore.com/autosize
*/
!function(n,i){o=[t,e],r=i,void 0!==(a="function"==typeof r?r.apply(t,o):r)&&(e.exports=a)}(0,function(e,t){"use strict";function n(e){function t(t){var n=e.style.width;e.style.width="0px",e.offsetWidth,e.style.width=n,e.style.overflowY=t}function n(e){for(var t=[];e&&e.parentNode&&e.parentNode instanceof Element;)e.parentNode.scrollTop&&t.push({node:e.parentNode,scrollTop:e.parentNode.scrollTop}),e=e.parentNode;return t}function r(){var t=e.style.height,r=n(e),o=document.documentElement&&document.documentElement.scrollTop;e.style.height="";var a=e.scrollHeight+u;if(0===e.scrollHeight)return void(e.style.height=t);e.style.height=a+"px",c=e.clientWidth,r.forEach(function(e){e.node.scrollTop=e.scrollTop}),o&&(document.documentElement.scrollTop=o)}function o(){r();var n=Math.round(parseFloat(e.style.height)),o=window.getComputedStyle(e,null),a="content-box"===o.boxSizing?Math.round(parseFloat(o.height)):e.offsetHeight;if(a!==n?"hidden"===o.overflowY&&(t("scroll"),r(),a="content-box"===o.boxSizing?Math.round(parseFloat(window.getComputedStyle(e,null).height)):e.offsetHeight):"hidden"!==o.overflowY&&(t("hidden"),r(),a="content-box"===o.boxSizing?Math.round(parseFloat(window.getComputedStyle(e,null).height)):e.offsetHeight),l!==a){l=a;var u=i("autosize:resized");try{e.dispatchEvent(u)}catch(e){}}}if(e&&e.nodeName&&"TEXTAREA"===e.nodeName&&!a.has(e)){var u=null,c=e.clientWidth,l=null,s=function(){e.clientWidth!==c&&o()},p=function(t){window.removeEventListener("resize",s,!1),e.removeEventListener("input",o,!1),e.removeEventListener("keyup",o,!1),e.removeEventListener("autosize:destroy",p,!1),e.removeEventListener("autosize:update",o,!1),Object.keys(t).forEach(function(n){e.style[n]=t[n]}),a.delete(e)}.bind(e,{height:e.style.height,resize:e.style.resize,overflowY:e.style.overflowY,overflowX:e.style.overflowX,wordWrap:e.style.wordWrap});e.addEventListener("autosize:destroy",p,!1),"onpropertychange"in e&&"oninput"in e&&e.addEventListener("keyup",o,!1),window.addEventListener("resize",s,!1),e.addEventListener("input",o,!1),e.addEventListener("autosize:update",o,!1),e.style.overflowX="hidden",e.style.wordWrap="break-word",a.set(e,{destroy:p,update:o}),function(){var t=window.getComputedStyle(e,null);"vertical"===t.resize?e.style.resize="none":"both"===t.resize&&(e.style.resize="horizontal"),u="content-box"===t.boxSizing?-(parseFloat(t.paddingTop)+parseFloat(t.paddingBottom)):parseFloat(t.borderTopWidth)+parseFloat(t.borderBottomWidth),isNaN(u)&&(u=0),o()}()}}function r(e){var t=a.get(e);t&&t.destroy()}function o(e){var t=a.get(e);t&&t.update()}var a="function"==typeof Map?new Map:function(){var e=[],t=[];return{has:function(t){return e.indexOf(t)>-1},get:function(n){return t[e.indexOf(n)]},set:function(n,r){-1===e.indexOf(n)&&(e.push(n),t.push(r))},delete:function(n){var r=e.indexOf(n);r>-1&&(e.splice(r,1),t.splice(r,1))}}}(),i=function(e){return new Event(e,{bubbles:!0})};try{new Event("test")}catch(e){i=function(e){var t=document.createEvent("Event");return t.initEvent(e,!0,!1),t}}var u=null;"undefined"==typeof window||"function"!=typeof window.getComputedStyle?(u=function(e){return e},u.destroy=function(e){return e},u.update=function(e){return e}):(u=function(e,t){return e&&Array.prototype.forEach.call(e.length?e:[e],function(e){return n(e)}),e},u.destroy=function(e){return e&&Array.prototype.forEach.call(e.length?e:[e],r),e},u.update=function(e){return e&&Array.prototype.forEach.call(e.length?e:[e],o),e}),t.exports=u})},1724:function(e,t,n){function r(e){var t=o(e,"line-height"),n=parseFloat(t,10);if(t===n+""){var r=e.style.lineHeight;e.style.lineHeight=t+"em",t=o(e,"line-height"),n=parseFloat(t,10),r?e.style.lineHeight=r:delete e.style.lineHeight}if(-1!==t.indexOf("pt")?(n*=4,n/=3):-1!==t.indexOf("mm")?(n*=96,n/=25.4):-1!==t.indexOf("cm")?(n*=96,n/=2.54):-1!==t.indexOf("in")?n*=96:-1!==t.indexOf("pc")&&(n*=16),n=Math.round(n),"normal"===t){var a=e.nodeName,i=document.createElement(a);i.innerHTML="&nbsp;","TEXTAREA"===a.toUpperCase()&&i.setAttribute("rows","1");var u=o(e,"font-size");i.style.fontSize=u,i.style.padding="0px",i.style.border="0px";var c=document.body;c.appendChild(i);n=i.offsetHeight,c.removeChild(i)}return n}var o=n(1725);e.exports=r},1725:function(e,t){var n=function(e,t,n){return n=window.getComputedStyle,(n?n(e):e.currentStyle)[t.replace(/-(\w)/gi,function(e,t){return t.toUpperCase()})]};e.exports=n},1726:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i,u,c=n(1),l=n.n(c),s=n(0),p=n.n(s),f=n(5),h=n(14),d=n(2),m=n(149),y=n(26),g=n(397),b=n(124),v=n(24),O=n(268),w=n(6),j=n(80),x=n(1727),E=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),_={text:"",type:"path",owners:[],isValid:!1},k=(u=i=function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.checkIsValid=function(){n.setState(function(e){return{isValid:!!e.text&&e.owners&&!!e.owners.length}})},n.handleTypeChange=function(e){n.setState({type:e}),n.checkIsValid()},n.handleChangeValue=function(e){n.setState({text:e.target.value}),n.checkIsValid()},n.handleChangeOwners=function(e){n.setState({owners:e}),n.checkIsValid()},n.handleAddRule=function(){var e=n.state,t=e.type,r=e.text,o=e.owners;if(!e.isValid)return void Object(j.a)("A Rule needs a type, a value, and one or more owners.");var a=o.map(function(e){return"team"===e.actor.type?"#"+e.actor.name:m.a.getById(e.actor.id).email}).join(" "),i=t+":"+r+" "+a;n.props.onAddRule(i),n.setState(_)},n.handleSelectCandidate=function(e,t){n.setState({text:e,type:t}),n.checkIsValid()},n.state=_,n}return a(t,e),E(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.urls,r=t.paths,o=t.project,a=t.organization,i=this.state,u=i.type,c=i.text,l=i.owners,s=i.isValid;return p.a.createElement(p.a.Fragment,null,(r||n)&&p.a.createElement(T,null,r&&r.map(function(t){return p.a.createElement(S,{key:t,onClick:function(){return e.handleSelectCandidate(t,"path")}},p.a.createElement(z,{src:"icon-circle-add"}),p.a.createElement(P,null,t),p.a.createElement(C,null,"[PATH]"))}),n&&n.map(function(t){return p.a.createElement(S,{key:t,onClick:function(){return e.handleSelectCandidate(t,"url")}},p.a.createElement(z,{src:"icon-circle-add"}),p.a.createElement(P,null,t),p.a.createElement(C,null,"[URL]"))})),p.a.createElement(M,null,p.a.createElement(R,{name:"select-type",value:u,showSearch:!1,onChange:this.handleTypeChange,options:[{value:"path",label:Object(d.t)("Path")},{value:"url",label:Object(d.t)("URL")}],style:{width:140},clearable:!1}),p.a.createElement(A,{controlled:!0,value:c,onChange:this.handleChangeValue,placeholder:"path"===u?"src/example/*":"https://example.com/settings/*"}),p.a.createElement(F,{src:"icon-chevron-right"}),p.a.createElement(h.Flex,{flex:"1",align:"center",mr:1},p.a.createElement(x.a,{organization:a,project:o,value:l,onChange:this.handleChangeOwners})),p.a.createElement(L,{priority:"primary",disabled:!s,onClick:this.handleAddRule,icon:"icon-circle-add",size:"zero"})))}}]),t}(p.a.Component),i.propTypes={project:w.e.Project,organization:w.e.Organization,onAddRule:l.a.func,urls:l.a.arrayOf(l.a.string),paths:l.a.arrayOf(l.a.string)},u),T=Object(f.default)("div",{target:"e1hyuoc70"})("margin-bottom:10px;"),C=Object(f.default)("div",{target:"e1hyuoc71"})("color:",function(e){return e.theme.borderDark},";"),P=Object(f.default)(b.a,{target:"e1hyuoc72"})("flex:1;"),S=Object(f.default)("div",{target:"e1hyuoc73"})("font-family:",function(e){return e.theme.text.familyMono},";border:1px solid ",function(e){return e.theme.borderDark},";background-color:#f8fafd;padding-left:5px;margin-bottom:3px;cursor:pointer;overflow:hidden;display:flex;align-items:center;"),z=Object(f.default)(v.a,{target:"e1hyuoc74"})("color:",function(e){return e.theme.borderDark},";margin-right:5px;flex-shrink:0;"),M=Object(f.default)("div",{target:"e1hyuoc75"})("display:flex;height:40px;align-items:center;margin-bottom:1em;"),R=Object(f.default)(g.a,{target:"e1hyuoc76"})("margin-right:10px;width:80px;flex-shrink:0;"),A=Object(f.default)(O.a,{target:"e1hyuoc77"})("padding:0.5em;line-height:19px;margin-right:5px;"),F=Object(f.default)(v.a,{target:"e1hyuoc78"})("color:",function(e){return e.theme.borderDark},";flex-shrink:0;margin-right:5px;"),L=Object(f.default)(y.default,{target:"e1hyuoc79"})("width:37px;height:37px;flex-shrink:0;padding:10px 12px !important;");t.a=k},1727:function(e,t,n){"use strict";function r(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){function r(o,a){try{var i=t[o](a),u=i.value}catch(e){return void n(e)}if(!i.done)return Promise.resolve(u).then(function(e){r("next",e)},function(e){r("throw",e)});e(u)}return r("next")})}}function o(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.d(t,"a",function(){return I});var c,l,s,p,f=n(27),h=n(101),d=n.n(h),m=n(14),y=n(1),g=n.n(y),b=n(0),v=n.n(b),O=n(31),w=n.n(O),j=n(7),x=n.n(j),E=n(5),_=n(180),k=n(2),T=n(10),C=n(46),P=n(149),S=n(179),z=n(150),M=n(267),R=n(617),A=n(400),F=n(6),L=n(26),H=n(24),U=n(21),B=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},q=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),N=(l=c=function(e){function t(){var e,n,r,o;a(this,t);for(var u=arguments.length,c=Array(u),l=0;l<u;l++)c[l]=arguments[l];return n=r=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(c))),r.handleClick=function(){r.props.onRemove(r.props.value)},o=n,i(r,o)}return u(t,e),q(t,[{key:"render",value:function(){return v.a.createElement("a",{onClick:this.handleClick},v.a.createElement(A.a,{actor:this.props.value.actor,size:28}))}}]),t}(v.a.Component),c.propTypes={value:g.a.object,onRemove:g.a.func},l),D=function(e){return(e.email&&e.email.toLowerCase())+" "+(e.name&&e.name.toLowerCase())},I=(p=s=function(e){function t(){var e;a(this,t);for(var n=arguments.length,r=Array(n),u=0;u<n;u++)r[u]=arguments[u];var c=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(r)));return c.state={loading:!1,inputValue:""},c.renderUserBadge=function(e){return v.a.createElement(M.a,{avatarSize:24,user:e,hideEmail:!0,useLink:!1})},c.createMentionableUser=function(e){return{value:Object(T.b)(e.id),label:c.renderUserBadge(e),searchKey:D(e),actor:{type:"user",id:e.id,name:e.name}}},c.createUnmentionableUser=function(e){var t=e.user;return B({},c.createMentionableUser(t),{disabled:!0,label:v.a.createElement(Q,null,v.a.createElement(U.default,{tooltipOptions:{container:"body",placement:"left"},title:Object(k.t)("%s is not a member of project",t.name||t.email)},c.renderUserBadge(t)))})},c.createMentionableTeam=function(e){return{value:Object(T.a)(e.id),label:v.a.createElement(M.a,{team:e}),searchKey:"#"+e.slug,actor:{type:"team",id:e.id,name:e.slug}}},c.createUnmentionableTeam=function(e){var t=c.props.organization,n=t.access.includes("project:write");return B({},c.createMentionableTeam(e),{disabled:!0,label:v.a.createElement(m.Flex,{justify:"space-between"},v.a.createElement(Q,null,v.a.createElement(U.default,{tooltipOptions:{container:"body",placement:"left"},title:Object(k.t)("%s is not a member of project","#"+e.slug)},v.a.createElement(M.a,{team:e}))),v.a.createElement(U.default,{title:n?Object(k.t)("Add %s to project","#"+e.slug):Object(k.t)("You do not have permission to add team to project.")},v.a.createElement(V,{size:"zero",borderless:!0,disabled:!n,onClick:c.handleAddTeamToProject.bind(c,e)},v.a.createElement(H.a,{src:"icon-circle-add"}))))})},c.handleChange=function(e){c.props.onChange(e)},c.handleInputChange=function(e){c.setState({inputValue:e}),c.props.onInputChange&&c.props.onInputChange(e)},c.queryMembers=d()(function(e,t){var n=c.props.organization;return c.api?c.api.requestPromise("/organizations/"+n.slug+"/members/",{query:{query:e}}).then(function(e){return t(null,e)},function(e){return t(e)}):null},250),c.handleLoadOptions=function(){var e=c.getMentionableUsers(),t=c.getMentionableTeams(),n=c.getTeamsNotInProject(t),r=e.map(function(e){return e.actor.id});return new Promise(function(e,t){c.queryMembers(c.state.inputValue,function(n,r){n?t(n):e(r)})}).then(function(e){return e?e.filter(function(e){var t=e.user;return t&&-1===r.indexOf(t.id)}).map(c.createUnmentionableUser):[]}).then(function(r){return{options:[].concat(o(e),o(t),o(n),o(r))}})},c.api=new C.Client,c.projectsStoreMixin=x.a.listenTo(S.a,function(){c.closeSelectMenu()}),c}return u(t,e),q(t,[{key:"componentDidMount",value:function(){this.projectsStoreMixin&&this.projectsStoreMixin.componentDidMount()}},{key:"componentWillUnmount",value:function(){this.api=null,this.projectsStoreMixin&&this.projectsStoreMixin.componentWillUnmount()}},{key:"getMentionableUsers",value:function(){return P.a.getAll().map(this.createMentionableUser)}},{key:"getMentionableTeams",value:function(){var e=this.props.project,t=S.a.getBySlug(e.slug);return t?t.teams.map(this.createMentionableTeam):[]}},{key:"getTeamsNotInProject",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=z.a.getAll()||[],n=e.map(function(e){return e.actor.id});return t.filter(function(e){return-1===n.indexOf(e.id)}).map(this.createUnmentionableTeam)}},{key:"closeSelectMenu",value:function(){if(this.selectRef){var e=w.a.findDOMNode(this.selectRef).querySelector(".Select-input input");e&&e.blur()}}},{key:"handleAddTeamToProject",value:function(){function e(e){return t.apply(this,arguments)}var t=r(regeneratorRuntime.mark(function e(t){var n,r,a,i,u;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.props,r=n.organization,a=n.project,i=n.value,u=[].concat(o(i)),this.props.onChange([].concat(o(this.props.value),[this.createMentionableTeam(t)])),e.prev=3,e.next=6,Object(_.a)(this.api,r.slug,a.slug,t);case 6:e.next=12;break;case 8:e.prev=8,e.t0=e.catch(3),this.props.onChange(u),this.closeSelectMenu();case 12:case"end":return e.stop()}},e,this,[[3,8]])}));return e}()},{key:"render",value:function(){var e=this;return v.a.createElement(R.a,{filterOptions:function(e,t){return e.filter(function(e){return e.searchKey.indexOf(t)>-1})},ref:function(t){return e.selectRef=t},loadOptions:this.handleLoadOptions,defaultOptions:!0,async:!0,cache:!1,valueComponent:N,placeholder:Object(k.t)("Add Owners"),onInputChange:this.handleInputChange,onChange:this.handleChange,value:this.props.value,className:Object(f.css)({width:200})})}}]),t}(v.a.Component),s.propTypes={project:F.e.Project,organization:F.e.Organization,value:g.a.array,onChange:g.a.func,onInputChange:g.a.func},p),Q=Object(E.default)("div",{target:"ez8xng90"})('opacity:0.5;overflow:hidden;/* Needed so that "Add to team" button can fit */'),V=Object(E.default)(L.default,{target:"ez8xng91"})("flex-shrink:0;")}});
//# sourceMappingURL=projectOwnership.js.map