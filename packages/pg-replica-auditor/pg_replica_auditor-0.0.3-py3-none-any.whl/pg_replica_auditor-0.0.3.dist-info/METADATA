Metadata-Version: 2.1
Name: pg-replica-auditor
Version: 0.0.3
Summary: Run a few sanity checks on your logical PostgreSQL replica to make sure its the same as the primary.
Home-page: https://github.com/levkk/pg-replica-auditor
Author: Lev Kokotov
Author-email: lev.kokotov@instacart.com
License: UNKNOWN
Platform: UNKNOWN
Classifier: Programming Language :: Python :: 3
Classifier: License :: OSI Approved :: MIT License
Classifier: Operating System :: OS Independent
Requires-Python: >=3
Description-Content-Type: text/markdown
Requires-Dist: Click (>=7.0)
Requires-Dist: colorama (>=0.4.3)
Requires-Dist: psycopg2 (>=2.8.4)
Requires-Dist: tqdm (>=4.41.1)

# pg-replica-checksummer

## Requirements

1. Python 3
2. Postgres development files (required by psycopg2). On Mac OS, use `brew install postgresql`. On Ubuntu, install `libpq-dev`.

## Installation

### Development
Using virtualenv, `pip install -r requirements.txt`

### Production
Using Pypi, `pip install pgreplicaauditor`.

## Usage

This script requires three arguments:
1. `--primary`, any acceptable Postgres connection string (incl. DSN),
2. `--replica`, same as `--primary` but for the replica database,
3. `--table`, the table to check.

Optionally, if you want to see which queries it runs, you can set the `--debug` option.

Example:

```bash
$ pgreplicaauditor --primary=postgres://primary-db.amazonaws.com:5432/my_db --replica=postgres://replica-db.amazonaws.com:5432/my_db --table=immutable_items
```

