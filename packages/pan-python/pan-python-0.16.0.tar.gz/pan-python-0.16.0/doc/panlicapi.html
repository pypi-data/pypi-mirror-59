<?xml version="1.0" encoding="utf-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="Docutils 0.15.2: http://docutils.sourceforge.net/" />
<title>panlicapi.py</title>
<style type="text/css">

/*
:Author: David Goodger (goodger@python.org)
:Id: $Id: html4css1.css 7952 2016-07-26 18:15:59Z milde $
:Copyright: This stylesheet has been placed in the public domain.

Default cascading style sheet for the HTML output of Docutils.

See http://docutils.sf.net/docs/howto/html-stylesheets.html for how to
customize this style sheet.
*/

/* used to remove borders from tables and images */
.borderless, table.borderless td, table.borderless th {
  border: 0 }

table.borderless td, table.borderless th {
  /* Override padding for "table.docutils td" with "! important".
     The right padding separates the table cells. */
  padding: 0 0.5em 0 0 ! important }

.first {
  /* Override more specific margin styles with "! important". */
  margin-top: 0 ! important }

.last, .with-subtitle {
  margin-bottom: 0 ! important }

.hidden {
  display: none }

.subscript {
  vertical-align: sub;
  font-size: smaller }

.superscript {
  vertical-align: super;
  font-size: smaller }

a.toc-backref {
  text-decoration: none ;
  color: black }

blockquote.epigraph {
  margin: 2em 5em ; }

dl.docutils dd {
  margin-bottom: 0.5em }

object[type="image/svg+xml"], object[type="application/x-shockwave-flash"] {
  overflow: hidden;
}

/* Uncomment (and remove this text!) to get bold-faced definition list terms
dl.docutils dt {
  font-weight: bold }
*/

div.abstract {
  margin: 2em 5em }

div.abstract p.topic-title {
  font-weight: bold ;
  text-align: center }

div.admonition, div.attention, div.caution, div.danger, div.error,
div.hint, div.important, div.note, div.tip, div.warning {
  margin: 2em ;
  border: medium outset ;
  padding: 1em }

div.admonition p.admonition-title, div.hint p.admonition-title,
div.important p.admonition-title, div.note p.admonition-title,
div.tip p.admonition-title {
  font-weight: bold ;
  font-family: sans-serif }

div.attention p.admonition-title, div.caution p.admonition-title,
div.danger p.admonition-title, div.error p.admonition-title,
div.warning p.admonition-title, .code .error {
  color: red ;
  font-weight: bold ;
  font-family: sans-serif }

/* Uncomment (and remove this text!) to get reduced vertical space in
   compound paragraphs.
div.compound .compound-first, div.compound .compound-middle {
  margin-bottom: 0.5em }

div.compound .compound-last, div.compound .compound-middle {
  margin-top: 0.5em }
*/

div.dedication {
  margin: 2em 5em ;
  text-align: center ;
  font-style: italic }

div.dedication p.topic-title {
  font-weight: bold ;
  font-style: normal }

div.figure {
  margin-left: 2em ;
  margin-right: 2em }

div.footer, div.header {
  clear: both;
  font-size: smaller }

div.line-block {
  display: block ;
  margin-top: 1em ;
  margin-bottom: 1em }

div.line-block div.line-block {
  margin-top: 0 ;
  margin-bottom: 0 ;
  margin-left: 1.5em }

div.sidebar {
  margin: 0 0 0.5em 1em ;
  border: medium outset ;
  padding: 1em ;
  background-color: #ffffee ;
  width: 40% ;
  float: right ;
  clear: right }

div.sidebar p.rubric {
  font-family: sans-serif ;
  font-size: medium }

div.system-messages {
  margin: 5em }

div.system-messages h1 {
  color: red }

div.system-message {
  border: medium outset ;
  padding: 1em }

div.system-message p.system-message-title {
  color: red ;
  font-weight: bold }

div.topic {
  margin: 2em }

h1.section-subtitle, h2.section-subtitle, h3.section-subtitle,
h4.section-subtitle, h5.section-subtitle, h6.section-subtitle {
  margin-top: 0.4em }

h1.title {
  text-align: center }

h2.subtitle {
  text-align: center }

hr.docutils {
  width: 75% }

img.align-left, .figure.align-left, object.align-left, table.align-left {
  clear: left ;
  float: left ;
  margin-right: 1em }

img.align-right, .figure.align-right, object.align-right, table.align-right {
  clear: right ;
  float: right ;
  margin-left: 1em }

img.align-center, .figure.align-center, object.align-center {
  display: block;
  margin-left: auto;
  margin-right: auto;
}

table.align-center {
  margin-left: auto;
  margin-right: auto;
}

.align-left {
  text-align: left }

.align-center {
  clear: both ;
  text-align: center }

.align-right {
  text-align: right }

/* reset inner alignment in figures */
div.align-right {
  text-align: inherit }

/* div.align-center * { */
/*   text-align: left } */

.align-top    {
  vertical-align: top }

.align-middle {
  vertical-align: middle }

.align-bottom {
  vertical-align: bottom }

ol.simple, ul.simple {
  margin-bottom: 1em }

ol.arabic {
  list-style: decimal }

ol.loweralpha {
  list-style: lower-alpha }

ol.upperalpha {
  list-style: upper-alpha }

ol.lowerroman {
  list-style: lower-roman }

ol.upperroman {
  list-style: upper-roman }

p.attribution {
  text-align: right ;
  margin-left: 50% }

p.caption {
  font-style: italic }

p.credits {
  font-style: italic ;
  font-size: smaller }

p.label {
  white-space: nowrap }

p.rubric {
  font-weight: bold ;
  font-size: larger ;
  color: maroon ;
  text-align: center }

p.sidebar-title {
  font-family: sans-serif ;
  font-weight: bold ;
  font-size: larger }

p.sidebar-subtitle {
  font-family: sans-serif ;
  font-weight: bold }

p.topic-title {
  font-weight: bold }

pre.address {
  margin-bottom: 0 ;
  margin-top: 0 ;
  font: inherit }

pre.literal-block, pre.doctest-block, pre.math, pre.code {
  margin-left: 2em ;
  margin-right: 2em }

pre.code .ln { color: grey; } /* line numbers */
pre.code, code { background-color: #eeeeee }
pre.code .comment, code .comment { color: #5C6576 }
pre.code .keyword, code .keyword { color: #3B0D06; font-weight: bold }
pre.code .literal.string, code .literal.string { color: #0C5404 }
pre.code .name.builtin, code .name.builtin { color: #352B84 }
pre.code .deleted, code .deleted { background-color: #DEB0A1}
pre.code .inserted, code .inserted { background-color: #A3D289}

span.classifier {
  font-family: sans-serif ;
  font-style: oblique }

span.classifier-delimiter {
  font-family: sans-serif ;
  font-weight: bold }

span.interpreted {
  font-family: sans-serif }

span.option {
  white-space: nowrap }

span.pre {
  white-space: pre }

span.problematic {
  color: red }

span.section-subtitle {
  /* font-size relative to parent (h1..h6 element) */
  font-size: 80% }

table.citation {
  border-left: solid 1px gray;
  margin-left: 1px }

table.docinfo {
  margin: 2em 4em }

table.docutils {
  margin-top: 0.5em ;
  margin-bottom: 0.5em }

table.footnote {
  border-left: solid 1px black;
  margin-left: 1px }

table.docutils td, table.docutils th,
table.docinfo td, table.docinfo th {
  padding-left: 0.5em ;
  padding-right: 0.5em ;
  vertical-align: top }

table.docutils th.field-name, table.docinfo th.docinfo-name {
  font-weight: bold ;
  text-align: left ;
  white-space: nowrap ;
  padding-left: 0 }

/* "booktabs" style (no vertical lines) */
table.docutils.booktabs {
  border: 0px;
  border-top: 2px solid;
  border-bottom: 2px solid;
  border-collapse: collapse;
}
table.docutils.booktabs * {
  border: 0px;
}
table.docutils.booktabs th {
  border-bottom: thin solid;
  text-align: left;
}

h1 tt.docutils, h2 tt.docutils, h3 tt.docutils,
h4 tt.docutils, h5 tt.docutils, h6 tt.docutils {
  font-size: 100% }

ul.auto-toc {
  list-style-type: none }

</style>
</head>
<body>
<div class="document" id="panlicapi-py">
<h1 class="title">panlicapi.py</h1>
<h2 class="subtitle" id="command-line-interface-to-the-pan-os-licensing-api">command line interface to the PAN-OS Licensing API</h2>

<!-- Copyright (c) 2017 Palo Alto Networks, Inc. <techbizdev@paloaltonetworks.com>

Permission to use, copy, modify, and distribute this software for any
purpose with or without fee is hereby granted, provided that the above
copyright notice and this permission notice appear in all copies.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE. -->
<div class="section" id="name">
<h1>NAME</h1>
<blockquote>
panlicapi.py - command line interface to the PAN-OS Licensing API</blockquote>
</div>
<div class="section" id="synopsis">
<h1>SYNOPSIS</h1>
<pre class="literal-block">
panlicapi.py [options]
   --activate            activate VM license
   --deactivate          deactivate VM license
   --get                 get quantity of VM provisioned
   --authcode code       license auth code
   --cpuid id            VM-Series vm-cpuid
   --uuid id             VM-Series vm-uuid
   --token token         deactivate license token
   --serial serial       get licenses for serial number
   -k                    write license key files
   -x                    write license install PAN-OS XML API documents
   --dst dir             destination directory for keys (default .)
   -t tag                .panrc tagname
   -K api_key            license API key
   -V api_version        license API version (default v1)
   -h hostname           license hostname
   -p                    print JSON response in Python to stdout
   -j                    print JSON to stdout
   -D                    enable debug (multiple up to -DDD)
   --ssl opt             SSL verify option: verify|noverify
   -T seconds            HTTP connect timeout
   --version             display version
   --help                display usage
</pre>
</div>
<div class="section" id="description">
<h1>DESCRIPTION</h1>
<blockquote>
<p><strong>panlicapi.py</strong> is used to perform PAN-OS Licensing API requests.
It uses the PanLicapi class from the <strong>pan.licapi</strong> module to
execute API requests.</p>
<p>The Licensing API can be used to license PAN-OS VM-Series firewalls
which do not have Internet access.</p>
<p>The options are:</p>
<dl class="docutils">
<dt><tt class="docutils literal"><span class="pre">--activate</span></tt></dt>
<dd><p class="first">Activate a VM license or get previously activated licenses.
The license keys can be saved using the <strong>-k</strong> and <strong>-x</strong> options.</p>
<p>The action depends on the options passed:</p>
<table border="1" class="last docutils">
<colgroup>
<col width="34%" />
<col width="66%" />
</colgroup>
<thead valign="bottom">
<tr><th class="head">Options</th>
<th class="head">Action</th>
</tr>
</thead>
<tbody valign="top">
<tr><td>authcode, uuid, cpuid</td>
<td>Activate new license and return licenses</td>
</tr>
<tr><td>uuid, cpuid</td>
<td>Get previously activated licenses</td>
</tr>
<tr><td>serial</td>
<td>Get previously activated licenses</td>
</tr>
</tbody>
</table>
</dd>
<dt><tt class="docutils literal"><span class="pre">--deactivate</span></tt></dt>
<dd>Dectivate a VM license using the license token file or string specified
with <strong>--token</strong>.</dd>
<dt><tt class="docutils literal"><span class="pre">--get</span></tt></dt>
<dd>Get the quantity of VM provisioned for the license auth code
specified with <strong>--authcode</strong>.</dd>
<dt><tt class="docutils literal"><span class="pre">--authcode</span></tt> <em>code</em></dt>
<dd>License Auth Code.</dd>
<dt><tt class="docutils literal"><span class="pre">--cpuid</span></tt> <em>id</em></dt>
<dd>VM-Series vm-cpuid.</dd>
<dt><tt class="docutils literal"><span class="pre">--uuid</span></tt> <em>id</em></dt>
<dd>VM-Series vm-uuid.</dd>
<dt><tt class="docutils literal"><span class="pre">--token</span></tt> <em>token</em></dt>
<dd><p class="first">PAN-OS license token, which can be specified as a string or
a path to a token file.</p>
<p>The token file is obtained using the PAN-OS operational command
<tt class="docutils literal">request license deactivate <span class="pre">VM-Capacity</span> mode manual</tt>.</p>
<p>The token file is exported from the device using <tt class="docutils literal">scp export
<span class="pre">license-token-file</span></tt> or <tt class="docutils literal">tftp export <span class="pre">license-token-file</span></tt>.</p>
<p class="last">Starting with PAN-OS 8.0 you can display the token file using <tt class="docutils literal">show
<span class="pre">license-token-files</span> name</tt>.  This can be used to export the token
file string using the PAN-OS XML API.</p>
</dd>
<dt><tt class="docutils literal"><span class="pre">--serial</span></tt> <em>serial</em></dt>
<dd>Device serial number.</dd>
<dt><tt class="docutils literal"><span class="pre">-k</span></tt></dt>
<dd>Write license key files.  The key file name is the device uuid
or serial number followed by the license <tt class="docutils literal">partidField</tt>.</dd>
<dt><tt class="docutils literal"><span class="pre">-x</span></tt></dt>
<dd>Write license install PAN-OS XML API documents.  The documents
contain the PAN-OS XML API <tt class="docutils literal">type=op</tt> request <tt class="docutils literal">cmd=</tt> XML argument
to install the license file.</dd>
<dt><tt class="docutils literal"><span class="pre">--dst</span></tt> <em>dir</em></dt>
<dd>Destination directory for license key files and XML documents.
The default is the current working directory.</dd>
<dt><tt class="docutils literal"><span class="pre">-t</span></tt> <em>tag</em></dt>
<dd>Specify tagname for .panrc.</dd>
<dt><tt class="docutils literal"><span class="pre">-K</span></tt> <em>api_key</em></dt>
<dd>Specify the <strong>api_key</strong> used in API requests.  This can also be
specified in a .panrc file using the <tt class="docutils literal">api_key</tt> <em>varname</em>.</dd>
<dt><tt class="docutils literal"><span class="pre">-V</span></tt> <em>api_version</em></dt>
<dd><p class="first">API version as a string in the form v<strong>version</strong> or
<strong>version</strong> (e.g., <em>v1</em>).  The API version is used to determine
the PanLicapi class implementation to use.</p>
<p class="last">The default API version can be displayed with <tt class="docutils literal">panlicapi.py <span class="pre">-D</span></tt>.</p>
</dd>
<dt><tt class="docutils literal"><span class="pre">-h</span></tt> <em>hostname</em></dt>
<dd>Specify the <strong>hostname</strong> used in API requests.  This can also be
specified in a .panrc file using the <tt class="docutils literal">hostname</tt> <em>varname</em>.</dd>
<dt><tt class="docutils literal"><span class="pre">-p</span></tt></dt>
<dd>Print JSON response in Python to <em>stdout</em>.</dd>
<dt><tt class="docutils literal"><span class="pre">-j</span></tt></dt>
<dd>Print JSON response to <em>stdout</em>.</dd>
<dt><tt class="docutils literal"><span class="pre">-D</span></tt></dt>
<dd>Enable debugging.  May be specified multiple times up to 3
to increase debugging output.</dd>
<dt><tt class="docutils literal"><span class="pre">--ssl</span></tt> <em>opt</em></dt>
<dd><p class="first">Specify the type of SSL server certificate verification to be
performed.</p>
<dl class="last docutils">
<dt><tt class="docutils literal">verify</tt></dt>
<dd>Perform SSL server certificate verification.  This is the default.</dd>
<dt><tt class="docutils literal">noverify</tt></dt>
<dd>Disable SSL server certificate verification.</dd>
</dl>
</dd>
<dt><tt class="docutils literal"><span class="pre">-T</span></tt> <em>seconds</em></dt>
<dd>The HTTP connect <tt class="docutils literal">timeout</tt> in seconds.</dd>
<dt><tt class="docutils literal"><span class="pre">--version</span></tt></dt>
<dd>Display version.</dd>
<dt><tt class="docutils literal"><span class="pre">--help</span></tt></dt>
<dd>Display command options.</dd>
</dl>
</blockquote>
</div>
<div class="section" id="files">
<h1>FILES</h1>
<blockquote>
<dl class="docutils">
<dt><tt class="docutils literal">.panrc</tt></dt>
<dd>.panrc file.</dd>
</dl>
</blockquote>
</div>
<div class="section" id="exit-status">
<h1>EXIT STATUS</h1>
<blockquote>
<strong>panlicapi.py</strong> exits with 0 on success and 1 if an error occurs.</blockquote>
</div>
<div class="section" id="examples">
<h1>EXAMPLES</h1>
<blockquote>
<p>Add License API key with tagname <em>license</em> to .panrc file.</p>
<p>The API key is available on the <a class="reference external" href="https://support.paloaltonetworks.com">Palo Alto Networks Support Portal</a> at the <em>- Go To - -&gt; Licensing API</em>
drop-down.</p>
<pre class="literal-block">
$ KEY=b05208f9e641374c90926715e1fdfafac457af13593c2abb5f4a1f904081af95
$ echo &quot;api_key%license=$KEY&quot; &gt;&gt;.panrc
</pre>
<p>Set environment variables for example usage.</p>
<pre class="literal-block">
$ AUTHCODE=I9902646
$ CPUID=ESX:51030200FFFBAB1F
$ UUID=564D357F-8B7B-FAB9-1CAB-6C9745E43859
</pre>
<p>Get license provisioned count.</p>
<pre class="literal-block">
$ panlicapi.py -t license --get --authcode $AUTHCODE -j
get: 200 OK 77 0.70secs
{
    &quot;AuthCode&quot;: &quot;I9902646&quot;,
    &quot;TotalVMCount&quot;: 5,
    &quot;UsedCount&quot;: 0,
    &quot;UsedDeviceDetails&quot;: []
}
</pre>
<p>Activate license and save license keys.</p>
<pre class="literal-block">
$ panlicapi.py -t license --activate --authcode $AUTHCODE \
&gt; --cpuid $CPUID --uuid $UUID -k --dst tmp
activate: 200 OK 4583 4.60secs
564D357F-8B7B-FAB9-1CAB-6C9745E43859-PAN-VM-50-TP-3YR.key: Threat Prevention
564D357F-8B7B-FAB9-1CAB-6C9745E43859-PAN-VM-50-GP-3YR.key: GlobalProtect Gateway License
564D357F-8B7B-FAB9-1CAB-6C9745E43859-PAN-VM-50.key: Standard VM-50
564D357F-8B7B-FAB9-1CAB-6C9745E43859-PAN-VM-50-URL4-3YR.key: Palo Alto Networks URL Filtering License
564D357F-8B7B-FAB9-1CAB-6C9745E43859-PAN-VM-50-WF-3YR.key: WildFire signature feed, integrated WildFire logs, WildFire API
</pre>
<p>Get new license provisioned count.</p>
<pre class="literal-block">
$ panlicapi.py -t license --get --authcode $AUTHCODE -j
get: 200 OK 188 0.36secs
{
    &quot;AuthCode&quot;: &quot;I9902646&quot;,
    &quot;TotalVMCount&quot;: 5,
    &quot;UsedCount&quot;: 1,
    &quot;UsedDeviceDetails&quot;: [
        {
            &quot;CPUID&quot;: &quot;ESX:51030200FFFBAB1F&quot;,
            &quot;SerialNumber&quot;: &quot;015351000001360&quot;,
            &quot;UUID&quot;: &quot;564D357F-8B7B-FAB9-1CAB-6C9745E43859&quot;
        }
    ]
}
</pre>
<p>Get previously activated license by serial number and save
license PAN-OS XML API documents.</p>
<pre class="literal-block">
$ SERIAL=015351000001360

$ panlicapi.py -t license --activate --serial $SERIAL -x --dst tmp
activate: 200 OK 4583 3.48secs
015351000001360-PAN-VM-50-TP-3YR.xml: Threat Prevention
015351000001360-PAN-VM-50-GP-3YR.xml: GlobalProtect Gateway License
015351000001360-PAN-VM-50.xml: Standard VM-50
015351000001360-PAN-VM-50-URL4-3YR.xml: Palo Alto Networks URL Filtering License
015351000001360-PAN-VM-50-WF-3YR.xml: WildFire signature feed, integrated WildFire logs, WildFire API
</pre>
<p>Install VM capacity license key using the <strong>panxapi.py</strong> program.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Installing a capacity license will cause a reboot on PAN-OS &lt;= 7.1
and a restart of management services on PAN-OS &gt;= 8.0.</p>
</div>
<pre class="literal-block">
$ panxapi.py -t vm-50 -o tmp/$SERIAL-PAN-VM-50.xml
op: success: &quot;Successfully installed license key&quot;
</pre>
<p>Verify system serial number and show license info.</p>
<pre class="literal-block">
$ (panxapi.py -t vm-50 -Xpro 'show system info'; \
&gt; echo &quot;print(var1['system']['serial'])&quot;) | python
op: success
015351000001360

$ panxapi.py -t vm-50 -Xjro 'request license info'
op: success
{
  &quot;licenses&quot;: {
    &quot;entry&quot;: [
      {
        &quot;authcode&quot;: null,
        &quot;description&quot;: &quot;Standard VM-50&quot;,
        &quot;expired&quot;: false,
        &quot;expires&quot;: &quot;Never&quot;,
        &quot;feature&quot;: &quot;PA-VM&quot;,
        &quot;issued&quot;: &quot;March 24, 2017&quot;,
        &quot;serial&quot;: &quot;015351000001360&quot;
      }
    ]
  }
}
</pre>
<p>Install feature license keys using the <strong>panxapi.py</strong> program.</p>
<pre class="literal-block">
$ for i in tmp/$SERIAL-PAN-VM-50-*.xml; do
&gt; echo `basename $i`
&gt; panxapi.py -t vm-50 -o $i
&gt; done
015351000001360-PAN-VM-50-GP-3YR.xml
op: success: &quot;Successfully installed license key&quot;
015351000001360-PAN-VM-50-TP-3YR.xml
op: success: &quot;Successfully installed license key&quot;
015351000001360-PAN-VM-50-URL4-3YR.xml
op: success: &quot;Successfully installed license key&quot;
015351000001360-PAN-VM-50-WF-3YR.xml
op: success: &quot;Successfully installed license key&quot;
</pre>
<p>Deactivate license using CLI.</p>
<pre class="literal-block">
admin&#64;PA-VM&gt; request license deactivate VM-Capacity mode manual

Successfully deactivated VM. Please issue reboot
dact_lic.03242017.090853.tok
</pre>
<p>Export license token file using <tt class="docutils literal">scp export</tt>.</p>
<pre class="literal-block">
admin&#64;PA-VM&gt; scp export license-token-file from dact_lic.03242017.090853.tok to stevesk&#64;172.25.1.100:.
stevesk&#64;172.25.1.100's password:
dact_lic.03242017.090853.tok                                                      100%  678     0.7KB/s   00:00
</pre>
<p>Deactivate license using the <strong>panxapi.py</strong> program.</p>
<pre class="literal-block">
$ panxapi.py -t vm-50 -Xjro 'request license deactivate VM-Capacity mode &quot;manual&quot;'
op: success: &quot;Successfully deactivated VM. Please issue reboot&quot;
{
  &quot;msg&quot;: {
    &quot;line&quot;: &quot;Successfully deactivated VM. Please issue reboot&quot;
  },
  &quot;tokenfile&quot;: &quot;dact_lic.03242017.090853.tok&quot;
}
</pre>
<p>Export license token file using the <strong>panxapi.py</strong> program (PAN-OS 8.0).</p>
<pre class="literal-block">
$ panxapi.py -t vm-50 -Xjro 'show license-token-files name &quot;dact_lic.03242017.090853.tok&quot;' \
&gt; &gt;dact_lic.json
op: success
</pre>
<p>Extract license token from JSON object.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The following uses the <strong>jp.py</strong> program from
<a class="reference external" href="http://jmespath.org/">JMESPath</a>.</p>
</div>
<pre class="literal-block">
$ jp.py -f dact_lic.json files.entry[0].entry |
&gt; sed -e 's/^&quot;//' -e 's/&quot;$//' &gt;dact_lic.tok
</pre>
<p>Perform deactivate license API request.</p>
<pre class="literal-block">
$ panlicapi.py -t license --deactivate --token dact_lic.tok
deactivate: 200 OK 1121 0.96secs
</pre>
<p>Get license provisioned count.</p>
<pre class="literal-block">
$ panlicapi.py -t license --get --authcode $AUTHCODE -j
get: 200 OK 77 0.31secs
{
    &quot;AuthCode&quot;: &quot;I9902646&quot;,
    &quot;TotalVMCount&quot;: 5,
    &quot;UsedCount&quot;: 0,
    &quot;UsedDeviceDetails&quot;: []
}
</pre>
</blockquote>
</div>
<div class="section" id="see-also">
<h1>SEE ALSO</h1>
<blockquote>
<p>pan.licapi, panxapi.py</p>
<dl class="docutils">
<dt>VM-Series Deployment Guide</dt>
<dd><a class="reference external" href="https://docs.paloaltonetworks.com/vm-series/9-1/vm-series-deployment.html">https://docs.paloaltonetworks.com/vm-series/9-1/vm-series-deployment.html</a></dd>
<dt>Licensing API</dt>
<dd><a class="reference external" href="https://docs.paloaltonetworks.com/vm-series/9-1/vm-series-deployment/license-the-vm-series-firewall/licensing-api.html">https://docs.paloaltonetworks.com/vm-series/9-1/vm-series-deployment/license-the-vm-series-firewall/licensing-api.html</a></dd>
</dl>
</blockquote>
</div>
<div class="section" id="authors">
<h1>AUTHORS</h1>
<blockquote>
Palo Alto Networks, Inc. &lt;<a class="reference external" href="mailto:techbizdev&#64;paloaltonetworks.com">techbizdev&#64;paloaltonetworks.com</a>&gt;</blockquote>
</div>
</div>
</body>
</html>
