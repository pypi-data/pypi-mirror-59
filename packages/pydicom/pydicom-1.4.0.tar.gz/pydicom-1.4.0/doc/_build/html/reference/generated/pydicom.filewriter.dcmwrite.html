

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>pydicom.filewriter.dcmwrite &mdash; pydicom 1.4.0.dev0 documentation</title>
  

  
  
    <link rel="shortcut icon" href="../../_static/favicon.ico"/>
  
  
  

  
  <script type="text/javascript" src="../../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../../_static/jquery.js"></script>
        <script type="text/javascript" src="../../_static/underscore.js"></script>
        <script type="text/javascript" src="../../_static/doctools.js"></script>
        <script type="text/javascript" src="../../_static/language_data.js"></script>
    
    <script type="text/javascript" src="../../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../../_static/css/pydicom.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/gallery.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/css/pydicom.css" type="text/css" />
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="pydicom.filewriter.multi_string" href="pydicom.filewriter.multi_string.html" />
    <link rel="prev" title="pydicom.filewriter.correct_ambiguous_vr_element" href="pydicom.filewriter.correct_ambiguous_vr_element.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../index.html" class="icon icon-home"> pydicom
          

          
            
            <img src="../../_static/pydicom_flat_black.svg" class="logo" alt="Logo"/>
          
          </a>

          
            
            
              <div class="version">
                1.4.0.dev0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Getting started</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../tutorials/installation.html">How to install pydicom</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../old/getting_started.html">Introduction to pydicom</a></li>
</ul>
<p class="caption"><span class="caption-text">Documentation</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../old/pydicom_user_guide.html">pydicom User Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../old/ref_guide.html">Reading and writing DICOM files</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../tutorials/index.html">Tutorials</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../guides/index.html">Guides</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">API Reference</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../charset.html">Character Encoding and Decoding (<code class="xref py py-mod docutils literal notranslate"><span class="pre">pydicom.charset</span></code>)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../config.html">Configuration Options (<code class="xref py py-mod docutils literal notranslate"><span class="pre">pydicom.config</span></code>)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../data.html">Getting Included Datasets (<code class="xref py py-mod docutils literal notranslate"><span class="pre">pydicom.data</span></code>)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../datadict.html">Data Dictionary Utilities (<code class="xref py py-mod docutils literal notranslate"><span class="pre">pydicom.datadict</span></code>)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../elem.html">Representation of Data Elements</a></li>
<li class="toctree-l2"><a class="reference internal" href="../dataset.html">Representation of Datasets (<code class="xref py py-mod docutils literal notranslate"><span class="pre">pydicom.dataset</span></code>)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../handlers.html">Bulk Data Handlers</a></li>
<li class="toctree-l2"><a class="reference internal" href="../dicomdir.html">DICOMDIR (<code class="xref py py-mod docutils literal notranslate"><span class="pre">pydicom.dicomdir</span></code>)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../encaps.html">Bulk Data Encapsulation Utilities (<code class="xref py py-mod docutils literal notranslate"><span class="pre">pydicom.encaps</span></code>)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../errors.html">Exceptions (<code class="xref py py-mod docutils literal notranslate"><span class="pre">pydicom.errors</span></code>)</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../fileio.html">Dataset IO</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="../fileio.read.html">Dataset Reading (<code class="xref py py-mod docutils literal notranslate"><span class="pre">pydicom.filereader</span></code>)</a></li>
<li class="toctree-l3 current"><a class="reference internal" href="../fileio.write.html">Dataset Writing (<code class="xref py py-mod docutils literal notranslate"><span class="pre">pydicom.filewriter</span></code>)</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="pydicom.filewriter.correct_ambiguous_vr.html">pydicom.filewriter.correct_ambiguous_vr</a></li>
<li class="toctree-l4"><a class="reference internal" href="pydicom.filewriter.correct_ambiguous_vr_element.html">pydicom.filewriter.correct_ambiguous_vr_element</a></li>
<li class="toctree-l4 current"><a class="current reference internal" href="#">pydicom.filewriter.dcmwrite</a></li>
<li class="toctree-l4"><a class="reference internal" href="pydicom.filewriter.multi_string.html">pydicom.filewriter.multi_string</a></li>
<li class="toctree-l4"><a class="reference internal" href="pydicom.filewriter.write_ATvalue.html">pydicom.filewriter.write_ATvalue</a></li>
<li class="toctree-l4"><a class="reference internal" href="pydicom.filewriter.write_DA.html">pydicom.filewriter.write_DA</a></li>
<li class="toctree-l4"><a class="reference internal" href="pydicom.filewriter.write_dataset.html">pydicom.filewriter.write_dataset</a></li>
<li class="toctree-l4"><a class="reference internal" href="pydicom.filewriter.write_data_element.html">pydicom.filewriter.write_data_element</a></li>
<li class="toctree-l4"><a class="reference internal" href="pydicom.filewriter.write_DT.html">pydicom.filewriter.write_DT</a></li>
<li class="toctree-l4"><a class="reference internal" href="pydicom.filewriter.write_file_meta_info.html">pydicom.filewriter.write_file_meta_info</a></li>
<li class="toctree-l4"><a class="reference internal" href="pydicom.filewriter.write_numbers.html">pydicom.filewriter.write_numbers</a></li>
<li class="toctree-l4"><a class="reference internal" href="pydicom.filewriter.write_number_string.html">pydicom.filewriter.write_number_string</a></li>
<li class="toctree-l4"><a class="reference internal" href="pydicom.filewriter.write_OBvalue.html">pydicom.filewriter.write_OBvalue</a></li>
<li class="toctree-l4"><a class="reference internal" href="pydicom.filewriter.write_OWvalue.html">pydicom.filewriter.write_OWvalue</a></li>
<li class="toctree-l4"><a class="reference internal" href="pydicom.filewriter.write_PN.html">pydicom.filewriter.write_PN</a></li>
<li class="toctree-l4"><a class="reference internal" href="pydicom.filewriter.write_sequence.html">pydicom.filewriter.write_sequence</a></li>
<li class="toctree-l4"><a class="reference internal" href="pydicom.filewriter.write_sequence_item.html">pydicom.filewriter.write_sequence_item</a></li>
<li class="toctree-l4"><a class="reference internal" href="pydicom.filewriter.write_string.html">pydicom.filewriter.write_string</a></li>
<li class="toctree-l4"><a class="reference internal" href="pydicom.filewriter.write_text.html">pydicom.filewriter.write_text</a></li>
<li class="toctree-l4"><a class="reference internal" href="pydicom.filewriter.write_TM.html">pydicom.filewriter.write_TM</a></li>
<li class="toctree-l4"><a class="reference internal" href="pydicom.filewriter.write_UI.html">pydicom.filewriter.write_UI</a></li>
<li class="toctree-l4"><a class="reference internal" href="pydicom.filewriter.write_UN.html">pydicom.filewriter.write_UN</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../fileio.base.html">IO Base Classes (<code class="xref py py-mod docutils literal notranslate"><span class="pre">pydicom.filebase</span></code>)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../fileio.util.html">IO Utilities (<code class="xref py py-mod docutils literal notranslate"><span class="pre">pydicom.fileutil</span></code>)</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../misc.html">Miscellaneous (<code class="xref py py-mod docutils literal notranslate"><span class="pre">pydicom.misc</span></code>)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../uid.html">UID Definitions and Utilities (<code class="xref py py-mod docutils literal notranslate"><span class="pre">pydicom.uid</span></code>)</a></li>
</ul>
</li>
</ul>
<p class="caption"><span class="caption-text">Examples</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../auto_examples/index.html">General examples</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../auto_examples/index.html#image-processing">Image processing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../auto_examples/index.html#input-output">Input-output</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../auto_examples/index.html#metadata-processing">Metadata processing</a></li>
</ul>
<p class="caption"><span class="caption-text">Additional Information</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../tutorials/contributing.html">Contributing to pydicom</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../faq/index.html">Frequently asked questions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../release_notes/index.html">Release notes</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">pydicom</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../index.html">Docs</a> &raquo;</li>
        
          <li><a href="../index.html">API Reference</a> &raquo;</li>
        
          <li><a href="../fileio.html">Dataset IO</a> &raquo;</li>
        
          <li><a href="../fileio.write.html">Dataset Writing (<code class="xref py py-mod docutils literal notranslate"><span class="pre">pydicom.filewriter</span></code>)</a> &raquo;</li>
        
      <li>pydicom.filewriter.dcmwrite</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="pydicom-filewriter-dcmwrite">
<h1>pydicom.filewriter.dcmwrite<a class="headerlink" href="#pydicom-filewriter-dcmwrite" title="Permalink to this headline">¶</a></h1>
<dl class="function">
<dt id="pydicom.filewriter.dcmwrite">
<code class="sig-prename descclassname">pydicom.filewriter.</code><code class="sig-name descname">dcmwrite</code><span class="sig-paren">(</span><em class="sig-param">filename</em>, <em class="sig-param">dataset</em>, <em class="sig-param">write_like_original=True</em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/pydicom/pydicom/blob/7b2068cd/pydicom/filewriter.py#L742"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pydicom.filewriter.dcmwrite" title="Permalink to this definition">¶</a></dt>
<dd><p>Write <cite>dataset</cite> to the <cite>filename</cite> specified.</p>
<p>If <cite>write_like_original</cite> is <code class="docutils literal notranslate"><span class="pre">True</span></code> then <cite>dataset</cite> will be written as is
(after minimal validation checking) and may or may not contain all or parts
of the File Meta Information (and hence may or may not be conformant with
the DICOM File Format).</p>
<p>If <cite>write_like_original</cite> is <code class="docutils literal notranslate"><span class="pre">False</span></code>, <cite>dataset</cite> will be stored in the
<a class="reference external" href="http://dicom.nema.org/medical/dicom/current/output/chtml/part10/chapter_7.html">DICOM File Format</a>. The
byte stream of the <cite>dataset</cite> will be placed into the file after the
DICOM <em>File Meta Information</em>.</p>
<p><strong>File Meta Information</strong></p>
<p>The <em>File Meta Information</em> consists of a 128-byte preamble, followed by
a 4 byte <code class="docutils literal notranslate"><span class="pre">b'DICM'</span></code> prefix, followed by the <em>File Meta Information Group</em>
elements.</p>
<p><strong>Preamble and Prefix</strong></p>
<p>The <code class="docutils literal notranslate"><span class="pre">dataset.preamble</span></code> attribute shall be 128-bytes long or <code class="docutils literal notranslate"><span class="pre">None</span></code> and
is available for use as defined by the Application Profile or specific
implementations. If the preamble is not used by an Application Profile or
specific implementation then all 128 bytes should be set to <code class="docutils literal notranslate"><span class="pre">0x00</span></code>. The
actual preamble written depends on <cite>write_like_original</cite> and
<code class="docutils literal notranslate"><span class="pre">dataset.preamble</span></code> (see the table below).</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 38%" />
<col style="width: 28%" />
<col style="width: 34%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"></th>
<th class="head" colspan="2"><p>write_like_original</p></th>
</tr>
<tr class="row-even"><th class="head"><p>dataset.preamble</p></th>
<th class="head"><p>True</p></th>
<th class="head"><p>False</p></th>
</tr>
</thead>
<tbody>
<tr class="row-odd"><td><p>None</p></td>
<td><p>no preamble</p></td>
<td><p>128 0x00 bytes</p></td>
</tr>
<tr class="row-even"><td><p>128 bytes</p></td>
<td colspan="2"><p>dataset.preamble</p></td>
</tr>
</tbody>
</table>
<p>The prefix shall be the bytestring <code class="docutils literal notranslate"><span class="pre">b'DICM'</span></code> and will be written if and
only if the preamble is present.</p>
<p><strong>File Meta Information Group Elements</strong></p>
<p>The preamble and prefix are followed by a set of DICOM elements from the
(0002,eeee) group. Some of these elements are required (Type 1) while
others are optional (Type 3/1C). If <cite>write_like_original</cite> is <code class="docutils literal notranslate"><span class="pre">True</span></code>
then the <em>File Meta Information Group</em> elements are all optional. See
<a class="reference internal" href="pydicom.filewriter.write_file_meta_info.html#pydicom.filewriter.write_file_meta_info" title="pydicom.filewriter.write_file_meta_info"><code class="xref py py-func docutils literal notranslate"><span class="pre">write_file_meta_info()</span></code></a> for more information on
which elements are required.</p>
<p>The <em>File Meta Information Group</em> elements should be included within their
own <a class="reference internal" href="pydicom.dataset.Dataset.html#pydicom.dataset.Dataset" title="pydicom.dataset.Dataset"><code class="xref py py-class docutils literal notranslate"><span class="pre">Dataset</span></code></a> in the <code class="docutils literal notranslate"><span class="pre">dataset.file_meta</span></code>
attribute.</p>
<p>If (0002,0010) <em>Transfer Syntax UID</em> is included then the user must ensure
its value is compatible with the values for the
<code class="docutils literal notranslate"><span class="pre">dataset.is_little_endian</span></code> and <code class="docutils literal notranslate"><span class="pre">dataset.is_implicit_VR</span></code> attributes.
For example, if <code class="docutils literal notranslate"><span class="pre">is_little_endian</span></code> and <code class="docutils literal notranslate"><span class="pre">is_implicit_VR</span></code> are both
<code class="docutils literal notranslate"><span class="pre">True</span></code> then the Transfer Syntax UID must be 1.2.840.10008.1.2 <em>Implicit
VR Little Endian</em>. See the DICOM Standard, Part 5,
<a class="reference external" href="http://dicom.nema.org/medical/dicom/current/output/chtml/part05/chapter_10.html">Section 10</a> for more information on Transfer
Syntaxes.</p>
<p><em>Encoding</em></p>
<p>The preamble and prefix are encoding independent. The File Meta elements
are encoded as <em>Explicit VR Little Endian</em> as required by the DICOM
Standard.</p>
<p><strong>Dataset</strong></p>
<p>A DICOM Dataset representing a SOP Instance related to a DICOM Information
Object Definition. It is up to the user to ensure the <cite>dataset</cite> conforms
to the DICOM Standard.</p>
<p><em>Encoding</em></p>
<p>The <cite>dataset</cite> is encoded as specified by the <code class="docutils literal notranslate"><span class="pre">dataset.is_little_endian</span></code>
and <code class="docutils literal notranslate"><span class="pre">dataset.is_implicit_VR</span></code> attributes. It’s up to the user to ensure
these attributes are set correctly (as well as setting an appropriate
value for <code class="docutils literal notranslate"><span class="pre">dataset.file_meta.TransferSyntaxUID</span></code> if present).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>filename</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a><em> or </em><em>file-like</em>) – Name of file or the file-like to write the new DICOM file to.</p></li>
<li><p><strong>dataset</strong> (<a class="reference internal" href="pydicom.dataset.FileDataset.html#pydicom.dataset.FileDataset" title="pydicom.dataset.FileDataset"><em>pydicom.dataset.FileDataset</em></a>) – Dataset holding the DICOM information; e.g. an object read with
<a class="reference internal" href="pydicom.filereader.dcmread.html#pydicom.filereader.dcmread" title="pydicom.filereader.dcmread"><code class="xref py py-func docutils literal notranslate"><span class="pre">dcmread()</span></code></a>.</p></li>
<li><p><strong>write_like_original</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a><em>, </em><em>optional</em>) – <p>If <code class="docutils literal notranslate"><span class="pre">True</span></code> (default), preserves the following information from
the Dataset (and may result in a non-conformant file):</p>
<ul>
<li><p>preamble – if the original file has no preamble then none will be
written.</p></li>
<li><p>file_meta – if the original file was missing any required <em>File
Meta Information Group</em> elements then they will not be added or
written.
If (0002,0000) <em>File Meta Information Group Length</em> is present then
it may have its value updated.</p></li>
<li><p>seq.is_undefined_length – if original had delimiters, write them now
too, instead of the more sensible length characters</p></li>
<li><p>is_undefined_length_sequence_item – for datasets that belong to a
sequence, write the undefined length delimiters if that is
what the original had.</p></li>
</ul>
<p>If <code class="docutils literal notranslate"><span class="pre">False</span></code>, produces a file conformant with the DICOM File Format,
with explicit lengths for all elements.</p>
</p></li>
</ul>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<dl class="simple">
<dt><a class="reference internal" href="pydicom.dataset.FileDataset.html#pydicom.dataset.FileDataset" title="pydicom.dataset.FileDataset"><code class="xref py py-func docutils literal notranslate"><span class="pre">pydicom.dataset.FileDataset()</span></code></a></dt><dd><p>Dataset class with relevant attributes and information.</p>
</dd>
<dt><a class="reference internal" href="pydicom.dataset.Dataset.html#pydicom.dataset.Dataset.save_as" title="pydicom.dataset.Dataset.save_as"><code class="xref py py-func docutils literal notranslate"><span class="pre">pydicom.dataset.Dataset.save_as()</span></code></a></dt><dd><p>Write a DICOM file from a dataset that was read in with <code class="docutils literal notranslate"><span class="pre">dcmread()</span></code>. <code class="docutils literal notranslate"><span class="pre">save_as()</span></code> wraps <code class="docutils literal notranslate"><span class="pre">dcmwrite()</span></code>.</p>
</dd>
</dl>
</div>
</dd></dl>

</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="pydicom.filewriter.multi_string.html" class="btn btn-neutral float-right" title="pydicom.filewriter.multi_string" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="pydicom.filewriter.correct_ambiguous_vr_element.html" class="btn btn-neutral float-left" title="pydicom.filewriter.correct_ambiguous_vr_element" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2008-2019, Darcy Mason and pydicom contributors

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>