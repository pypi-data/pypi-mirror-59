

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Private Data Elements &mdash; pydicom 1.4.0.dev0 documentation</title>
  

  
  
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
  
  
  

  
  <script type="text/javascript" src="../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../_static/jquery.js"></script>
        <script type="text/javascript" src="../_static/underscore.js"></script>
        <script type="text/javascript" src="../_static/doctools.js"></script>
        <script type="text/javascript" src="../_static/language_data.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../_static/css/pydicom.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/gallery.css" type="text/css" />
  <link rel="stylesheet" href="../_static/css/pydicom.css" type="text/css" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Python 2 Support Plan for Pydicom" href="python2_support.html" />
    <link rel="prev" title="Viewing Images" href="viewing_images.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home"> pydicom
          

          
            
            <img src="../_static/pydicom_flat_black.svg" class="logo" alt="Logo"/>
          
          </a>

          
            
            
              <div class="version">
                1.4.0.dev0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Getting started</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../tutorials/installation.html">How to install pydicom</a></li>
<li class="toctree-l1"><a class="reference internal" href="getting_started.html">Introduction to pydicom</a></li>
</ul>
<p class="caption"><span class="caption-text">Documentation</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="pydicom_user_guide.html">pydicom User Guide</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="base_element.html">Core elements in pydicom</a></li>
<li class="toctree-l2"><a class="reference internal" href="writing_files.html">Writing DICOM Files</a></li>
<li class="toctree-l2"><a class="reference internal" href="working_with_pixel_data.html">Working with Pixel Data</a></li>
<li class="toctree-l2"><a class="reference internal" href="working_with_overlays.html">Working with Overlay Data</a></li>
<li class="toctree-l2"><a class="reference internal" href="image_data_handlers.html">Handling of compressed image data</a></li>
<li class="toctree-l2"><a class="reference internal" href="viewing_images.html">Viewing Images</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Private Data Elements</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#introduction">Introduction</a></li>
<li class="toctree-l3"><a class="reference internal" href="#displaying-private-data-elements-in-pydicom">Displaying Private Data Elements in pydicom</a></li>
<li class="toctree-l3"><a class="reference internal" href="#setting-private-data-elements-with-pydicom">Setting Private Data Elements with pydicom</a></li>
<li class="toctree-l3"><a class="reference internal" href="#removing-all-private-data-elements">Removing All Private Data Elements</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="python2_support.html">Python 2 Support Plan for Pydicom</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="ref_guide.html">Reading and writing DICOM files</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorials/index.html">Tutorials</a></li>
<li class="toctree-l1"><a class="reference internal" href="../guides/index.html">Guides</a></li>
<li class="toctree-l1"><a class="reference internal" href="../reference/index.html">API Reference</a></li>
</ul>
<p class="caption"><span class="caption-text">Examples</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../auto_examples/index.html">General examples</a></li>
<li class="toctree-l1"><a class="reference internal" href="../auto_examples/index.html#image-processing">Image processing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../auto_examples/index.html#input-output">Input-output</a></li>
<li class="toctree-l1"><a class="reference internal" href="../auto_examples/index.html#metadata-processing">Metadata processing</a></li>
</ul>
<p class="caption"><span class="caption-text">Additional Information</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../tutorials/contributing.html">Contributing to pydicom</a></li>
<li class="toctree-l1"><a class="reference internal" href="../faq/index.html">Frequently asked questions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../release_notes/index.html">Release notes</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">pydicom</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
          <li><a href="pydicom_user_guide.html">pydicom User Guide</a> &raquo;</li>
        
      <li>Private Data Elements</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="private-data-elements">
<span id="id1"></span><h1>Private Data Elements<a class="headerlink" href="#private-data-elements" title="Permalink to this headline">¶</a></h1>
<p class="rubric">Accessing or creating private data elements</p>
<div class="section" id="introduction">
<h2>Introduction<a class="headerlink" href="#introduction" title="Permalink to this headline">¶</a></h2>
<p>The DICOM standard allows DICOM file creators to use <cite>private data elements</cite>
to store information that is not defined by the DICOM standard itself.</p>
<p>Private data elements are stored in Datasets just like other data elements.
When reading files with pydicom, they will automatically be read
and available for display.  Pydicom knows descriptive names for some
‘well-known’ private data elements, but for others it may not be able to
show anything except the tag and the value.</p>
<p>When writing your own private data elements, the DICOM standard requires the
use of ‘private creator blocks’.  Pydicom (since v1.3) has some convenience
functions to make creating private blocks and data elements easier.</p>
<p>The sections below outlines accessing and creating private blocks and data
elements using pydicom.</p>
</div>
<div class="section" id="displaying-private-data-elements-in-pydicom">
<h2>Displaying Private Data Elements in pydicom<a class="headerlink" href="#displaying-private-data-elements-in-pydicom" title="Permalink to this headline">¶</a></h2>
<p>Here is an example of some private tags displayed for pydicom’s test file
‘CT_small.dcm’:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">pydicom</span> <span class="kn">import</span> <span class="n">dcmread</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">pydicom.data</span> <span class="kn">import</span> <span class="n">get_testdata_files</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ct_filename</span> <span class="o">=</span> <span class="n">get_testdata_files</span><span class="p">(</span><span class="s2">&quot;CT_small&quot;</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds</span> <span class="o">=</span> <span class="n">dcmread</span><span class="p">(</span><span class="n">ct_filename</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds</span>
<span class="go">(0008, 0005) Specific Character Set              CS: &#39;ISO_IR 100&#39;</span>
<span class="go">(0008, 0008) Image Type                          CS: [&#39;ORIGINAL&#39;, &#39;PRIMARY&#39;, &#39;AX</span>
<span class="go">IAL&#39;]</span>
<span class="gp">...</span>
<span class="gp">...</span>
<span class="go">(0009, 0010) Private Creator                     LO: &#39;GEMS_IDEN_01&#39;</span>
<span class="go">(0009, 1001) [Full fidelity]                     LO: &#39;GE_GENESIS_FF&#39;</span>
<span class="go">(0009, 1002) [Suite id]                          SH: &#39;CT01&#39;</span>
<span class="gp">...</span>
</pre></div>
</div>
<p>The last two lines in the example above show pydicom’s display of two private
data elements.  The line preceding those shows the private creator data element
that reserves a section of tag element numbers for that creator’s use.</p>
<p>Since the descriptions for private data elements are not part of the DICOM
standard, and are thus not necessarily unique, pydicom does not allow you to
access data elements using those names. This is indicated by enclosing the
text in square brackets, to make it clear it is different from DICOM
standard descriptors.</p>
<p>You can still access the private data elements using the tag, remembering that
data elements access by tag number return a full DataElement instance, and
the <cite>value</cite> attribute is needed to get the value:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">ds</span><span class="p">[</span><span class="mh">0x00091001</span><span class="p">]</span><span class="o">.</span><span class="n">value</span>
<span class="go">&#39;GE_GENESIS_FF&#39;</span>
</pre></div>
</div>
<p>You can also create a <a class="reference internal" href="../reference/generated/pydicom.dataset.PrivateBlock.html#pydicom.dataset.PrivateBlock" title="pydicom.dataset.PrivateBlock"><code class="xref py py-class docutils literal notranslate"><span class="pre">PrivateBlock</span></code></a> instance and access elements
through it:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">block</span> <span class="o">=</span> <span class="n">ds</span><span class="o">.</span><span class="n">private_block</span><span class="p">(</span><span class="mh">0x0009</span><span class="p">,</span> <span class="s1">&#39;GEMS_IDEN_01&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">block</span><span class="p">[</span><span class="mh">0x01</span><span class="p">]</span>
<span class="go">(0009, 1001) [Full fidelity]                     LO: &#39;GE_GENESIS_FF&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">block</span><span class="p">[</span><span class="mh">0x01</span><span class="p">]</span><span class="o">.</span><span class="n">value</span>
<span class="go">&#39;GE_GENESIS_FF&#39;</span>
</pre></div>
</div>
<p>Using the private block like this is even more useful when creating your own
private data elements, as shown in the next section.</p>
</div>
<div class="section" id="setting-private-data-elements-with-pydicom">
<h2>Setting Private Data Elements with pydicom<a class="headerlink" href="#setting-private-data-elements-with-pydicom" title="Permalink to this headline">¶</a></h2>
<p>The DICOM standard requires a private creator data element to identify and
reserve a section of private tags. That name should be unique, and usually
has the company name as the first part to accomplish that.  Pydicom (since
v1.3) provides convenient functions to manage this:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">block</span> <span class="o">=</span> <span class="n">ds</span><span class="o">.</span><span class="n">private_block</span><span class="p">(</span><span class="mh">0x000b</span><span class="p">,</span> <span class="s2">&quot;My company 001&quot;</span><span class="p">,</span> <span class="n">create</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">block</span><span class="o">.</span><span class="n">add_new</span><span class="p">(</span><span class="mh">0x01</span><span class="p">,</span> <span class="s2">&quot;SH&quot;</span><span class="p">,</span> <span class="s2">&quot;my value&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds</span>
<span class="gp">...</span>
<span class="go">(000b, 0010) Private Creator                     LO: &#39;My company 001&#39;</span>
<span class="go">(000b, 1001) Private tag data                    SH: &#39;my value&#39;</span>
<span class="gp">...</span>
</pre></div>
</div>
<p>Standard python operations like <cite>in</cite> and <cite>del</cite> can also be used when working
with block object:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="mh">0x01</span> <span class="ow">in</span> <span class="n">block</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="mh">0x02</span> <span class="ow">in</span> <span class="n">block</span>
<span class="go">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">del</span> <span class="n">block</span><span class="p">[</span><span class="mh">0x01</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="mh">0x01</span> <span class="ow">in</span> <span class="n">block</span>
<span class="go">False</span>
</pre></div>
</div>
</div>
<div class="section" id="removing-all-private-data-elements">
<h2>Removing All Private Data Elements<a class="headerlink" href="#removing-all-private-data-elements" title="Permalink to this headline">¶</a></h2>
<p>One part of anonymizing a DICOM file is to ensure that private data elements
have been removed, as there is no guarantee as to what kind of information
might be contained in them.  Pydicom provides a convenient function
<a class="reference internal" href="../reference/generated/pydicom.dataset.Dataset.html#pydicom.dataset.Dataset.remove_private_tags" title="pydicom.dataset.Dataset.remove_private_tags"><code class="xref py py-func docutils literal notranslate"><span class="pre">Dataset.remove_private_tags()</span></code></a> to recursively remove private elements:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">ds</span><span class="o">.</span><span class="n">remove_private_tags</span><span class="p">()</span>
</pre></div>
</div>
<p>This can also be helpful during interactive sessions when exploring DICOM
files, to remove a large number of lines from the display of a dataset –
lines which may not provide useful information.</p>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="python2_support.html" class="btn btn-neutral float-right" title="Python 2 Support Plan for Pydicom" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="viewing_images.html" class="btn btn-neutral float-left" title="Viewing Images" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2008-2019, Darcy Mason and pydicom contributors

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>