{"version":3,"sources":["webpack:///./src/utils/query.ts","webpack:///./src/common/inputs/formik/TextField.tsx","webpack:///./src/common/inputs/formik/SelectField.tsx","webpack:///./node_modules/@material-ui/icons/esm/ExpandMore.js","webpack:///./src/common/ExpandButton.tsx","webpack:///./node_modules/react-infinite-scroller/index.js","webpack:///./node_modules/react-infinite-scroller/dist/InfiniteScroll.js","webpack:///./src/common/inputs/formik/DirectionButton.tsx","webpack:///./src/plugins/history/types.ts","webpack:///./src/plugins/history/FilterNav.tsx","webpack:///./node_modules/@material-ui/core/esm/ListSubheader/ListSubheader.js","webpack:///./src/common/LoadingSpinner.tsx","webpack:///./src/utils/array.ts","webpack:///./src/plugins/history/utils.ts","webpack:///./src/plugins/history/hooks.ts","webpack:///./src/plugins/history/HistoryList.tsx","webpack:///./src/plugins/history/History.tsx"],"names":["Direction","toggleDirection","d","Asc","Desc","TextField","name","props","useField","field","touched","error","helperText","SelectField","options","SelectProps","theme","useTheme","sp","native","useMediaQuery","breakpoints","down","select","map","option","key","value","label","createSvgIcon","createElement","iconBase","css","transitions","create","rotate","ExpandButton","forwardRef","ref","open","iconCss","useCallback","IconButton","ExpandMore","module","exports","Object","defineProperty","_createClass","defineProperties","target","i","length","descriptor","enumerable","configurable","writable","Constructor","protoProps","staticProps","prototype","_react","_react2","_interopRequireDefault","_propTypes2","obj","__esModule","default","InfiniteScroll","_Component","instance","TypeError","_classCallCheck","this","_this","self","call","ReferenceError","_possibleConstructorReturn","__proto__","getPrototypeOf","scrollListener","bind","eventListenerOptions","mousewheelListener","subClass","superClass","constructor","setPrototypeOf","_inherits","pageLoaded","pageStart","attachScrollListener","isReverse","loadMore","parentElement","getParentElement","scrollComponent","scrollTop","scrollHeight","beforeScrollHeight","beforeScrollTop","detachScrollListener","detachMousewheelListener","passive","testOptions","document","addEventListener","removeEventListener","e","useCapture","isPassiveSupported","loader","defaultLoader","scrollEl","window","useWindow","parentNode","el","scrollParent","getScrollParent","hasMore","initialLoad","deltaY","preventDefault","offset","doc","documentElement","body","undefined","pageYOffset","calculateOffset","clientHeight","Number","threshold","offsetParent","calculateTopPosition","offsetHeight","innerHeight","offsetTop","_this2","renderProps","filterProps","children","element","keys","indexOf","hasOwnProperty","_objectWithoutProperties","node","childrenArray","unshift","push","Component","propTypes","isRequired","bool","func","number","defaultProps","GroupByFields","SortByFields","DirectionButton","onClick","setValue","useMemo","handleClick","fieldWrapper","textField","selectField","groupByFields","Task","Time","sortByFields","Details","Filename","Id","Title","Url","FilterNav","tasks","useContainer","TaskContainer","useDebounceFormikSubmit","Toolbar","autoFocus","id","Tooltip","title","color","aria-label","classes","className","_props$color","_props$component","component","_props$disableGutters","disableGutters","_props$disableSticky","disableSticky","_props$inset","inset","other","root","concat","capitalize","sticky","gutters","withStyles","boxSizing","lineHeight","listStyle","palette","text","secondary","fontFamily","typography","fontWeight","fontWeightMedium","fontSize","pxToRem","colorPrimary","primary","main","colorInherit","paddingLeft","paddingRight","position","top","zIndex","backgroundColor","spinner","wrapper","LoadingSpinner","loading","CircularProgress","groupBy","array","transform","f","reduce","curr","modKey","historyReducer","state","items","total","reset","useHistoryPlugin","useReducer","dispatch","useFlexgetAPI","stringify","requestState","request","useEffect","resp","ok","data","parseInt","headers","get","page","fn","subheader","background","paper","HistoryList","scrollRef","history","grouping","split","getGroupedHistory","entries","header","histories","List","time","task","ListItem","ListItemText","Date","toString","History","useInjectPageTitle","scroll","useRef","useMergeState","sort","order","setOptions","current","findDOMNode","scrollIntoView","initialValues","onSubmit","values"],"mappings":"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","file":"HistoryPlugin.ba5aebba74f8a5b5290d.js","sourcesContent":["export var Direction;\n(function (Direction) {\n    Direction[\"Desc\"] = \"desc\";\n    Direction[\"Asc\"] = \"asc\";\n})(Direction || (Direction = {}));\nexport const toggleDirection = (d) => d === Direction.Asc ? Direction.Desc : Direction.Asc;\n","import React from 'react';\nimport BaseTextField from '@material-ui/core/TextField';\nimport { useField } from 'formik';\nconst TextField = ({ name, ...props }) => {\n    const [field, { touched, error }] = useField(name);\n    return <BaseTextField error={touched && !!error} helperText={error} {...field} {...props}/>;\n};\nexport default TextField;\n","import React from 'react';\nimport { MenuItem, useMediaQuery, useTheme } from '@material-ui/core';\nimport TextField from './TextField';\nconst SelectField = ({ options, SelectProps = {}, ...props }) => {\n    const theme = useTheme();\n    const native = useMediaQuery(theme.breakpoints.down('sm'));\n    const sp = {\n        native,\n        ...SelectProps,\n    };\n    return (<TextField {...props} select SelectProps={sp}>\n      {options.map(option => sp.native ? (<option key={option.value} value={option.value}>\n            {option.label}\n          </option>) : (<MenuItem key={option.value} value={option.value}>\n            {option.label}\n          </MenuItem>))}\n    </TextField>);\n};\nexport default SelectField;\n","import React from 'react';\nimport createSvgIcon from './utils/createSvgIcon';\nexport default createSvgIcon(React.createElement(\"path\", {\n  d: \"M16.59 8.59L12 13.17 7.41 8.59 6 10l6 6 6-6z\"\n}), 'ExpandMore');","import React, { useCallback, forwardRef } from 'react';\nimport { css } from '@emotion/core';\nimport { ExpandMore } from '@material-ui/icons';\nimport { IconButton } from '@material-ui/core';\nconst iconBase = (theme) => css `\n  transition: ${theme.transitions.create(['transform'])};\n`;\nconst rotate = css `\n  transform: rotate(180deg);\n`;\nconst ExpandButton = forwardRef(({ open, ...props }, ref) => {\n    const iconCss = useCallback((theme) => [iconBase(theme), open && rotate], [open]);\n    return (<IconButton {...props} css={iconCss} ref={ref}>\n      <ExpandMore />\n    </IconButton>);\n});\nexport default ExpandButton;\n","module.exports = require('./dist/InfiniteScroll')\n","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = require('prop-types');\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _objectWithoutProperties(obj, keys) { var target = {}; for (var i in obj) { if (keys.indexOf(i) >= 0) continue; if (!Object.prototype.hasOwnProperty.call(obj, i)) continue; target[i] = obj[i]; } return target; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar InfiniteScroll = function (_Component) {\n  _inherits(InfiniteScroll, _Component);\n\n  function InfiniteScroll(props) {\n    _classCallCheck(this, InfiniteScroll);\n\n    var _this = _possibleConstructorReturn(this, (InfiniteScroll.__proto__ || Object.getPrototypeOf(InfiniteScroll)).call(this, props));\n\n    _this.scrollListener = _this.scrollListener.bind(_this);\n    _this.eventListenerOptions = _this.eventListenerOptions.bind(_this);\n    _this.mousewheelListener = _this.mousewheelListener.bind(_this);\n    return _this;\n  }\n\n  _createClass(InfiniteScroll, [{\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      this.pageLoaded = this.props.pageStart;\n      this.options = this.eventListenerOptions();\n      this.attachScrollListener();\n    }\n  }, {\n    key: 'componentDidUpdate',\n    value: function componentDidUpdate() {\n      if (this.props.isReverse && this.loadMore) {\n        var parentElement = this.getParentElement(this.scrollComponent);\n        parentElement.scrollTop = parentElement.scrollHeight - this.beforeScrollHeight + this.beforeScrollTop;\n        this.loadMore = false;\n      }\n      this.attachScrollListener();\n    }\n  }, {\n    key: 'componentWillUnmount',\n    value: function componentWillUnmount() {\n      this.detachScrollListener();\n      this.detachMousewheelListener();\n    }\n  }, {\n    key: 'isPassiveSupported',\n    value: function isPassiveSupported() {\n      var passive = false;\n\n      var testOptions = {\n        get passive() {\n          passive = true;\n        }\n      };\n\n      try {\n        document.addEventListener('test', null, testOptions);\n        document.removeEventListener('test', null, testOptions);\n      } catch (e) {\n        // ignore\n      }\n      return passive;\n    }\n  }, {\n    key: 'eventListenerOptions',\n    value: function eventListenerOptions() {\n      var options = this.props.useCapture;\n\n      if (this.isPassiveSupported()) {\n        options = {\n          useCapture: this.props.useCapture,\n          passive: true\n        };\n      }\n      return options;\n    }\n\n    // Set a defaut loader for all your `InfiniteScroll` components\n\n  }, {\n    key: 'setDefaultLoader',\n    value: function setDefaultLoader(loader) {\n      this.defaultLoader = loader;\n    }\n  }, {\n    key: 'detachMousewheelListener',\n    value: function detachMousewheelListener() {\n      var scrollEl = window;\n      if (this.props.useWindow === false) {\n        scrollEl = this.scrollComponent.parentNode;\n      }\n\n      scrollEl.removeEventListener('mousewheel', this.mousewheelListener, this.options ? this.options : this.props.useCapture);\n    }\n  }, {\n    key: 'detachScrollListener',\n    value: function detachScrollListener() {\n      var scrollEl = window;\n      if (this.props.useWindow === false) {\n        scrollEl = this.getParentElement(this.scrollComponent);\n      }\n\n      scrollEl.removeEventListener('scroll', this.scrollListener, this.options ? this.options : this.props.useCapture);\n      scrollEl.removeEventListener('resize', this.scrollListener, this.options ? this.options : this.props.useCapture);\n    }\n  }, {\n    key: 'getParentElement',\n    value: function getParentElement(el) {\n      var scrollParent = this.props.getScrollParent && this.props.getScrollParent();\n      if (scrollParent != null) {\n        return scrollParent;\n      }\n      return el && el.parentNode;\n    }\n  }, {\n    key: 'filterProps',\n    value: function filterProps(props) {\n      return props;\n    }\n  }, {\n    key: 'attachScrollListener',\n    value: function attachScrollListener() {\n      var parentElement = this.getParentElement(this.scrollComponent);\n\n      if (!this.props.hasMore || !parentElement) {\n        return;\n      }\n\n      var scrollEl = window;\n      if (this.props.useWindow === false) {\n        scrollEl = parentElement;\n      }\n\n      scrollEl.addEventListener('mousewheel', this.mousewheelListener, this.options ? this.options : this.props.useCapture);\n      scrollEl.addEventListener('scroll', this.scrollListener, this.options ? this.options : this.props.useCapture);\n      scrollEl.addEventListener('resize', this.scrollListener, this.options ? this.options : this.props.useCapture);\n\n      if (this.props.initialLoad) {\n        this.scrollListener();\n      }\n    }\n  }, {\n    key: 'mousewheelListener',\n    value: function mousewheelListener(e) {\n      // Prevents Chrome hangups\n      // See: https://stackoverflow.com/questions/47524205/random-high-content-download-time-in-chrome/47684257#47684257\n      if (e.deltaY === 1 && !this.isPassiveSupported()) {\n        e.preventDefault();\n      }\n    }\n  }, {\n    key: 'scrollListener',\n    value: function scrollListener() {\n      var el = this.scrollComponent;\n      var scrollEl = window;\n      var parentNode = this.getParentElement(el);\n\n      var offset = void 0;\n      if (this.props.useWindow) {\n        var doc = document.documentElement || document.body.parentNode || document.body;\n        var scrollTop = scrollEl.pageYOffset !== undefined ? scrollEl.pageYOffset : doc.scrollTop;\n        if (this.props.isReverse) {\n          offset = scrollTop;\n        } else {\n          offset = this.calculateOffset(el, scrollTop);\n        }\n      } else if (this.props.isReverse) {\n        offset = parentNode.scrollTop;\n      } else {\n        offset = el.scrollHeight - parentNode.scrollTop - parentNode.clientHeight;\n      }\n\n      // Here we make sure the element is visible as well as checking the offset\n      if (offset < Number(this.props.threshold) && el && el.offsetParent !== null) {\n        this.detachScrollListener();\n        this.beforeScrollHeight = parentNode.scrollHeight;\n        this.beforeScrollTop = parentNode.scrollTop;\n        // Call loadMore after detachScrollListener to allow for non-async loadMore functions\n        if (typeof this.props.loadMore === 'function') {\n          this.props.loadMore(this.pageLoaded += 1);\n          this.loadMore = true;\n        }\n      }\n    }\n  }, {\n    key: 'calculateOffset',\n    value: function calculateOffset(el, scrollTop) {\n      if (!el) {\n        return 0;\n      }\n\n      return this.calculateTopPosition(el) + (el.offsetHeight - scrollTop - window.innerHeight);\n    }\n  }, {\n    key: 'calculateTopPosition',\n    value: function calculateTopPosition(el) {\n      if (!el) {\n        return 0;\n      }\n      return el.offsetTop + this.calculateTopPosition(el.offsetParent);\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _this2 = this;\n\n      var renderProps = this.filterProps(this.props);\n\n      var children = renderProps.children,\n          element = renderProps.element,\n          hasMore = renderProps.hasMore,\n          initialLoad = renderProps.initialLoad,\n          isReverse = renderProps.isReverse,\n          loader = renderProps.loader,\n          loadMore = renderProps.loadMore,\n          pageStart = renderProps.pageStart,\n          ref = renderProps.ref,\n          threshold = renderProps.threshold,\n          useCapture = renderProps.useCapture,\n          useWindow = renderProps.useWindow,\n          getScrollParent = renderProps.getScrollParent,\n          props = _objectWithoutProperties(renderProps, ['children', 'element', 'hasMore', 'initialLoad', 'isReverse', 'loader', 'loadMore', 'pageStart', 'ref', 'threshold', 'useCapture', 'useWindow', 'getScrollParent']);\n\n      props.ref = function (node) {\n        _this2.scrollComponent = node;\n        if (ref) {\n          ref(node);\n        }\n      };\n\n      var childrenArray = [children];\n      if (hasMore) {\n        if (loader) {\n          isReverse ? childrenArray.unshift(loader) : childrenArray.push(loader);\n        } else if (this.defaultLoader) {\n          isReverse ? childrenArray.unshift(this.defaultLoader) : childrenArray.push(this.defaultLoader);\n        }\n      }\n      return _react2.default.createElement(element, props, childrenArray);\n    }\n  }]);\n\n  return InfiniteScroll;\n}(_react.Component);\n\nInfiniteScroll.propTypes = {\n  children: _propTypes2.default.node.isRequired,\n  element: _propTypes2.default.node,\n  hasMore: _propTypes2.default.bool,\n  initialLoad: _propTypes2.default.bool,\n  isReverse: _propTypes2.default.bool,\n  loader: _propTypes2.default.node,\n  loadMore: _propTypes2.default.func.isRequired,\n  pageStart: _propTypes2.default.number,\n  ref: _propTypes2.default.func,\n  getScrollParent: _propTypes2.default.func,\n  threshold: _propTypes2.default.number,\n  useCapture: _propTypes2.default.bool,\n  useWindow: _propTypes2.default.bool\n};\nInfiniteScroll.defaultProps = {\n  element: 'div',\n  hasMore: false,\n  initialLoad: true,\n  pageStart: 0,\n  ref: null,\n  threshold: 250,\n  useWindow: true,\n  isReverse: false,\n  useCapture: false,\n  loader: null,\n  getScrollParent: null\n};\nexports.default = InfiniteScroll;\nmodule.exports = exports['default'];\n","import React, { useCallback, forwardRef, useMemo } from 'react';\nimport { useField } from 'formik';\nimport { Direction, toggleDirection } from 'utils/query';\nimport ExpandButton from 'common/ExpandButton';\nconst DirectionButton = forwardRef(({ name, onClick = () => { }, ...props }, ref) => {\n    const [{ value }, , { setValue }] = useField(name);\n    const open = useMemo(() => value === Direction.Desc, [value]);\n    const handleClick = useCallback((e) => {\n        setValue(toggleDirection(value));\n        onClick(e);\n    }, [onClick, setValue, value]);\n    return <ExpandButton {...props} open={open} onClick={handleClick} name={name} ref={ref}/>;\n});\nexport default DirectionButton;\n","export var GroupByFields;\n(function (GroupByFields) {\n    GroupByFields[\"Task\"] = \"task\";\n    GroupByFields[\"Time\"] = \"time\";\n})(GroupByFields || (GroupByFields = {}));\nexport var SortByFields;\n(function (SortByFields) {\n    SortByFields[\"Task\"] = \"task\";\n    SortByFields[\"Time\"] = \"time\";\n    SortByFields[\"Url\"] = \"url\";\n    SortByFields[\"Details\"] = \"details\";\n    SortByFields[\"Id\"] = \"id\";\n    SortByFields[\"Filename\"] = \"filename\";\n    SortByFields[\"Title\"] = \"title\";\n})(SortByFields || (SortByFields = {}));\n","import React from 'react';\nimport { Toolbar, Tooltip } from '@material-ui/core';\nimport { css } from '@emotion/core';\nimport SelectField from 'common/inputs/formik/SelectField';\nimport { Spacer } from 'common/styles';\nimport { useDebounceFormikSubmit } from 'utils/hooks';\nimport DirectionButton from 'common/inputs/formik/DirectionButton';\nimport { TaskContainer } from 'plugins/tasks/hooks';\nimport { useContainer } from 'unstated-next';\nimport { GroupByFields, SortByFields } from './types';\nconst fieldWrapper = css `\n  padding: 0.5rem 2rem 0.5rem;\n`;\nconst textField = css `\n  width: 7.5rem;\n`;\nconst selectField = css `\n  min-width: 20rem;\n`;\nconst groupByFields = [\n    {\n        value: GroupByFields.Task,\n        label: 'Task',\n    },\n    {\n        value: GroupByFields.Time,\n        label: 'Time',\n    },\n];\nconst sortByFields = [\n    {\n        value: SortByFields.Details,\n        label: 'Details',\n    },\n    {\n        value: SortByFields.Filename,\n        label: 'Filename',\n    },\n    {\n        value: SortByFields.Id,\n        label: 'ID',\n    },\n    {\n        value: SortByFields.Task,\n        label: 'Task',\n    },\n    {\n        value: SortByFields.Time,\n        label: 'Time',\n    },\n    {\n        value: SortByFields.Title,\n        label: 'Title',\n    },\n    {\n        value: SortByFields.Url,\n        label: 'URL',\n    },\n];\nconst FilterNav = () => {\n    const { tasks } = useContainer(TaskContainer);\n    useDebounceFormikSubmit();\n    return (<Toolbar>\n      <div css={fieldWrapper}>\n        <SelectField css={selectField} autoFocus id=\"task\" label=\"Task Name\" name=\"task\" options={tasks.map(({ name }) => ({ value: name, label: name }))}/>\n      </div>\n      <Spacer />\n      <div css={fieldWrapper}>\n        <SelectField id=\"sort\" name=\"sort\" label=\"Sort By\" options={sortByFields} css={textField}/>\n      </div>\n      <div>\n        <SelectField id=\"grouping\" label=\"Group By\" name=\"grouping\" options={groupByFields} css={textField}/>\n      </div>\n      <Tooltip title=\"Toggle Direction\">\n        <DirectionButton color=\"inherit\" name=\"order\" id=\"order\" aria-label=\"Toggle Direction\"/>\n      </Tooltip>\n    </Toolbar>);\n};\nexport default FilterNav;\n","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport withStyles from '../styles/withStyles';\nimport capitalize from '../utils/capitalize';\nexport var styles = function styles(theme) {\n  return {\n    /* Styles applied to the root element. */\n    root: {\n      boxSizing: 'border-box',\n      lineHeight: '48px',\n      listStyle: 'none',\n      color: theme.palette.text.secondary,\n      fontFamily: theme.typography.fontFamily,\n      fontWeight: theme.typography.fontWeightMedium,\n      fontSize: theme.typography.pxToRem(14)\n    },\n\n    /* Styles applied to the root element if `color=\"primary\"`. */\n    colorPrimary: {\n      color: theme.palette.primary.main\n    },\n\n    /* Styles applied to the root element if `color=\"inherit\"`. */\n    colorInherit: {\n      color: 'inherit'\n    },\n\n    /* Styles applied to the inner `component` element if `disableGutters={false}`. */\n    gutters: {\n      paddingLeft: 16,\n      paddingRight: 16\n    },\n\n    /* Styles applied to the root element if `inset={true}`. */\n    inset: {\n      paddingLeft: 72\n    },\n\n    /* Styles applied to the root element if `disableSticky={false}`. */\n    sticky: {\n      position: 'sticky',\n      top: 0,\n      zIndex: 1,\n      backgroundColor: 'inherit'\n    }\n  };\n};\nvar ListSubheader = React.forwardRef(function ListSubheader(props, ref) {\n  var classes = props.classes,\n      className = props.className,\n      _props$color = props.color,\n      color = _props$color === void 0 ? 'default' : _props$color,\n      _props$component = props.component,\n      Component = _props$component === void 0 ? 'li' : _props$component,\n      _props$disableGutters = props.disableGutters,\n      disableGutters = _props$disableGutters === void 0 ? false : _props$disableGutters,\n      _props$disableSticky = props.disableSticky,\n      disableSticky = _props$disableSticky === void 0 ? false : _props$disableSticky,\n      _props$inset = props.inset,\n      inset = _props$inset === void 0 ? false : _props$inset,\n      other = _objectWithoutProperties(props, [\"classes\", \"className\", \"color\", \"component\", \"disableGutters\", \"disableSticky\", \"inset\"]);\n\n  return React.createElement(Component, _extends({\n    className: clsx(classes.root, className, color !== 'default' && classes[\"color\".concat(capitalize(color))], inset && classes.inset, !disableSticky && classes.sticky, !disableGutters && classes.gutters),\n    ref: ref\n  }, other));\n});\nprocess.env.NODE_ENV !== \"production\" ? ListSubheader.propTypes = {\n  /**\n   * The content of the component.\n   */\n  children: PropTypes.node,\n\n  /**\n   * Override or extend the styles applied to the component.\n   * See [CSS API](#css) below for more details.\n   */\n  classes: PropTypes.object.isRequired,\n\n  /**\n   * @ignore\n   */\n  className: PropTypes.string,\n\n  /**\n   * The color of the component. It supports those theme colors that make sense for this component.\n   */\n  color: PropTypes.oneOf(['default', 'primary', 'inherit']),\n\n  /**\n   * The component used for the root node.\n   * Either a string to use a DOM element or a component.\n   */\n  component: PropTypes.elementType,\n\n  /**\n   * If `true`, the List Subheader will not have gutters.\n   */\n  disableGutters: PropTypes.bool,\n\n  /**\n   * If `true`, the List Subheader will not stick to the top during scroll.\n   */\n  disableSticky: PropTypes.bool,\n\n  /**\n   * If `true`, the List Subheader will be indented.\n   */\n  inset: PropTypes.bool\n} : void 0;\nexport default withStyles(styles, {\n  name: 'MuiListSubheader'\n})(ListSubheader);","import React from 'react';\nimport { CircularProgress } from '@material-ui/core';\nimport { css } from '@emotion/core';\nconst spinner = css `\n  margin: 0 auto;\n`;\nconst wrapper = css `\n  display: flex;\n  align-items: center;\n`;\nconst LoadingSpinner = ({ loading = false }) => {\n    if (loading) {\n        return (<div css={wrapper}>\n        <CircularProgress css={spinner}/>\n      </div>);\n    }\n    return null;\n};\nexport default LoadingSpinner;\n","export function groupBy(array, key, transform = f => `${f}`) {\n    return array.reduce((obj, curr) => {\n        const modKey = transform(curr[key]);\n        return {\n            ...obj,\n            [modKey]: obj[modKey] ? [...obj[modKey], curr] : [curr],\n        };\n    }, {});\n}\n","import { groupBy } from 'utils/array';\nimport { GroupByFields } from './types';\nexport const getGroupedHistory = (items, grouping) => groupBy(items, grouping, grouping === GroupByFields.Time ? (i) => i.split('T')[0] : undefined);\n","import { useReducer, useEffect } from 'react';\nimport { stringify } from 'qs';\nimport { useFlexgetAPI } from 'core/api';\nconst historyReducer = (state, { items, total, reset }) => {\n    if (reset) {\n        return {\n            items,\n            total,\n        };\n    }\n    return {\n        items: [...state.items, ...items],\n        total,\n    };\n};\nexport const useHistoryPlugin = (options) => {\n    const [state, dispatch] = useReducer(historyReducer, { items: [], total: 0 });\n    const [requestState, request] = useFlexgetAPI(`/history?${stringify(options)}`);\n    useEffect(() => {\n        const fn = async () => {\n            const resp = await request();\n            if (resp.ok) {\n                dispatch({\n                    items: resp.data,\n                    total: parseInt(resp.headers.get('total-count') ?? '0', 10),\n                    reset: options.page === 1,\n                });\n            }\n        };\n        fn();\n    }, [options.page, request]);\n    return { ...state, ...requestState };\n};\n","import React, { forwardRef, useMemo } from 'react';\nimport { ListItemText, ListItem, ListSubheader, List } from '@material-ui/core';\nimport InfiniteScroll from 'react-infinite-scroller';\nimport { GroupByFields } from 'plugins/history/types';\nimport LoadingSpinner from 'common/LoadingSpinner';\nimport { css } from '@emotion/core';\nimport { getGroupedHistory } from 'plugins/history/utils';\nimport { useHistoryPlugin } from './hooks';\nconst subheader = (theme) => css `\n  background-color: ${theme.palette.background.paper};\n`;\nconst wrapper = css `\n  overflow-y: scroll;\n  flex: 1;\n`;\nconst HistoryList = forwardRef(({ options, loadMore }, scrollRef) => {\n    const { items, total, loading } = useHistoryPlugin(options);\n    const history = useMemo(() => getGroupedHistory(items, options.grouping), [\n        items,\n        options.grouping,\n    ]);\n    return (<div css={wrapper}>\n      <InfiniteScroll hasMore={loading ? false : items.length < total} loadMore={loadMore} loader={<LoadingSpinner loading key={0}/>} ref={scrollRef} useWindow={false}>\n        {Object.entries(history).map(([header, histories]) => (<List key={header} subheader={<ListSubheader color=\"primary\" css={subheader}>\n                {header}\n              </ListSubheader>}>\n            {histories.map(({ id, title, time, task }) => (<ListItem key={id}>\n                <ListItemText primary={title} secondary={options.grouping === GroupByFields.Time ? task : new Date(time).toString()}/>\n              </ListItem>))}\n          </List>))}\n      </InfiniteScroll>\n    </div>);\n});\nexport default HistoryList;\n","import React, { useRef, useEffect, useCallback } from 'react';\nimport { findDOMNode } from 'react-dom';\nimport { hot } from 'react-hot-loader/root';\nimport { useInjectPageTitle } from 'core/layout/AppBar/hooks';\nimport { NoPaddingWrapper } from 'common/styles';\nimport { useMergeState } from 'utils/hooks';\nimport { Direction } from 'utils/query';\nimport { Formik } from 'formik';\nimport FilterNav from './FilterNav';\nimport HistoryList from './HistoryList';\nimport { GroupByFields, SortByFields } from './types';\nconst History = () => {\n    useInjectPageTitle('History');\n    const scroll = useRef(null);\n    const [options, setOptions] = useMergeState({\n        page: 1,\n        grouping: GroupByFields.Time,\n        sort: SortByFields.Time,\n        order: Direction.Desc,\n        task: '',\n    });\n    useEffect(() => {\n        if (scroll.current && options.page === 1) {\n            const node = findDOMNode(scroll.current); // eslint-disable-line react/no-find-dom-node\n            if (node && 'scrollIntoView' in node) {\n                node.scrollIntoView();\n            }\n            scroll.current.pageLoaded = 1;\n        }\n    }, [options.page]);\n    const loadMore = useCallback((page) => setOptions({ page }), [setOptions]);\n    return (<NoPaddingWrapper>\n      <Formik initialValues={options} onSubmit={values => setOptions({\n        ...values,\n        page: 1,\n    })}>\n        <FilterNav />\n      </Formik>\n      <HistoryList options={options} ref={scroll} loadMore={loadMore}/>\n    </NoPaddingWrapper>);\n};\nexport default hot(History);\n"],"sourceRoot":""}