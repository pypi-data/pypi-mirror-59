{"version":3,"sources":["webpack:///./src/common/inputs/formik/TextField.tsx","webpack:///./node_modules/@material-ui/core/esm/Card/Card.js","webpack:///./node_modules/@material-ui/core/esm/CardContent/CardContent.js","webpack:///./node_modules/@material-ui/core/esm/CardActions/CardActions.js","webpack:///./src/core/auth/LoginCard.tsx","webpack:///./src/common/WaveSpinner.tsx","webpack:///./src/core/auth/Logo.tsx","webpack:///./src/core/auth/Splash.tsx","webpack:///./src/core/auth/Login.tsx"],"names":["TextField","name","props","useField","field","touched","error","helperText","Card","forwardRef","ref","classes","className","_props$raised","raised","other","createElement","root","elevation","overflow","CardContent","_props$component","component","Component","padding","paddingBottom","CardActions","_props$disableSpacing","disableSpacing","spacing","display","alignItems","marginLeft","card","theme","css","breakpoints","up","errorMessage","palette","content","LoginCard","setLoggedIn","useContainer","AuthContainer","useFlexgetAPI","Method","Post","loading","login","initialValues","username","password","onSubmit","values","actions","ok","resetForm","message","id","label","autoFocus","type","Button","fullWidth","disabled","stretchDelay","keyframes","spinner","rect1","primary","main","rect2","rect3","rect4","rect5","WaveSpinner","logo","headerImage","Logo","SplashScreen","LoginPage","location","from","state","pathname","loggedIn","versionState","getVersion","useEffect","fn","Splash","to"],"mappings":"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","file":"12.1d158a9a2177db859dfc.js","sourcesContent":["import React from 'react';\nimport BaseTextField from '@material-ui/core/TextField';\nimport { useField } from 'formik';\nconst TextField = ({ name, ...props }) => {\n    const [field, { touched, error }] = useField(name);\n    return <BaseTextField error={touched && !!error} helperText={error} {...field} {...props}/>;\n};\nexport default TextField;\n","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport Paper from '../Paper';\nimport withStyles from '../styles/withStyles';\nexport var styles = {\n  /* Styles applied to the root element. */\n  root: {\n    overflow: 'hidden'\n  }\n};\nvar Card = React.forwardRef(function Card(props, ref) {\n  var classes = props.classes,\n      className = props.className,\n      _props$raised = props.raised,\n      raised = _props$raised === void 0 ? false : _props$raised,\n      other = _objectWithoutProperties(props, [\"classes\", \"className\", \"raised\"]);\n\n  return React.createElement(Paper, _extends({\n    className: clsx(classes.root, className),\n    elevation: raised ? 8 : 1,\n    ref: ref\n  }, other));\n});\nprocess.env.NODE_ENV !== \"production\" ? Card.propTypes = {\n  /**\n   * The content of the component.\n   */\n  children: PropTypes.node,\n\n  /**\n   * Override or extend the styles applied to the component.\n   * See [CSS API](#css) below for more details.\n   */\n  classes: PropTypes.object.isRequired,\n\n  /**\n   * @ignore\n   */\n  className: PropTypes.string,\n\n  /**\n   * If `true`, the card will use raised styling.\n   */\n  raised: PropTypes.bool\n} : void 0;\nexport default withStyles(styles, {\n  name: 'MuiCard'\n})(Card);","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport withStyles from '../styles/withStyles';\nexport var styles = {\n  /* Styles applied to the root element. */\n  root: {\n    padding: 16,\n    '&:last-child': {\n      paddingBottom: 24\n    }\n  }\n};\nvar CardContent = React.forwardRef(function CardContent(props, ref) {\n  var classes = props.classes,\n      className = props.className,\n      _props$component = props.component,\n      Component = _props$component === void 0 ? 'div' : _props$component,\n      other = _objectWithoutProperties(props, [\"classes\", \"className\", \"component\"]);\n\n  return React.createElement(Component, _extends({\n    className: clsx(classes.root, className),\n    ref: ref\n  }, other));\n});\nprocess.env.NODE_ENV !== \"production\" ? CardContent.propTypes = {\n  /**\n   * The content of the component.\n   */\n  children: PropTypes.node,\n\n  /**\n   * Override or extend the styles applied to the component.\n   * See [CSS API](#css) below for more details.\n   */\n  classes: PropTypes.object.isRequired,\n\n  /**\n   * @ignore\n   */\n  className: PropTypes.string,\n\n  /**\n   * The component used for the root node.\n   * Either a string to use a DOM element or a component.\n   */\n  component: PropTypes.elementType\n} : void 0;\nexport default withStyles(styles, {\n  name: 'MuiCardContent'\n})(CardContent);","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport withStyles from '../styles/withStyles';\nexport var styles = {\n  /* Styles applied to the root element. */\n  root: {\n    display: 'flex',\n    alignItems: 'center',\n    padding: 8\n  },\n\n  /* Styles applied to the root element if `disableSpacing={false}`. */\n  spacing: {\n    '& > :not(:first-child)': {\n      marginLeft: 8\n    }\n  }\n};\nvar CardActions = React.forwardRef(function CardActions(props, ref) {\n  var _props$disableSpacing = props.disableSpacing,\n      disableSpacing = _props$disableSpacing === void 0 ? false : _props$disableSpacing,\n      classes = props.classes,\n      className = props.className,\n      other = _objectWithoutProperties(props, [\"disableSpacing\", \"classes\", \"className\"]);\n\n  return React.createElement(\"div\", _extends({\n    className: clsx(classes.root, className, !disableSpacing && classes.spacing),\n    ref: ref\n  }, other));\n});\nprocess.env.NODE_ENV !== \"production\" ? CardActions.propTypes = {\n  /**\n   * The content of the component.\n   */\n  children: PropTypes.node,\n\n  /**\n   * Override or extend the styles applied to the component.\n   * See [CSS API](#css) below for more details.\n   */\n  classes: PropTypes.object.isRequired,\n\n  /**\n   * @ignore\n   */\n  className: PropTypes.string,\n\n  /**\n   * If `true`, the actions do not have additional margin.\n   */\n  disableSpacing: PropTypes.bool\n} : void 0;\nexport default withStyles(styles, {\n  name: 'MuiCardActions'\n})(CardActions);","import React from 'react';\nimport { Form, Formik } from 'formik';\nimport { useContainer } from 'unstated-next';\nimport { css } from '@emotion/core';\nimport { CardContent, Card, Button, CardActions } from '@material-ui/core';\nimport { useFlexgetAPI } from 'core/api';\nimport { Method } from 'utils/fetch';\nimport TextField from 'common/inputs/formik/TextField';\nimport { AuthContainer } from './container';\nconst card = (theme) => css `\n  max-width: 40rem;\n  margin: 0 1rem;\n  ${theme.breakpoints.up('sm')} {\n    margin: 0 auto;\n  }\n`;\nconst field = css `\n  padding-bottom: 1rem;\n`;\nconst errorMessage = (theme) => css `\n  color: ${theme.palette.error[500]};\n  text-align: center;\n  padding: 1rem;\n`;\nconst content = css `\n  display: flex;\n  flex-direction: column;\n`;\nconst LoginCard = () => {\n    const initialValues = { username: 'flexget', password: '' };\n    const [, setLoggedIn] = useContainer(AuthContainer);\n    const [{ error, loading }, login] = useFlexgetAPI('/auth/login', Method.Post);\n    return (<Card css={card}>\n      <Formik initialValues={initialValues} onSubmit={async (values, actions) => {\n        const resp = await login(values);\n        if (resp.ok) {\n            actions.resetForm();\n            setLoggedIn(true);\n        }\n    }}>\n        <Form>\n          <CardContent css={content}>\n            <div css={errorMessage}>{error?.message}</div>\n            <TextField css={field} name=\"username\" id=\"username\" label=\"Username\" autoFocus/>\n            <TextField css={field} name=\"password\" id=\"password\" label=\"Password\" type=\"Password\"/>\n          </CardContent>\n          <CardActions>\n            <Button type=\"submit\" fullWidth disabled={loading}>\n              Login\n            </Button>\n          </CardActions>\n        </Form>\n      </Formik>\n    </Card>);\n};\nexport default LoginCard;\n","import React from 'react';\nimport { keyframes, css } from '@emotion/core';\nconst stretchDelay = keyframes `\n  0%, 40%, 100% {\n    transform: scaleY(0.4);\n  }\n\n  20% {\n    transform: scaleY(1.0);\n  }\n`;\nconst spinner = css `\n  margin: 10rem auto;\n  width: 5rem;\n  height: 4rem;\n  text-align: center;\n  font-size: 1rem;\n`;\nconst rect1 = (theme) => css `\n  background-color: ${theme.palette.primary.main};\n  height: 100%;\n  width: 0.6rem;\n  display: inline-block;\n  margin: 0.1rem;\n  animation: ${stretchDelay} 1.2s infinite ease-in-out;\n`;\nconst rect2 = (theme) => css `\n  ${rect1(theme)};\n  animation-delay: -1.1s;\n`;\nconst rect3 = (theme) => css `\n  ${rect1(theme)};\n  animation-delay: -1s;\n`;\nconst rect4 = (theme) => css `\n  ${rect1(theme)};\n  animation-delay: -0.9s;\n`;\nconst rect5 = (theme) => css `\n  ${rect1(theme)};\n  animation-delay: -0.8s;\n`;\nconst WaveSpinner = () => (<div css={spinner}>\n    <div css={rect1}/>\n    <div css={rect2}/>\n    <div css={rect3}/>\n    <div css={rect4}/>\n    <div css={rect5}/>\n  </div>);\nexport default WaveSpinner;\n","import React from 'react';\nimport { css } from '@emotion/core';\nimport headerImage from 'images/header.png';\nexport const logo = (theme) => css `\n  background: transparent url(${headerImage}) no-repeat center;\n  min-height: 9rem;\n  background-size: 100% auto;\n  margin: 0 1rem;\n  ${theme.breakpoints.up('sm')} {\n    background-size: auto;\n  }\n`;\nconst Logo = () => <div css={logo}/>;\nexport default Logo;\n","import React from 'react';\nimport WaveSpinner from 'common/WaveSpinner';\nimport Logo from './Logo';\nconst SplashScreen = () => (<div>\n    <Logo />\n    <WaveSpinner />\n  </div>);\nexport default SplashScreen;\n","import React, { useEffect } from 'react';\nimport { useContainer } from 'unstated-next';\nimport { Redirect } from 'react-router-dom';\nimport { AuthContainer } from 'core/auth/container';\nimport { useFlexgetAPI } from 'core/api';\nimport LoginCard from './LoginCard';\nimport SplashScreen from './Splash';\nimport Logo from './Logo';\nconst LoginPage = ({ location }) => {\n    const { from } = location?.state || { from: { pathname: '/' } };\n    const [loggedIn, setLoggedIn] = useContainer(AuthContainer);\n    const [versionState, getVersion] = useFlexgetAPI('/server/version');\n    useEffect(() => {\n        const fn = async () => {\n            const resp = await getVersion();\n            if (resp.ok) {\n                setLoggedIn(true);\n            }\n        };\n        fn();\n    }, [getVersion, setLoggedIn]);\n    if (versionState.loading) {\n        return <SplashScreen />;\n    }\n    if (loggedIn) {\n        return <Redirect to={from}/>;\n    }\n    return (<div>\n      <Logo />\n      <LoginCard />\n    </div>);\n};\nexport default LoginPage;\n"],"sourceRoot":""}